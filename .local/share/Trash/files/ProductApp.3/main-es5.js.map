{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/ang-modules/ang-modules.module.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/directives/numerics.directive.ts","webpack:///src/app/views/excel-export/excel-export.component.ts","webpack:///src/app/views/weekly-supply/weekly-supply.component.ts","webpack:///src/app/views/weekly-supply/weekly-supply.component.html","webpack:///src/app/views/wos-category/wos-category.component.ts","webpack:///src/app/views/wos-category/wos-category.component.html","webpack:///src/app/views/wos-master/wos-master.component.ts","webpack:///src/app/views/wos-master/wos-master.component.html","webpack:///src/app/views/wos-warehouse/wos-warehouse.component.ts","webpack:///src/app/views/wos-warehouse/wos-warehouse.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","map","webpackContext","webpackContextResolve","__webpack_require__","o","webpackContextKeys","Object","AngModulesModule","declarations","routes","path","component","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","provide","useValue","providers","bootstrap","NumericsDirective","_el","event","_value","nativeElement","value","regex","console","log","test","replace","ExcelExportComponent","params","_dates","rawData","netUnits","whs","sheetName","type","_dateHeader","forEach","i","index","push","header","key","width","workbook","sheet","addWorksheet","columns","row","getRow","getCell","item","_item","_restOfRows","toString","alignment","vertical","horizontal","_units","_index","Math","round","units","toLocaleString","xlsx","writeBuffer","buffer","fileType","fileExtension","blob","Blob","WeeklySupplyComponent","editId","wosArr","filteredSku","skuList","filteredWhs","whsList","month","distinctMonths","filterMdl","sku","isSkuLoading","isWHSLoading","disableWHS","isLoading","wosVisible","getSKU","getItemFromDataset","keyItems","parseInt","reduce","a","b","length","proposedO","$","val","poInPercent","proposedI","outgoing","incoming","totalInv","text","sum","wosCalc_","_mnthStock","_pOutgoing","_outgoingSum","_wos","_stockBlnc","_days","daysInMonth","_totlMnths","formatWos","addClass","j","level2_outgoings","removeClass","_stockRqdPerDay","_canServeFor","_requirement","_canServe","indexOf","_forecast","_og","wos","_wosCalculations","qtyOnHand","obj","source","_keys","filtrQtyOnHand","missed","filter","dt","find","fnd","date","isQtyOnHnd","sort","compare","dateA","Date","dateB","setTimeout","currentDate","startOf","format","tillDate","add","query","domo","get","data","getWeekOfSupplies","toggleClass","option","toLowerCase","filterWareHouse","_whsList","listItems","post","contentType","charCode","toggleFilter","getWHS","WosCategoryComponent","_notify","_toXl","subCategoryList","subCategory","ItemMdl","WHSMdl","WHSQry","ItemQry","WHSFlag","selectedWHS","selectedItem","isSubCategoryLoading","disableItem","getSubCategory","proposedCalc","_incomingSum","calcQtyOnHand","sign","propO","propI","includes","totlMnths","proposedInv","_filteredQty","_qtySumming","_finalQtyOnHand","_group","_previousInfo","_currentInfo","getMonth","constructUnits","sumAllWhs","subcategory","param","handleMultiselect","handleQuery","calculateNetWos","bool","listItems_WHS","label","el","proposed","allowedKeys","msg","create","xlObj","getNetUnits","constructRawData","toExcel","_rawData","_size","_pWOS","_pNet","_netWos","pWOS","total","WosMasterComponent","masterItemList","masterItem","isMasterItemLoading","getMasterItem","WosWarehouseComponent","handleWHSList","environment","production","bootstrapModule","err","error"],"mappings":";;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;ACZA,QAAIC,GAAG,GAAG;AACT,cAAQ,oCADC;AAET,iBAAW,oCAFF;AAGT,cAAQ,oCAHC;AAIT,iBAAW,uCAJF;AAKT,oBAAc,uCALL;AAMT,iBAAW,uCANF;AAOT,oBAAc,uCAPL;AAQT,iBAAW,uCARF;AAST,oBAAc,uCATL;AAUT,iBAAW,uCAVF;AAWT,oBAAc,uCAXL;AAYT,iBAAW,uCAZF;AAaT,oBAAc,uCAbL;AAcT,iBAAW,uCAdF;AAeT,oBAAc,uCAfL;AAgBT,iBAAW,oCAhBF;AAiBT,cAAQ,oCAjBC;AAkBT,iBAAW,oCAlBF;AAmBT,cAAQ,oCAnBC;AAoBT,iBAAW,oCApBF;AAqBT,cAAQ,oCArBC;AAsBT,iBAAW,oCAtBF;AAuBT,cAAQ,oCAvBC;AAwBT,iBAAW,oCAxBF;AAyBT,cAAQ,oCAzBC;AA0BT,iBAAW,uCA1BF;AA2BT,oBAAc,uCA3BL;AA4BT,iBAAW,oCA5BF;AA6BT,cAAQ,oCA7BC;AA8BT,iBAAW,oCA9BF;AA+BT,cAAQ,oCA/BC;AAgCT,iBAAW,oCAhCF;AAiCT,cAAQ,oCAjCC;AAkCT,iBAAW,oCAlCF;AAmCT,cAAQ,oCAnCC;AAoCT,iBAAW,oCApCF;AAqCT,cAAQ,oCArCC;AAsCT,iBAAW,oCAtCF;AAuCT,cAAQ,oCAvCC;AAwCT,iBAAW,oCAxCF;AAyCT,cAAQ,oCAzCC;AA0CT,iBAAW,oCA1CF;AA2CT,cAAQ,oCA3CC;AA4CT,iBAAW,oCA5CF;AA6CT,cAAQ,oCA7CC;AA8CT,iBAAW,uCA9CF;AA+CT,oBAAc,uCA/CL;AAgDT,iBAAW,uCAhDF;AAiDT,oBAAc,uCAjDL;AAkDT,iBAAW,oCAlDF;AAmDT,cAAQ,oCAnDC;AAoDT,iBAAW,oCApDF;AAqDT,cAAQ,oCArDC;AAsDT,iBAAW,oCAtDF;AAuDT,iBAAW,uCAvDF;AAwDT,oBAAc,uCAxDL;AAyDT,iBAAW,uCAzDF;AA0DT,oBAAc,uCA1DL;AA2DT,iBAAW,uCA3DF;AA4DT,oBAAc,uCA5DL;AA6DT,iBAAW,uCA7DF;AA8DT,oBAAc,uCA9DL;AA+DT,iBAAW,uCA/DF;AAgET,oBAAc,uCAhEL;AAiET,iBAAW,uCAjEF;AAkET,oBAAc,uCAlEL;AAmET,iBAAW,uCAnEF;AAoET,oBAAc,uCApEL;AAqET,iBAAW,uCArEF;AAsET,oBAAc,uCAtEL;AAuET,cAAQ,oCAvEC;AAwET,iBAAW,oCAxEF;AAyET,cAAQ,oCAzEC;AA0ET,iBAAW,uCA1EF;AA2ET,oBAAc,uCA3EL;AA4ET,iBAAW,uCA5EF;AA6ET,oBAAc,uCA7EL;AA8ET,iBAAW,uCA9EF;AA+ET,oBAAc,uCA/EL;AAgFT,iBAAW,oCAhFF;AAiFT,cAAQ,oCAjFC;AAkFT,iBAAW,oCAlFF;AAmFT,cAAQ,oCAnFC;AAoFT,iBAAW,oCApFF;AAqFT,cAAQ,oCArFC;AAsFT,iBAAW,oCAtFF;AAuFT,cAAQ,oCAvFC;AAwFT,iBAAW,oCAxFF;AAyFT,eAAS,qCAzFA;AA0FT,kBAAY,qCA1FH;AA2FT,cAAQ,oCA3FC;AA4FT,iBAAW,oCA5FF;AA6FT,cAAQ,oCA7FC;AA8FT,iBAAW,uCA9FF;AA+FT,oBAAc,uCA/FL;AAgGT,iBAAW,uCAhGF;AAiGT,oBAAc,uCAjGL;AAkGT,iBAAW,oCAlGF;AAmGT,cAAQ,oCAnGC;AAoGT,iBAAW,oCApGF;AAqGT,cAAQ,oCArGC;AAsGT,iBAAW,oCAtGF;AAuGT,cAAQ,oCAvGC;AAwGT,iBAAW,oCAxGF;AAyGT,cAAQ,oCAzGC;AA0GT,iBAAW,oCA1GF;AA2GT,oBAAc,0CA3GL;AA4GT,uBAAiB,0CA5GR;AA6GT,oBAAc,0CA7GL;AA8GT,uBAAiB,0CA9GR;AA+GT,cAAQ,oCA/GC;AAgHT,iBAAW,oCAhHF;AAiHT,cAAQ,oCAjHC;AAkHT,iBAAW,oCAlHF;AAmHT,cAAQ,oCAnHC;AAoHT,iBAAW,oCApHF;AAqHT,cAAQ,oCArHC;AAsHT,iBAAW,oCAtHF;AAuHT,cAAQ,oCAvHC;AAwHT,iBAAW,oCAxHF;AAyHT,iBAAW,uCAzHF;AA0HT,oBAAc,uCA1HL;AA2HT,cAAQ,oCA3HC;AA4HT,iBAAW,oCA5HF;AA6HT,cAAQ,oCA7HC;AA8HT,iBAAW,oCA9HF;AA+HT,cAAQ,oCA/HC;AAgIT,iBAAW,uCAhIF;AAiIT,oBAAc,uCAjIL;AAkIT,iBAAW,oCAlIF;AAmIT,cAAQ,oCAnIC;AAoIT,iBAAW,oCApIF;AAqIT,cAAQ,oCArIC;AAsIT,iBAAW,oCAtIF;AAuIT,cAAQ,oCAvIC;AAwIT,iBAAW,oCAxIF;AAyIT,cAAQ,oCAzIC;AA0IT,iBAAW,oCA1IF;AA2IT,cAAQ,oCA3IC;AA4IT,iBAAW,oCA5IF;AA6IT,cAAQ,oCA7IC;AA8IT,iBAAW,oCA9IF;AA+IT,cAAQ,oCA/IC;AAgJT,iBAAW,oCAhJF;AAiJT,cAAQ,oCAjJC;AAkJT,iBAAW,oCAlJF;AAmJT,cAAQ,oCAnJC;AAoJT,iBAAW,oCApJF;AAqJT,cAAQ,oCArJC;AAsJT,iBAAW,oCAtJF;AAuJT,cAAQ,oCAvJC;AAwJT,iBAAW,oCAxJF;AAyJT,cAAQ,oCAzJC;AA0JT,iBAAW,oCA1JF;AA2JT,cAAQ,oCA3JC;AA4JT,iBAAW,oCA5JF;AA6JT,cAAQ,oCA7JC;AA8JT,iBAAW,oCA9JF;AA+JT,cAAQ,oCA/JC;AAgKT,iBAAW,oCAhKF;AAiKT,cAAQ,oCAjKC;AAkKT,iBAAW,oCAlKF;AAmKT,cAAQ,oCAnKC;AAoKT,iBAAW,oCApKF;AAqKT,cAAQ,oCArKC;AAsKT,iBAAW,oCAtKF;AAuKT,cAAQ,oCAvKC;AAwKT,iBAAW,oCAxKF;AAyKT,cAAQ,oCAzKC;AA0KT,iBAAW,uCA1KF;AA2KT,oBAAc,uCA3KL;AA4KT,iBAAW,oCA5KF;AA6KT,cAAQ,oCA7KC;AA8KT,iBAAW,oCA9KF;AA+KT,cAAQ,oCA/KC;AAgLT,iBAAW,oCAhLF;AAiLT,cAAQ,oCAjLC;AAkLT,iBAAW,oCAlLF;AAmLT,cAAQ,oCAnLC;AAoLT,iBAAW,oCApLF;AAqLT,cAAQ,oCArLC;AAsLT,iBAAW,uCAtLF;AAuLT,oBAAc,uCAvLL;AAwLT,iBAAW,oCAxLF;AAyLT,cAAQ,oCAzLC;AA0LT,iBAAW,oCA1LF;AA2LT,kBAAY,wCA3LH;AA4LT,qBAAe,wCA5LN;AA6LT,iBAAW,uCA7LF;AA8LT,oBAAc,uCA9LL;AA+LT,cAAQ,oCA/LC;AAgMT,iBAAW,oCAhMF;AAiMT,cAAQ,oCAjMC;AAkMT,iBAAW,uCAlMF;AAmMT,oBAAc,uCAnML;AAoMT,iBAAW,oCApMF;AAqMT,cAAQ,oCArMC;AAsMT,iBAAW,oCAtMF;AAuMT,cAAQ,oCAvMC;AAwMT,iBAAW,oCAxMF;AAyMT,cAAQ,oCAzMC;AA0MT,iBAAW,oCA1MF;AA2MT,cAAQ,oCA3MC;AA4MT,iBAAW,oCA5MF;AA6MT,cAAQ,oCA7MC;AA8MT,iBAAW,oCA9MF;AA+MT,cAAQ,oCA/MC;AAgNT,iBAAW,oCAhNF;AAiNT,cAAQ,oCAjNC;AAkNT,iBAAW,oCAlNF;AAmNT,cAAQ,oCAnNC;AAoNT,iBAAW,oCApNF;AAqNT,cAAQ,oCArNC;AAsNT,mBAAa,yCAtNJ;AAuNT,sBAAgB,yCAvNP;AAwNT,iBAAW,oCAxNF;AAyNT,cAAQ,oCAzNC;AA0NT,iBAAW,oCA1NF;AA2NT,cAAQ,oCA3NC;AA4NT,iBAAW,oCA5NF;AA6NT,cAAQ,oCA7NC;AA8NT,iBAAW,oCA9NF;AA+NT,cAAQ,oCA/NC;AAgOT,iBAAW,oCAhOF;AAiOT,cAAQ,oCAjOC;AAkOT,iBAAW,oCAlOF;AAmOT,eAAS,qCAnOA;AAoOT,kBAAY,qCApOH;AAqOT,cAAQ,oCArOC;AAsOT,iBAAW,oCAtOF;AAuOT,cAAQ,oCAvOC;AAwOT,iBAAW,oCAxOF;AAyOT,cAAQ,oCAzOC;AA0OT,iBAAW,oCA1OF;AA2OT,iBAAW,uCA3OF;AA4OT,oBAAc,uCA5OL;AA6OT,eAAS,qCA7OA;AA8OT,kBAAY,qCA9OH;AA+OT,cAAQ,oCA/OC;AAgPT,iBAAW,oCAhPF;AAiPT,eAAS,qCAjPA;AAkPT,kBAAY,qCAlPH;AAmPT,eAAS,qCAnPA;AAoPT,oBAAc,0CApPL;AAqPT,uBAAiB,0CArPR;AAsPT,kBAAY,qCAtPH;AAuPT,iBAAW,uCAvPF;AAwPT,oBAAc,uCAxPL;AAyPT,cAAQ,oCAzPC;AA0PT,iBAAW,oCA1PF;AA2PT,cAAQ,oCA3PC;AA4PT,iBAAW,oCA5PF;AA6PT,cAAQ,oCA7PC;AA8PT,mBAAa,yCA9PJ;AA+PT,sBAAgB,yCA/PP;AAgQT,iBAAW,oCAhQF;AAiQT,cAAQ,oCAjQC;AAkQT,iBAAW,oCAlQF;AAmQT,oBAAc,0CAnQL;AAoQT,uBAAiB,0CApQR;AAqQT,cAAQ,oCArQC;AAsQT,iBAAW,oCAtQF;AAuQT,iBAAW,uCAvQF;AAwQT,oBAAc,uCAxQL;AAyQT,iBAAW,uCAzQF;AA0QT,oBAAc,uCA1QL;AA2QT,iBAAW,uCA3QF;AA4QT,oBAAc,uCA5QL;AA6QT,iBAAW,uCA7QF;AA8QT,oBAAc;AA9QL,KAAV;;AAkRA,aAASC,cAAT,CAAwBZ,GAAxB,EAA6B;AAC5B,UAAIU,EAAE,GAAGG,qBAAqB,CAACb,GAAD,CAA9B;AACA,aAAOc,mBAAmB,CAACJ,EAAD,CAA1B;AACA;;AACD,aAASG,qBAAT,CAA+Bb,GAA/B,EAAoC;AACnC,UAAG,CAACc,mBAAmB,CAACC,CAApB,CAAsBJ,GAAtB,EAA2BX,GAA3B,CAAJ,EAAqC;AACpC,YAAII,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA;;AACD,aAAOO,GAAG,CAACX,GAAD,CAAV;AACA;;AACDY,kBAAc,CAACL,IAAf,GAAsB,SAASS,kBAAT,GAA8B;AACnD,aAAOC,MAAM,CAACV,IAAP,CAAYI,GAAZ,CAAP;AACA,KAFD;;AAGAC,kBAAc,CAACV,OAAf,GAAyBW,qBAAzB;AACAL,UAAM,CAACC,OAAP,GAAiBG,cAAjB;AACAA,kBAAc,CAACF,EAAf,GAAoB,wDAApB;;;;;;;;;;;;;;;;ACnSA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QA4IaQ,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBAnEzB,iEAmEyB,EAlEzB,iEAkEyB,EAjEzB,mEAiEyB,EAhEzB,gFAgEyB,EA/DzB,mEA+DyB,EA9DzB,sEA8DyB,EA7DzB,iEA6DyB,EA5DzB,mEA4DyB,EA3DzB,2EA2DyB,EA1DzB,wEA0DyB,EAzDzB,gEAyDyB,EAxDzB,wEAwDyB,EAvDzB,wEAuDyB,EAtDzB,wEAsDyB,EArDzB,wEAqDyB,EApDzB,sEAoDyB,EAnDzB,6EAmDyB,EAlDzB,gFAkDyB,EAjDzB,sEAiDyB,EAhDzB,oEAgDyB,EA/CzB,wEA+CyB,EA9CzB,kEA8CyB,EA7CzB,gEA6CyB,EA5CzB,gEA4CyB,EA3CzB,gEA2CyB,EA1CzB,gEA0CyB,EAzCzB,kEAyCyB,EAxCzB,+EAwCyB,EAvCzB,oEAuCyB,EAtCzB,gEAsCyB,EArCzB,sEAqCyB,EApCzB,gEAoCyB,EAnCzB,sEAmCyB,EAlCzB,kEAkCyB,EAjCzB,oFAiCyB,EAhCzB,gFAgCyB,EA/BzB,6EA+ByB,EA9BzB,4EA8ByB,EA7BzB,4EA6ByB,EA5BzB,sEA4ByB,EA3BzB,wEA2ByB,EA1BzB,kEA0ByB,EAzBzB,gEAyByB,EAxBzB,oEAwByB,EAvBzB,oEAuByB,EAtBzB,wEAsByB,EArBzB,oEAqByB,EApBzB,gEAoByB,EAnBzB,0EAmByB,EAlBzB,kEAkByB,EAjBzB,oEAiByB,EAhBzB,kEAgByB,EAfzB,gEAeyB,EAdzB,8DAcyB,EAbzB,6EAayB,EAZzB,wEAYyB,EAXzB,sEAWyB,EAVzB,oFAUyB,EATzB,wEASyB,EARzB,gEAQyB,EAPzB,6EAOyB,EANzB,4EAMyB,EALzB,oEAKyB,EAJzB,qEAIyB,EAHzB,0EAGyB;;;;0HAAhBA,gB,EAAgB;AAAA,kBAnEzB,iEAmEyB,EAlEzB,iEAkEyB,EAjEzB,mEAiEyB,EAhEzB,gFAgEyB,EA/DzB,mEA+DyB,EA9DzB,sEA8DyB,EA7DzB,iEA6DyB,EA5DzB,mEA4DyB,EA3DzB,2EA2DyB,EA1DzB,wEA0DyB,EAzDzB,gEAyDyB,EAxDzB,wEAwDyB,EAvDzB,wEAuDyB,EAtDzB,wEAsDyB,EArDzB,wEAqDyB,EApDzB,sEAoDyB,EAnDzB,6EAmDyB,EAlDzB,gFAkDyB,EAjDzB,sEAiDyB,EAhDzB,oEAgDyB,EA/CzB,wEA+CyB,EA9CzB,kEA8CyB,EA7CzB,gEA6CyB,EA5CzB,gEA4CyB,EA3CzB,gEA2CyB,EA1CzB,gEA0CyB,EAzCzB,kEAyCyB,EAxCzB,+EAwCyB,EAvCzB,oEAuCyB,EAtCzB,gEAsCyB,EArCzB,sEAqCyB,EApCzB,gEAoCyB,EAnCzB,sEAmCyB,EAlCzB,kEAkCyB,EAjCzB,oFAiCyB,EAhCzB,gFAgCyB,EA/BzB,6EA+ByB,EA9BzB,4EA8ByB,EA7BzB,4EA6ByB,EA5BzB,sEA4ByB,EA3BzB,wEA2ByB,EA1BzB,kEA0ByB,EAzBzB,gEAyByB,EAxBzB,oEAwByB,EAvBzB,oEAuByB,EAtBzB,wEAsByB,EArBzB,oEAqByB,EApBzB,gEAoByB,EAnBzB,0EAmByB,EAlBzB,kEAkByB,EAjBzB,oEAiByB,EAhBzB,kEAgByB,EAfzB,gEAeyB,EAdzB,8DAcyB,EAbzB,6EAayB,EAZzB,wEAYyB,EAXzB,sEAWyB,EAVzB,oFAUyB,EATzB,wEASyB,EARzB,gEAQyB,EAPzB,6EAOyB,EANzB,4EAMyB,EALzB,oEAKyB,EAJzB,qEAIyB,EAHzB,0EAGyB;AAAA,O;AAHR,K;;;;;sEAGRA,gB,EAAgB;cAtE5B,sDAsE4B;eAtEnB;AACRC,sBAAY,EAAE,EADN;AAERV,iBAAO,EAAE,CACP,iEADO,EAEP,iEAFO,EAGP,mEAHO,EAIP,gFAJO,EAKP,mEALO,EAMP,sEANO,EAOP,iEAPO,EAQP,mEARO,EASP,2EATO,EAUP,wEAVO,EAWP,gEAXO,EAYP,wEAZO,EAaP,wEAbO,EAcP,wEAdO,EAeP,wEAfO,EAgBP,sEAhBO,EAiBP,6EAjBO,EAkBP,gFAlBO,EAmBP,sEAnBO,EAoBP,oEApBO,EAqBP,wEArBO,EAsBP,kEAtBO,EAuBP,gEAvBO,EAwBP,gEAxBO,EAyBP,gEAzBO,EA0BP,gEA1BO,EA2BP,kEA3BO,EA4BP,+EA5BO,EA6BP,oEA7BO,EA8BP,gEA9BO,EA+BP,sEA/BO,EAgCP,gEAhCO,EAiCP,sEAjCO,EAkCP,kEAlCO,EAmCP,oFAnCO,EAoCP,gFApCO,EAqCP,6EArCO,EAsCP,4EAtCO,EAuCP,4EAvCO,EAwCP,sEAxCO,EAyCP,wEAzCO,EA0CP,kEA1CO,EA2CP,gEA3CO,EA4CP,oEA5CO,EA6CP,oEA7CO,EA8CP,wEA9CO,EA+CP,oEA/CO,EAgDP,gEAhDO,EAiDP,0EAjDO,EAkDP,kEAlDO,EAmDP,oEAnDO,EAoDP,kEApDO,EAqDP,gEArDO,EAsDP,8DAtDO,EAuDP,6EAvDO,EAwDP,wEAxDO,EAyDP,sEAzDO,EA0DP,oFA1DO,EA2DP,wEA3DO,EA4DP,gEA5DO,EA6DP,6EA7DO,EA8DP,4EA9DO,EA+DP,oEA/DO,EAgEP,qEAhEO,EAiEP,0EAjEO;AAFD,S;AAsEmB,Q;;;;;;;;;;;;;;;;;;AC5I7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAQA,QAAMW,MAAM,GAAW,CACrB;AAAEC,UAAI,EAAE,EAAR;AAAYC,eAAS,EAAE;AAAvB,KADqB,EAErB;AAAED,UAAI,EAAE,uBAAR;AAAiCC,eAAS,EAAE;AAA5C,KAFqB,EAGrB;AAAED,UAAI,EAAE,0BAAR;AAAoCC,eAAS,EAAE;AAA/C,KAHqB,EAIrB;AAAED,UAAI,EAAE,yBAAR;AAAmCC,eAAS,EAAE;AAA9C,KAJqB,CAAvB;;QAWaC,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBAHlB,CAAC,6DAAaC,OAAb,CAAqBJ,MAArB,CAAD,CAGkB,EAFjB,4DAEiB;;;;0HAAhBG,gB,EAAgB;AAAA;AAAA,kBAFjB,4DAEiB;AAAA,O;AAFL,K;;;;;sEAEXA,gB,EAAgB;cAJ5B,sDAI4B;eAJnB;AACRE,iBAAO,EAAE,CAAC,6DAAaD,OAAb,CAAqBJ,MAArB,CAAD,CADD;AAERX,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAImB,Q;;;;;;;;;;;;;;;;;;ACnB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaiB,Y,GALb;AAAA;;AAME,WAAAC,KAAA,GAAQ,gBAAR;AACD,K;;;uBAFYD,Y;AAAY,K;;;YAAZA,Y;AAAY,+B;AAAA,c;AAAA,a;AAAA;AAAA;ACPzB;;;;;;;;;sEDOaA,Y,EAAY;cALxB,uDAKwB;eALd;AACTE,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,sBAFJ;AAGTC,mBAAS,EAAE,CAAC,sBAAD;AAHF,S;AAKc,Q;;;;;;;;;;;;;;;;;;AEPzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAoBA,+EAAmB,kEAAnB;;QAwBaC,S;;;;;YAAAA,S;AAAS,kBAFR,2DAEQ;;;;yBAATA,S;AAAS,O;AAAA,iBAJT,CAAC;AAAEC,eAAO,EAAE,0DAAX;AAAoBC,gBAAQ,EAAE;AAA9B,OAAD,EACT,gGADS,C;AACY,gBATd,CACP,uEADO,EAEP,oEAFO,EAGP,0DAHO,EAIP,qEAJO,EAKP,4FALO,EAMP,iFANO,CASc;;;;0HAGZF,S,EAAS;AAAA,uBApBlB,2DAoBkB,EAnBlB,kGAmBkB,EAlBlB,mGAkBkB,EAjBlB,gGAiBkB,EAhBlB,0FAgBkB,EAflB,gGAekB,EAdlB,iFAckB;AAdD,kBAGjB,uEAHiB,EAIjB,oEAJiB,EAKjB,0DALiB,EAMjB,qEANiB,EAOjB,4FAPiB,EAQjB,iFARiB;AAcC,O;AANF,K;;;;;sEAMPA,S,EAAS;cAtBrB,sDAsBqB;eAtBZ;AACRZ,sBAAY,EAAE,CACZ,2DADY,EAEZ,kGAFY,EAGZ,mGAHY,EAIZ,gGAJY,EAKZ,0FALY,EAMZ,gGANY,EAOZ,iFAPY,CADN;AAURM,iBAAO,EAAE,CACP,uEADO,EAEP,oEAFO,EAGP,0DAHO,EAIP,qEAJO,EAKP,4FALO,EAMP,iFANO,CAVD;AAkBRS,mBAAS,EAAE,CAAC;AAAEF,mBAAO,EAAE,0DAAX;AAAoBC,oBAAQ,EAAE;AAA9B,WAAD,EACT,gGADS,CAlBH;AAoBRE,mBAAS,EAAE,CAAC,2DAAD;AApBH,S;AAsBY,Q;;;;;;;;;;;;;;;;;;AC5CtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAKaC,iB;AAEX,iCAAoBC,GAApB,EAAqC;AAAA;;AAAjB,aAAAA,GAAA,GAAAA,GAAA;AAAoB;;;;sCAESC,K,EAAsB;AACrE,cAAIC,MAAM,GAAG,KAAKF,GAAL,CAASG,aAAT,CAAuBC,KAApC,CADqE,CAErE;;AACA,cAAIC,KAAK,GAAG,QAAZ;AACAC,iBAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBL,MAAxB,EAAgC,SAAhC,EAA2CG,KAAK,CAACG,IAAN,CAAWN,MAAX,CAA3C;;AACA,cAAIG,KAAK,CAACG,IAAN,CAAWN,MAAX,CAAJ,EAAwB;AACtBI,mBAAO,CAACC,GAAR,CAAY,WAAZ;AACA,iBAAKP,GAAL,CAASG,aAAT,CAAuBC,KAAvB,GAA+BF,MAA/B;AACD,WAHD,MAGO;AACLI,mBAAO,CAACC,GAAR,CAAY,MAAZ;AACA,iBAAKP,GAAL,CAASG,aAAT,CAAuBC,KAAvB,GAA+BF,MAAM,CAACO,OAAP,CAAe,QAAf,EAAyB,EAAzB,CAA/B,CAFK,CAGL;AACD;AACF;;;;;;;uBAjBUV,iB,EAAiB,yH;AAAA,K;;;YAAjBA,iB;AAAiB,0C;AAAA;AAAA;;mBAAjB,yB;AAEb,W;;;;;;;sEAFaA,iB,EAAiB;cAH7B,uDAG6B;eAHnB;AACTR,kBAAQ,EAAE;AADD,S;AAGmB,Q;;;;;;gBAI3B,0D;iBAAa,O,EAAS,CAAC,QAAD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCCZmB,oB;AAEX,sCAAc;AAAA;AAAG;;;;mCAET,CACP;;;gCAEOC,M,EAAQ;AACdL,iBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BI,MAA3B;AADc,cAERC,MAFQ,GAE4CD,MAF5C,CAERC,MAFQ;AAAA,cAEAC,OAFA,GAE4CF,MAF5C,CAEAE,OAFA;AAAA,cAESC,QAFT,GAE4CH,MAF5C,CAESG,QAFT;AAAA,cAEmBC,GAFnB,GAE4CJ,MAF5C,CAEmBI,GAFnB;AAAA,cAEwBC,SAFxB,GAE4CL,MAF5C,CAEwBK,SAFxB;AAAA,cAEmCC,IAFnC,GAE4CN,MAF5C,CAEmCM,IAFnC;AAId,cAAIC,WAAW,GAAG,EAAlB;;AACAN,gBAAM,CAACO,OAAP,CAAe,UAACC,CAAD,EAAIC,KAAJ,EAAc;AAC3BH,uBAAW,CAACI,IAAZ,CAAiB;AACfC,oBAAM,EAAEH,CADO;AAEfI,iBAAG,EAAE,gBAAgBH,KAFN;AAGfI,mBAAK,EAAE;AAHQ,aAAjB;AAKD,WAND;;AAQA,cAAMC,QAAQ,GAAG,IAAI,gDAAJ,EAAjB;AACA,cAAMC,KAAK,GAAGD,QAAQ,CAACE,YAAT,CAAsB,KAAtB,CAAd;AAEA;;AACAD,eAAK,CAACE,OAAN,IACE;AAAEN,kBAAM,EAAE,EAAV;AAAcC,eAAG,EAAE,aAAnB;AAAkCC,iBAAK,EAAE;AAAzC,WADF,EAEE;AAAEF,kBAAM,EAAE,EAAV;AAAcC,eAAG,EAAE,YAAnB;AAAiCC,iBAAK,EAAE;AAAxC,WAFF,EAGE;AAAEF,kBAAM,EAAE,MAAV;AAAkBC,eAAG,EAAE,MAAvB;AAA+BC,iBAAK,EAAE;AAAtC,WAHF,SAIKP,WAJL,GAKE;AAAEK,kBAAM,EAAE,EAAV;AAAcC,eAAG,EAAE,WAAnB;AAAgCC,iBAAK,EAAE;AAAvC,WALF;AAQA;;AAEA;;AACA,cAAMK,GAAG,GAAGH,KAAK,CAACI,MAAN,CAAa,CAAb,CAAZ;AACAD,aAAG,CAACE,OAAJ,CAAY,aAAZ,EAA2B5B,KAA3B,GAAmCa,IAAI,CAACM,MAAxC;AACAO,aAAG,CAACE,OAAJ,CAAY,YAAZ,EAA0B5B,KAA1B,GAAkC,KAAlC;AACA0B,aAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB5B,KAApB,GAA4B,QAA5B;AACA0B,aAAG,CAACE,OAAJ,CAAY,WAAZ,EAAyB5B,KAAzB,GAAiC,iBAAjC;;AACAQ,gBAAM,CAACO,OAAP,CAAe,UAACc,IAAD,EAAOb,CAAP,EAAa;AAC1BU,eAAG,CAACE,OAAJ,CAAY,gBAAgBZ,CAA5B,EAA+BhB,KAA/B,GAAuC,WAAvC;AACD,WAFD;AAIA;;;AACA,cAAI8B,KAAK,GAAG,EAAZ;AAEArB,iBAAO,CAACM,OAAR,CAAgB,UAACnB,GAAD,EAAcoB,CAAd,EAAoB;AAClC,gBAAIe,WAAW,GAAGR,KAAK,CAACI,MAAN,CAAaX,CAAC,GAAG,CAAjB,CAAlB;;AACA,gBAAIA,CAAC,IAAI,CAAT,EAAY;AACVc,mBAAK,GAAGlC,GAAG,CAACiB,IAAI,CAACO,GAAN,CAAX;AACD;;AAEDW,uBAAW,CAACH,OAAZ,CAAoB,aAApB,EAAmC5B,KAAnC,GAA2C8B,KAA3C;AACAC,uBAAW,CAACH,OAAZ,CAAoB,YAApB,EAAkC5B,KAAlC,GAA0CW,GAAG,CAACqB,QAAJ,EAA1C;AACAD,uBAAW,CAACH,OAAZ,CAAoB,MAApB,EAA4B5B,KAA5B,GAAoCxB,MAAM,CAACV,IAAP,CAAY8B,GAAG,CAAC,QAAD,CAAH,CAAc,CAAd,CAAZ,EAA8B,CAA9B,CAApC;AACAmC,uBAAW,CAACH,OAAZ,CAAoB,WAApB,EAAiC5B,KAAjC,GAAyCU,QAAQ,CAACM,CAAD,CAAjD;AAEA;;AACAe,uBAAW,CAACH,OAAZ,CAAoB,WAApB,EAAiCK,SAAjC,GAA6C;AAAEC,sBAAQ,EAAE,QAAZ;AAAsBC,wBAAU,EAAE;AAAlC,aAA7C;;AAEAvC,eAAG,CAAC,QAAD,CAAH,CAAc,CAAd,EAAiBpB,MAAM,CAACV,IAAP,CAAY8B,GAAG,CAAC,QAAD,CAAH,CAAc,CAAd,CAAZ,CAAjB,EAAgDmB,OAAhD,CAAwD,UAACqB,MAAD,EAASC,MAAT,EAAoB;AAC1EN,yBAAW,CAACH,OAAZ,CAAoB,gBAAgBS,MAApC,EAA4CrC,KAA5C,GAAoDsC,IAAI,CAACC,KAAL,CAAWH,MAAM,CAACI,KAAlB,EAAyBC,cAAzB,EAApD;AAEA;;AACAV,yBAAW,CAACH,OAAZ,CAAoB,gBAAgBS,MAApC,EAA4CJ,SAA5C,GAAwD;AAAEC,wBAAQ,EAAE,QAAZ;AAAsBC,0BAAU,EAAE;AAAlC,eAAxD;AACD,aALD;AAMD,WApBD;;AAsBA,WAAC;;;;;;;;AACgB,6BAAMb,QAAQ,CAACoB,IAAT,CAAcC,WAAd,EAAN;;;AAATC,4B;AACAC,8B,GAAW,mE;AACXC,mC,GAAgB,O;AAChBC,0B,GAAO,IAAIC,IAAJ,CAAS,CAACJ,MAAD,CAAT,EAAmB;AAAE/B,4BAAI,EAAEgC;AAAR,uBAAnB,C;AACb,gFAAOE,IAAP,EAAanC,SAAS,GAAGkC,aAAzB;;;;;;;;;AACD,WAND;AAOD;;;;;;;uBA5EUxC,oB;AAAoB,K;;;YAApBA,oB;AAAoB,uC;AAAA,c;AAAA,a;AAAA,kE;AAAA;;;;;sEAApBA,oB,EAAoB;cALhC,uDAKgC;eALtB;AACTnB,kBAAQ,EAAE,kBADD;AAETC,qBAAW,EAAE,+BAFJ;AAGTC,mBAAS,EAAE,CAAC,+BAAD;AAHF,S;AAKsB,Q;;;;;;;;;;;;;;;;;;;;ACVjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACSU;;AAAuE;;AAAS;;;;;;AAA5E;;;;;;AACJ;;AAAoD;;AAAS;;;;AAAzD;;;;;;AAKJ;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAA2C;;AAAuB;;;;;;;;AAAvB;;AAAA;;;;;;AAOzC;;AACE;;AAAkC;;AAAa;;AAC/C;;AAAkC;;AAAY;;AAChD;;;;;;AAFoC;;AAAA;;AACA;;AAAA;;;;;;;;AAQhC;;AACqB;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AACnB;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB;;AADF;;AAEF;;;;;;;;;;;AARmE;;AAEtC;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AASF;;;;;;;;AATM;;AAAA;;;;;;;;AAYJ;;AAAmE;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AAEjE;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB;;AADF;;AAEF;;;;;;;;;;;AAPE;;AAC2B;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AASF;;;;;;;;AATM;;AAAA;;;;;;AAYJ;;AAAiG;;AAEjG;;;;;;;;;;AAFmE;;;;;;AADrE;;AACE;;AAGF;;;;;;;;AAHM;;AAAA;;;;;;AAYJ;;AACE;;;;AACF;;;;;;;;;;;AAFmE;;AACjE;;AAAA;;;;;;AAFJ;;AACE;;AAGF;;;;;;;;AAHM;;AAAA;;;;;;AAxCV;;AACE;;AAAmB;;AAA8B;;AACjD;;AACE;;AAYA;;AAYA;;AAYA;;AAKF;;AACA;;AAAI;;AAAgC;;AACtC;;;;;;;;AA7CqB;;AAAA;;AACL;;AAAA;;AACE;;AAAA;;AAYA;;AAAA;;AAYA;;AAAA;;AAkBZ;;AAAA;;;;;;AArDR;;AACE;;AACE;;AAIF;;AAEA;;;;AA+CF;;;;;;;AAtDgB;;AAAA;;AACE;;AAAA;;AAMF;;AAAA;;;;;;AA+DhB;;AAA0D;;AAAgB;;AAC1E;;AAA4D;;AAAsB;;AAClF;;AAA6D;;AAAuB;;;;;;AAUhF;;;;;;AAAuC,qFAAe,SAAf,EAAe,OAAf;;;;;;AAQvC;;;;;;AAAuC,qFAAe,SAAf,EAAe,OAAf;;;;;;AAOvC;;;;;;AAAmC,mFAAa,SAAb,EAAa,KAAb;;;;QD5GlC4D,qB;AAwBV;AAAA;;AAvBA,aAAAC,MAAA,GAAwB,IAAxB;AACA,aAAAC,MAAA,GAAS,EAAT;AACA,aAAA1C,OAAA,GAAU,EAAV;AAEA,aAAA2C,WAAA,GAAwB,EAAxB;AACA,aAAAC,OAAA,GAAU,EAAV;AACA,aAAAC,WAAA,GAAwB,EAAxB;AACA,aAAAC,OAAA,GAAU,EAAV;AACA,aAAAC,KAAA,GAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,IAA9C,EAAoD,IAApD,EAA0D,IAA1D,CAAR;AACA,aAAAC,cAAA,GAAiB,EAAjB;AACA,aAAAC,SAAA,GAAY;AACTC,aAAG,EAAE,OADI;AAEThD,aAAG,EAAE,0BAFI;AAGT6C,eAAK,EAAE;AAHE,SAAZ;AAMA;;AACA,aAAAI,YAAA,GAAe,IAAf;AACA,aAAAC,YAAA,GAAe,KAAf;AACA,aAAAC,UAAA,GAAa,IAAb;AACA,aAAAC,SAAA,GAAY,IAAZ;AACA,aAAAC,UAAA,GAAa,KAAb;AAIG,aAAKZ,WAAL,GAAmB,KAAKC,OAAxB;AACA,aAAKC,WAAL,GAAmB,KAAKC,OAAxB;AACF;;;;mCAEO;AACL,eAAKU,MAAL;AACA,eAAKC,kBAAL,GAFK,CAGL;AACF;;;qCAEYrC,I,EAAM;AAChB,iBAAOrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAP;AACF;;;wCAEeA,I,EAAM;AACnB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACA,iBAAOA,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAX;AACF;;;uCAEctC,I,EAAM;AAClB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACAsC,kBAAQ,GAAGtC,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAf;AACA,cAAI3B,KAAK,GAAG2B,QAAQ,CAACjG,GAAT,CAAa,UAAA8C,CAAC,EAAI;AAC3B,mBAAOA,CAAC,CAAC,OAAD,CAAD,IAAc,EAAd,GAAmB,CAAnB,GAAuBoD,QAAQ,CAACpD,CAAC,CAAC,OAAD,CAAF,CAAtC;AACF,WAFW,CAAZ;AAGA,iBAAOwB,KAAK,CAAC6B,MAAN,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,GAAGC,CAAd;AAAA,WAAb,EAA8B,CAA9B,EAAiC9B,cAAjC,EAAP;AACF;;;8BAEKzB,C,EAAGa,I,EAAM;AACZ,2BAAUrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,EACNxB,OADM,CACE,SADF,EACa,GADb,CAAV,cAEOW,CAFP;AAGF;;;2CAEkB;AAChB,eAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyC,cAAL,CAAoBe,MAAxC,EAAgDxD,CAAC,EAAjD,EAAqD;AAClD,gBAAIyD,SAAS,GAAGC,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAhB;AACAF,qBAAS,GAAG,KAAKG,WAAL,CAAiBH,SAAjB,EAA4BzD,CAA5B,CAAZ;AACA,gBAAI6D,SAAS,GAAGH,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAhB;AACA,gBAAIG,QAAQ,GAAGL,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBL,QAAQ,CAACK,SAAD,CAA7C;AACA,gBAAIM,QAAQ,GAAGF,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBT,QAAQ,CAACS,SAAD,CAA7C;AACA,gBAAIG,QAAQ,GAAGZ,QAAQ,CAACM,CAAC,CAAC,gCAAgC1D,CAAjC,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAAvB;AACA,gBAAI6E,GAAG,GAAIF,QAAQ,GAAGF,QAAZ,GAAwBC,QAAlC;AACAL,aAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,CAAmDC,GAAG,CAACzC,cAAJ,EAAnD;AAEA,iBAAK0C,QAAL,CAAcnE,CAAd;AACF;AACH;;;iCAEQA,C,EAAG;AACT,cAAIoE,UAAU,GAAGhB,QAAQ,CAACM,CAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,GAAqD5E,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAzB;;AACA,cAAIgF,UAAU,GAAGX,CAAC,CAAC,yBAAyB1D,CAAC,GAAG,CAA7B,IAAkC,QAAnC,CAAD,CAA8C2D,GAA9C,EAAjB;;AACAU,oBAAU,GAAG,KAAKT,WAAL,CAAiBS,UAAjB,EAA6BrE,CAAC,GAAG,CAAjC,CAAb;;AAEA,cAAIsE,YAAY,GAAGlB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAAR,GAA4E+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAApF,GAAsJ+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAA9J,GAA+PgF,UAAlR;;AACA,cAAIE,IAAI,GAAG,CAAX;AACA,cAAIC,UAAU,GAAG,CAAjB;;AACA,cAAIC,KAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,cAAIC,UAAU,GAAG,KAAKlC,cAAL,CAAoBe,MAArC;AAEAtE,iBAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0Ca,CAA1C;AACAd,iBAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BiF,UAA1B,EAAsC,YAAtC,EAAoDhB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAA5D,EAA+H+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAAvI,EAAwM+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAAhN,EAAgTgF,UAAhT,EAA4T,gBAA5T,EAA8UC,YAA9U,EAA4V,aAA5V,EAA2WD,UAA3W,EAAuX,QAAvX,EAAiYI,KAAjY,EAAwY,QAAxY,EAAkZ,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAlZ;AAGA;;AACA,cAAIoE,UAAU,IAAI,CAAlB,EAAqB;AAClBG,gBAAI,GAAG,CAAP;AACAb,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,mBAAO,CAACC,GAAR,CAAY,sCAAZ;AACA;AACF;AACD;;;AAEA,cAAIiF,UAAU,IAAIE,YAAlB,EAAgC;AAC7BpF,mBAAO,CAACC,GAAR,CAAY,yBAAZ;AACAoF,gBAAI,GAAGE,KAAK,GAAG,CAAf;AACAD,sBAAU,GAAGJ,UAAU,GAAGE,YAA1B;AAEApF,mBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBoF,IAArB,EAA2B,aAA3B,EAA0CC,UAA1C;AAEA;;AACA,gBAAIF,YAAY,IAAI,CAApB,EAAuB;AACpBC,kBAAI,GAAG,CAAP;AACArF,qBAAO,CAACC,GAAR,CAAY,iCAAZ;AACF;AAED;;;AACA,gBAAI,mDAAc,KAAKsD,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAd,CAAJ,EAA+C;AAC5Cd,qBAAO,CAACC,GAAR,CAAY,kDAAZ;AACAuE,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACF,aAjB4B,CAmB7B;;;AACA,iBAAK,IAAIC,CAAC,GAAI9E,CAAC,GAAG,CAAlB,EAAsB8E,CAAC,GAAGH,UAA1B,EAAsCG,CAAC,EAAvC,EAA2C;AACxC,kBAAIT,WAAU,GAAGX,CAAC,CAAC,wBAAwBoB,CAAxB,GAA4B,QAA7B,CAAD,CAAwCnB,GAAxC,EAAjB;;AACAU,yBAAU,GAAG,KAAKT,WAAL,CAAiBS,WAAjB,EAA6BS,CAA7B,CAAb;;AACA,kBAAIC,gBAAgB,GAAG3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAR,GAAsE+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA9E,GAA0I+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAAlJ,GAA6OgF,WAApQ;;AAEAnF,qBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,KAAKsD,cAAL,CAAoBqC,CAApB,CAA7B,EAAqD,mBAArD,EAA0EC,gBAA1E,EAA4F,YAA5F,EAA0G3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAlH,EAA+K+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAvL,EAAkP+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAA1P,EAAoVgF,WAApV;AAEA;;AACA,kBAAIU,gBAAgB,IAAI,CAApB,IAAyBR,IAAI,IAAI,CAArC,EAAwC;AACrCA,oBAAI,GAAG,CAAP;AACArF,uBAAO,CAACC,GAAR,CAAY,qCAAZ;AACA;AACF;;AAED,kBAAIqF,UAAU,GAAGO,gBAAb,IAAiCA,gBAAgB,IAAI,CAAzD,EAA4D;AACzD7F,uBAAO,CAACC,GAAR,CAAY,sDAAZ;AACAsF,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;AACAH,oBAAI,IAAIE,KAAK,GAAG,CAAhB;AACAD,0BAAU,GAAGA,UAAU,GAAGO,gBAA1B;AAEA7F,uBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BoF,IAA3B,EAAiC,mBAAjC,EAAsDC,UAAtD,EAAkE,aAAlE,EAAiFC,KAAjF,EAAwF,QAAxF,EAAkG,KAAKhC,cAAL,CAAoBqC,CAApB,CAAlG;AAEA5F,uBAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8D,KAAKsD,cAAL,CAAoBqC,CAApB,CAA9D;AAEA;;AACA,oBAAIA,CAAC,IAAI,KAAKrC,cAAL,CAAoBe,MAApB,GAA6B,CAAtC,EAAyC;AACtCtE,yBAAO,CAACC,GAAR,CAAY,wDAAZ;AACAuE,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACF,iBAHD,MAGO;AACJnB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBgF,WAAxB,CAAoC,gBAApC;AACF;;AAED;AACF,eAnBD,MAmBO;AACJ9F,uBAAO,CAACC,GAAR,CAAY,6CAAZ;AAEA;;AACA,oBAAI4F,gBAAgB,IAAI,CAAxB,EAA2B;AACxB;AACArB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,yBAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,QAA5C,EAAsDoF,IAAtD;AACA;AACF;AAED;;;AACA,oBAAIC,UAAU,IAAI,CAAlB,EAAqB;AAClBd,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA;AACF;;AAEDP,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;;AACA,oBAAIO,eAAe,GAAGF,gBAAgB,GAAGN,KAAzC;;AACA,oBAAIS,YAAY,GAAGV,UAAU,GAAGS,eAAhC;;AACAV,oBAAI,IAAIW,YAAY,GAAG,CAAvB;AACAxB,iBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,uBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BsF,KAA7B,EAAoC,gBAApC,EAAsDS,YAAtD,EAAoE,OAApE,EAA6EX,IAA7E;AACA;AACF;AACH;AACH,WA/ED,MA+EO;AACJrF,mBAAO,CAACC,GAAR,CAAY,oDAAZ;;AACA,gBAAIsF,MAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,gBAAIS,YAAY,GAAGb,YAAY,GAAGG,MAAlC;;AACA,gBAAIW,SAAS,GAAGhB,UAAU,GAAGe,YAA7B;;AACAZ,gBAAI,GAAGa,SAAS,GAAG,CAAnB;AACA1B,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,mBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBsF,MAAtB,EAA6B,uBAA7B,EAAsDU,YAAtD,EAAoE,YAApE,EAAkFC,SAAlF,EAA6F,OAA7F,EAAsGb,IAAtG;AAEA;;AACA,gBAAI,6CAAQA,IAAR,CAAJ,EAAmB;AAChBb,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACF;;AACD3F,mBAAO,CAACC,GAAR,CAAY,2CAAZ;AACF;AACH;;;oCAEWH,K,EAAOgB,C,EAAG;AACnB,cAAIhB,KAAK,IAAIA,KAAK,CAACqG,OAAN,CAAc,GAAd,IAAqB,CAAC,CAAnC,EAAsC;AACnCrG,iBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBoE,QAAQ,CAACpE,KAAD,CAAlC;;AACA,gBAAIsG,SAAS,GAAGlC,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxB;;AACA,gBAAIkG,GAAG,GAAIvG,KAAK,GAAG,GAAT,GAAgBsG,SAA1B;;AACA,mBAAOC,GAAP;AACF,WALD,MAKO;AACJ,mBAAOnC,QAAQ,CAACpE,KAAD,CAAf;AACF;AACH;;;kCAESwG,G,EAAK;AACZ,iBAAOA,GAAG,GAAG,CAAN,GAAUlE,IAAI,CAACC,KAAL,CAAWiE,GAAX,CAAV,GAA4B,CAAnC;AACF;;;sCAEaxF,C,EAAG;AACd;AACA,iBAAOsB,IAAI,CAACC,KAAL,CAAWvB,CAAX,EAAcyB,cAAd,EAAP;AACF;;;kCAESxE,E,EAAU;AACjB,eAAKiF,MAAL,GAAcjF,EAAd;AACF;;;mCAEO;AACL,eAAKiF,MAAL,GAAc,IAAd;;AACA,eAAKuD,gBAAL;AACF;;;4CAEmB;AAAA;;AACjB,cAAIC,SAAS,GAAG,EAAhB;AACA,cAAIC,GAAG,GAAG,EAAV;AACA,cAAIC,MAAM,GAAG,CACV;AAAE,mCAAuB;AAAzB,WADU,EAEV;AAAE,qCAAyB;AAA3B,WAFU,EAGV;AAAE,mCAAuB;AAAzB,WAHU,EAIV;AAAE,kEAAsD;AAAxD,WAJU,EAKV;AAAE,iCAAqB;AAAvB,WALU,EAMV;AAAE,+DAAmD;AAArD,WANU,EAOV;AAAE,mCAAuB;AAAzB,WAPU,EAQV;AAAE,kEAAsD;AAAxD,WARU,EASV;AAAE,iCAAqB;AAAvB,WATU,EAUV;AAAE,yCAA6B;AAA/B,WAVU,EAWV;AAAE,qCAAyB;AAA3B,WAXU,EAYV;AAAE,uBAAW;AAAb,WAZU,EAaV;AAAE,kDAAsC;AAAxC,WAbU,EAcV;AAAE,4BAAgB;AAAlB,WAdU,EAeV;AAAE,sCAA0B;AAA5B,WAfU,EAgBV;AAAE,kCAAsB;AAAxB,WAhBU,EAiBV;AAAE,mCAAuB;AAAzB,WAjBU,EAkBV;AAAE,0CAA8B;AAAhC,WAlBU,EAmBV;AAAE,+BAAmB;AAArB,WAnBU,EAoBV;AAAE,uCAA2B;AAA7B,WApBU,CAAb;AAuBAA,gBAAM,CAAC7F,OAAP,CAAe,UAACc,IAAD,EAAOb,CAAP,EAAa;AACzB,gBAAI6F,KAAK,GAAGrI,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,CAAZ;AACA6E,qBAAS,GAAG,EAAZ;AACA,0DAAS,KAAI,CAACjG,OAAd,EAAuB,UAACoB,IAAD,EAAU;AAC9B,kBAAIA,IAAI,CAAC+E,MAAL,IAAeC,KAAnB,EAA0B;AACvBH,yBAAS,CAACxF,IAAV,CAAeW,IAAf;AACF,eAFD,MAEO;AAAE;AAAS;AACpB,aAJD;AAMA;;AACA,gBAAIiF,cAAc,GAAG,EAArB;AACA,0DAASJ,SAAT,EAAoB,UAAC1F,CAAD,EAAO;AACxB,kBAAIA,CAAC,CAAC4F,MAAF,IAAY,qBAAZ,IAAqC,CAAC,8CAAS5F,CAAC,CAAC,gBAAD,CAAV,CAA1C,EAAyE;AACtE8F,8BAAc,CAAC5F,IAAf,CAAoBF,CAApB;AACA0F,yBAAS,GAAGI,cAAZ;AACF,eAHD,MAGO;AACJ;AACF;AACH,aAPD;AASA;;AACA,gBAAIJ,SAAS,CAAClC,MAAV,GAAmB,KAAI,CAACd,SAAL,CAAeF,KAAtC,EAA6C;AAC1CkD,uBAAS,GAAG,8CAASA,SAAT,EAAoB,MAApB,CAAZ;AACF;;AAED,gBAAIA,SAAS,CAAClC,MAAV,GAAmB,KAAI,CAACd,SAAL,CAAeF,KAAtC,EAA6C;AAC1C,kBAAIuD,MAAM,GAAG,KAAI,CAACtD,cAAL,CAAoBuD,MAApB,CAA2B,UAAAC,EAAE;AAAA,uBAAI,CAACP,SAAS,CAACQ,IAAV,CAAe,UAAAC,GAAG;AAAA,yBAAIF,EAAE,IAAIE,GAAG,CAACC,IAAd;AAAA,iBAAlB,CAAL;AAAA,eAA7B,CAAb;;AACAlH,qBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB4G,MAAvB;AACA,kBAAIM,UAAU,GAAGX,SAAS,CAAClC,MAAV,GAAmB,CAAnB,GAAuBkC,SAAS,CAAC,CAAD,CAAhC,GAAsC,GAAvD;AACAK,oBAAM,CAAChG,OAAP,CAAe,UAAAkG,EAAE,EAAI;AAClBP,yBAAS,CAACxF,IAAV,CAAe;AACZ,gCAAc,CADF;AAEZ,oCAAkB,CAFN;AAGZ,gCAAc,CAHF;AAIZ,oCAAkB,CAJN;AAKZ,4BAAUmG,UAAU,CAAC,QAAD,CALR;AAMZ,yBAAOA,UAAU,CAAC,KAAD,CANL;AAOZ,0BAAQA,UAAU,CAAC,MAAD,CAPN;AAQZD,sBAAI,EAAEH;AARM,iBAAf;AAUF,eAXD;AAaAP,uBAAS,CAACY,IAAV,CAAe,SAASC,OAAT,CAAiBjD,CAAjB,EAAoBC,CAApB,EAAuB;AACnC,oBAAIiD,KAAK,GAAQ,IAAIC,IAAJ,CAASnD,CAAC,CAAC8C,IAAX,CAAjB;AACA,oBAAIM,KAAK,GAAQ,IAAID,IAAJ,CAASlD,CAAC,CAAC6C,IAAX,CAAjB;AACA,uBAAQI,KAAK,GAAGE,KAAhB;AACF,eAJD,EAjB0C,CAuB1C;AACF,aAjDwB,CAmDzB;;AAEA;;AACA;;;;;;;AAMAhB,qBAAS,CAAC3F,OAAV,CAAkB,UAAAc,IAAI,EAAI;AACvB,kBAAI,8CAASA,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACnCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACF;;AACD,kBAAI,8CAASA,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACnCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACF;;AAED,kBAAIgF,KAAK,CAACR,OAAN,CAAc,UAAd,KAA6B,CAAC,CAAlC,EAAqC;AAClCO,sBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiB3F,IAAjB,CAAsB;AAAEsB,uBAAK,EAAEX,IAAI,CAAC,gBAAD;AAAb,iBAAtB;AACF,eAFD,MAEO;AACJ+E,sBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiB3F,IAAjB,CAAsB;AAAEsB,uBAAK,EAAEX,IAAI,CAAC,gBAAD;AAAb,iBAAtB;AACF;AACH,aAbD;AAeA6E,qBAAS,GAAG,EAAZ;;AACA,gBAAI1F,CAAC,IAAI,CAAT,EAAY;AACT2F,iBAAG,CAACzF,IAAJ,CAAS;AACNW,oBAAI,EAAE,KAAI,CAACpB,OAAL,CAAa,CAAb,EAAgB,MAAhB,CADA;AAENE,mBAAG,EAAE,KAAI,CAACF,OAAL,CAAa,CAAb,EAAgB,KAAhB,CAFC;AAGNmG,sBAAM,EAAE,CAAC/E,IAAD;AAHF,eAAT;AAKF,aAND,MAMO;AACJ8E,iBAAG,CAACzF,IAAJ,CAAS;AACN0F,sBAAM,EAAE,CAAC/E,IAAD;AADF,eAAT;AAGF;AACH,WAvFD;AAyFA,eAAKsB,MAAL,GAAcwD,GAAd;AACAzG,iBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBwG,GAAvB;AAEAgB,oBAAU,CAAC,YAAM;AACd,iBAAI,CAAClB,gBAAL;;AAAwB;AAC1B,WAFS,EAEP,IAFO,CAAV;AAGF;;;6CAEoB;AAAA;;AAAA,gCACQ,KAAK/C,SADb;AAAA,cACZC,GADY,mBACZA,GADY;AAAA,cACPhD,GADO,mBACPA,GADO;AAAA,cACF6C,KADE,mBACFA,KADE;AAElB,eAAKO,SAAL,GAAiB,IAAjB;AAEA,cAAI6D,WAAW,GAAG,mCAAM,GAAGC,OAAT,CAAiB,OAAjB,EAA0BC,MAA1B,CAAiC,YAAjC,CAAlB;AACA,cAAIC,QAAQ,GAAG,mCAAM,GAAGC,GAAT,CAAaxE,KAAK,GAAG,CAArB,EAAwB,QAAxB,EAAkCqE,OAAlC,CAA0C,OAA1C,EAAmDC,MAAnD,CAA0D,YAA1D,CAAf;AACA,cAAIG,KAAK,2BAAoBtE,GAApB,qBAAkChD,GAAlC,sBAAiDiH,WAAjD,sBAAwEG,QAAxE,gDAAT;AAEAG,cAAI,CAACC,GAAL,wBAAyBF,KAAzB,GAAkCvK,IAAlC,CAAuC,UAAA0K,IAAI,EAAI;AAC5C,kBAAI,CAACrE,SAAL,GAAiB,KAAjB;AACA,kBAAI,CAACN,cAAL,GAAsB,4CAAO,2CAAM2E,IAAN,EAAY,MAAZ,CAAP,CAAtB;AACA,kBAAI,CAAC3H,OAAL,GAAe2H,IAAf,CAH4C,CAI5C;;AACA,kBAAI,CAACC,iBAAL;AACF,WAND,WAMS,UAAA1K,CAAC,EAAI;AAAE,kBAAI,CAACoG,SAAL,GAAiB,KAAjB;AAAyB,WANzC;AAOF;;;uCAEc;AACZW,WAAC,CAAC,SAAD,CAAD,CAAa4D,WAAb,CAAyB,aAAzB;AACF;;;mCAEUlB,I,EAAM;AACd,iBAAO,mCAAM,CAACA,IAAD,CAAN,CAAaU,MAAb,CAAoB,YAApB,CAAP;AACF;;;sCAEanD,G,EAAK;AAChB,iBAAOrC,IAAI,CAACC,KAAL,CAAWoC,GAAX,CAAP;AACF;AAED;;;;oCACY3E,K,EAAa;AACtB,eAAKoD,WAAL,GAAmB,KAAKC,OAAL,CAAa2D,MAAb,CAAoB,UAAAuB,MAAM;AAAA,mBAAIA,MAAM,CAACC,WAAP,GAAqBnC,OAArB,CAA6BrG,KAAK,CAACwI,WAAN,EAA7B,MAAsD,CAAC,CAA3D;AAAA,WAA1B,CAAnB;AAEA,eAAKC,eAAL;AACF;;;oCAEWzI,K,EAAa;AACtB,eAAKsD,WAAL,GAAmB,KAAKC,OAAL,CAAayD,MAAb,CAAoB,UAAAuB,MAAM;AAAA,mBAAIA,MAAM,CAACC,WAAP,GAAqBnC,OAArB,CAA6BrG,KAAK,CAACwI,WAAN,EAA7B,MAAsD,CAAC,CAA3D;AAAA,WAA1B,CAAnB;AACF;;;0CAEiB;AAAA;;AACf,eAAK1E,UAAL,GAAkB,KAAlB;AACA,cAAI4E,QAAQ,GAAG,EAAf;AACA,wDAAS,KAAKC,SAAd,EAAyB,UAAC9G,IAAD,EAAU;AAChC,gBAAIA,IAAI,CAAC,CAAD,CAAJ,IAAW,MAAI,CAAC6B,SAAL,CAAeC,GAA9B,EAAmC;AAChC+E,sBAAQ,CAACxH,IAAT,CAAcW,IAAd;AACF,aAFD,MAEO;AACJ;AACF;AACH,WAND;AAQA6G,kBAAQ,GAAGA,QAAQ,CAACxK,GAAT,CAAa,UAAA8C,CAAC;AAAA,mBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,WAAd,CAAX;AACA,eAAKuC,OAAL,GAAemF,QAAf;AACF;;;iCAEQ;AAAA;;AACNR,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyB,6CAAzB,EAAwE;AAAEC,uBAAW,EAAE;AAAf,WAAxE,EACInL,IADJ,CACS,UAAC0K,IAAD,EAAU;AACb,kBAAI,CAACO,SAAL,GAAiBP,IAAI,CAAC,MAAD,CAArB;AACA,kBAAI,CAAC/E,OAAL,GAAe+E,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,qBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,aAAlB,CAAf;AACA,kBAAI,CAACoC,WAAL,GAAmB,MAAI,CAACC,OAAxB;;AAEA,gBAAI,MAAI,CAACD,WAAL,CAAiBoB,MAAjB,GAA0B,CAA9B,EAAiC;AAC9B,oBAAI,CAACZ,YAAL,GAAoB,KAApB;AACF;AACH,WATJ,WASY,UAAAjG,CAAC,EAAI;AACXuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACF,WAXJ;AAYF;;;+BAEMkE,I,EAAM;AAAA;;AACV,eAAKgC,YAAL,GAAoB,IAApB;AACA,eAAKC,UAAL,GAAkB,IAAlB;AACA,eAAKJ,SAAL,CAAe/C,GAAf,GAAqB,EAArB;AAEA,eAAK4C,OAAL,GAAe,EAAf;AACA2E,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyB,8CAA8C/G,IAA9C,GAAqD,gBAA9E,EAAgG;AAAEgH,uBAAW,EAAE;AAAf,WAAhG,EACInL,IADJ,CACS,UAAC0K,IAAD,EAAU;AACb,kBAAI,CAACO,SAAL,GAAiBP,IAAI,CAAC,MAAD,CAArB;AACA,kBAAI,CAAC7E,OAAL,GAAe6E,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,qBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,aAAlB,CAAf;AACA,kBAAI,CAACsC,WAAL,GAAmB,MAAI,CAACC,OAAxB;;AAEA,gBAAI,MAAI,CAACD,WAAL,CAAiBkB,MAAjB,GAA0B,CAA9B,EAAiC;AAC9B,oBAAI,CAACX,YAAL,GAAoB,KAApB;AACA,oBAAI,CAACC,UAAL,GAAkB,KAAlB;AACF;AACH,WAVJ,WAUY,UAAAnG,CAAC,EAAI;AACXuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACF,WAZJ;AAaF;;;sCAEakC,K,EAAO;AAClB,iBAAQA,KAAK,CAACiJ,QAAN,IAAkB,CAAlB,IAAuBjJ,KAAK,CAACiJ,QAAN,IAAkB,CAA1C,GAA+C,IAA/C,GAAuDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwBjJ,KAAK,CAACiJ,QAAN,IAAkB,EAA3C,IAAkDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAjI;AACF;;;;;;;uBAxbS7F,qB;AAAqB,K;;;YAArBA,qB;AAAqB,wC;AAAA,e;AAAA,c;AAAA,s/D;AAAA;AAAA;ACblC;;AACE;;AACE;;AAEE;;AACE;;AACE;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAS;;AACzB;;AAAgB;;AAAM;;AACtB;;AACA;;AACA;;AAAgB;;AAAe;;AACjC;;AAEA;;AACE;;AACA;;AACA;;AACA;;AACF;;AACF;;AAEA;;AACE;;AAwDF;;AACF;;AACF;;AAEA;;AACE;;AAAoB;AAAA,mBAAS,IAAA8F,YAAA,EAAT;AAAuB,WAAvB;;AAClB;;AACF;;AAEA;;AACE;;AAA6D;AAAA;AAAA;;AAE3D;;AACF;;AACA;;AAKF;;AAEA;;AACE;;AACE;;AACE;;AAAc;;AAAI;;AAClB;;AAAgD;AAAA;AAAA,aAA2B,eAA3B,EAA2B;AAAA,mBACxD,IAAAC,MAAA,mBADwD;AACnC,WADQ;;AAE9C;;AACF;;AACF;;AAEA;;AACE;;AAAc;;AAAS;;AACvB;;AAAgD;AAAA;AAAA;;AAE9C;;AACF;;AACF;;AAEA;;AACE;;AAAc;;AAAK;;AAAQ;;AAC3B;;AAAmE;AAAA;AAAA;;AACjE;;AACF;;AACF;;AAEA;;AACE;;AACE;AAAA,mBAAS,IAAA9E,kBAAA,EAAT;AAA6B,WAA7B;;AAA+B;;AAAE;;AACrC;;AACF;;AACF;;AACF;;AACF;;;;;;;;AAlI4B;;AAAA,yFAAiB,kBAAjB,EAAiB,KAAjB,EAAiB,YAAjB,EAAiB,oBAAjB,EAAiB,WAAjB,EAAiB,aAAjB;;AAOoB;;AAAA;;AACpB;;AAAA;;AAKd;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKF;;AAAA;;AAkEuD;;AAAA,uGAAiC,kBAAjC,EAAiC,GAAjC;;AAeT;;AAAA,iGAA2B,WAA3B,EAA2B,gBAA3B,EAA2B,YAA3B,EAA2B,gBAA3B;;AAEnC;;AAAA;;AAMmC;;AAAA,iGAA2B,YAA3B,EAA2B,cAA3B,EAA2B,WAA3B,EAA2B,gBAA3B;;AAEnC;;AAAA;;AAMsD;;AAAA;;AACtD;;AAAA;;AAK+B;;AAAA;;;;;;;;;;sEDjHzCjB,qB,EAAqB;cALjC,uDAKiC;eALvB;AACR9D,kBAAQ,EAAE,mBADF;AAERC,qBAAW,EAAE,gCAFL;AAGRC,mBAAS,EAAE,CAAC,gCAAD;AAHH,S;AAKuB,Q;;;;;;;;;;;;;;;;;;;;AEblC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUU;;AAAuE;;AAAS;;;;;;AAA5E;;;;;;AACJ;;AAAoD;;AAAS;;;;AAAzD;;;;;;AAKJ;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAA2C;;AAAuB;;;;;;;;AAAvB;;AAAA;;;;;;AAmBjC;;AAAoC;;AAAO;;;;;;AAAP;;AAAA;;;;;;AAZ5C;;AACE;;AAAkC;;AAAoB;;AAQtD;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;;;;;;;AAfoC;;AAAA;;AAWxB;;AAAA;;;;;;;;AAWR;;AACqB;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AACnB;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;;AAAA,+CACW,IADX,EACe,UADf;AACe,SADrC;;AADF;;AAGF;;;;;;;;;;;AATmE;;AAEtC;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AAUF;;;;;;;;AAVM;;AAAA;;;;;;;;AAaJ;;AAAmE;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AAEjE;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;;AAAA,+CACW,IADX,EACe,UADf;AACe,SADrC;;AADF;;AAGF;;;;;;;;;;;AARE;;AAC2B;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AAUF;;;;;;;;AAVM;;AAAA;;;;;;AAaJ;;AACoB;;AAAC;;;;;;;;;;AAD8C;;;;;;AADrE;;AACE;;AAEF;;;;;;;;AAFM;;AAAA;;;;;;AAKJ;;AAEE;;;;AACF;;;;;;;;;;;AAHmE;;AAEjE;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;;;AAJM;;AAAA;;;;;;AAOJ;;AAEE;;;;AACF;;;;;;;;;;;AAHmE;;AAEjE;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;;;AAJM;;AAAA;;;;;;AA1CV;;AACE;;AAAmB;;AAA8B;;AACjD;;AACE;;AAaA;;AAaA;;AAKA;;AAOA;;AAMF;;AACA;;AAAgD;;AAAgC;;AAClF;;;;;;;;;;AAhDqB;;AAAA;;AACL;;AAAA;;AACE;;AAAA;;AAaA;;AAAA;;AAaA;;AAAA;;AAKA;;AAAA;;AAcZ;;AAAA;;AAA4C;;AAAA;;;;;;AArEpD;;AACE;;AACE;;AAiBF;;AAEA;;;;AAkDF;;;;;;;AAtEgB;;AAAA;;AACE;;AAAA;;AAmBF;;AAAA;;;;;;;;AAkEhB;;AAA0D;;AAAgB;;AAC1E;;AAA4D;;AAAuB;;AACnF;;AAA6D;;AAAwB;;AACrF;;AACA;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAe;;;;;;AAazD;;;;;;AAAoD,0FAAoB,SAApB,EAAoB,YAApB;;;;;;AAOpD;;;;;;AAAmC,mFAAa,SAAb,EAAa,KAAb;;;;;;AA4BnC;;;;;;AAAuC,2FAAqB,SAArB,EAAqB,aAArB;;;;;;AAIlB;;;;;;AADvB;;AACE;;AACA;;AACF;;;;;;AADoB;;AAAA;;;;QDxJnB4J,oB;AAuCX,oCACUC,OADV,EAEUC,KAFV,EAEqC;AAAA;;AAD3B,aAAAD,OAAA,GAAAA,OAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AAvCV,aAAAjG,MAAA,GAAwB,IAAxB;AACA,aAAAC,MAAA,GAAS,EAAT;AACA,aAAA1C,OAAA,GAAU,EAAV;AAGA,aAAA2C,WAAA,GAAwB,EAAxB;AAEA,aAAAgG,eAAA,GAAkB,EAAlB;AACA,aAAA9F,WAAA,GAAwB,EAAxB;AAEA,aAAAE,KAAA,GAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,IAA9C,EAAoD,IAApD,EAA0D,IAA1D,CAAR;AACA,aAAAC,cAAA,GAAiB,EAAjB;AACA,aAAAC,SAAA,GAAY;AACV2F,qBAAW,EAAE,WADH;AAEV1I,aAAG,EAAE,EAFK;AAGV6C,eAAK,EAAE;AAHG,SAAZ;AAMA,aAAA8F,OAAA,GAAU,EAAV;AACA,aAAAjG,OAAA,GAAmD,EAAnD;AACA,aAAAE,OAAA,GAAmD,EAAnD;AACA,aAAAgG,MAAA,GAAS,EAAT;AACA,aAAAC,MAAA,GAAS,EAAT;AACA,aAAAC,OAAA,GAAU,EAAV;AACA,aAAAC,OAAA,GAAU,CAAV;AACA,aAAAC,WAAA,GAAmB,EAAnB;AACA,aAAAC,YAAA,GAAoB,EAApB;AAEA;;AACA,aAAAC,oBAAA,GAAuB,IAAvB;AACA,aAAAjG,YAAA,GAAe,KAAf;AACA,aAAAC,YAAA,GAAe,KAAf;AACA,aAAAC,UAAA,GAAa,IAAb;AACA,aAAAgG,WAAA,GAAc,IAAd;AACA,aAAA/F,SAAA,GAAY,IAAZ;AACA,aAAAC,UAAA,GAAa,KAAb,CAIqC,CAEnC;AACD;;;;mCAEO;AACN;AACA,eAAK+F,cAAL;AACA,eAAK7F,kBAAL,CAAwB,QAAxB;AACA,eAAK8E,MAAL,CAAY,KAAKM,OAAjB,EAA0B,IAA1B;AACD;;;qCAEYzH,I,EAAM;AACjB,iBAAOrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAP;AACD;;;wCAEeA,I,EAAM;AACpB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACA,iBAAOA,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAX;AACD;;;uCAEctC,I,EAAM;AACnB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACAsC,kBAAQ,GAAGtC,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAf;AACA,cAAI3B,KAAK,GAAG2B,QAAQ,CAACjG,GAAT,CAAa,UAAA8C,CAAC,EAAI;AAC5B,mBAAOA,CAAC,CAAC,OAAD,CAAD,IAAc,EAAd,GAAmB,CAAnB,GAAuBoD,QAAQ,CAACpD,CAAC,CAAC,OAAD,CAAF,CAAtC;AACD,WAFW,CAAZ;AAGA,iBAAOwB,KAAK,CAAC6B,MAAN,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,GAAGC,CAAd;AAAA,WAAb,EAA8B,CAA9B,EAAiC9B,cAAjC,EAAP;AACD;;;8BAEKzB,C,EAAGa,I,EAAM;AACb,2BAAUrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,EACPxB,OADO,CACC,SADD,EACY,GADZ,CAAV,cAEMW,CAFN;AAGD;;;2CAEkB;AACjB,eAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyC,cAAL,CAAoBe,MAAxC,EAAgDxD,CAAC,EAAjD,EAAqD;AACnD,gBAAIyD,SAAS,GAAG,KAAKuF,YAAL,CAAkBhJ,CAAlB,EAAqB,UAArB,CAAhB;AACA,gBAAI6D,SAAS,GAAG,KAAKmF,YAAL,CAAkBhJ,CAAlB,EAAqB,UAArB,CAAhB;AACA,gBAAI8D,QAAQ,GAAGL,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBL,QAAQ,CAACK,SAAD,CAA7C;AACA,gBAAIM,QAAQ,GAAGF,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBT,QAAQ,CAACS,SAAD,CAA7C;;AAEA,gBAAIS,YAAY,GAAGlB,QAAQ,CAACM,CAAC,CAAC,4BAA4B1D,CAA7B,CAAD,CAAiCiE,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAR,GAAsE+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA9E,GAA0I+D,QAAQ,CAACM,CAAC,CAAC,yDAAyD1D,CAA1D,CAAD,CAA8DiE,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAAlJ,GAA8OyE,QAAjQ;;AACA,gBAAImF,YAAY,GAAG7F,QAAQ,CAACM,CAAC,CAAC,sDAAsD1D,CAAvD,CAAD,CAA2DiE,IAA3D,GAAkE5E,OAAlE,CAA0E,IAA1E,EAAgF,EAAhF,CAAD,CAAR,GAAgG+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxG,GAAoK+D,QAAQ,CAACM,CAAC,CAAC,yDAAyD1D,CAA1D,CAAD,CAA8DiE,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAA5K,GAAuQ+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA/Q,GAA4U0E,QAA/V;;AAEA,gBAAIG,GAAG,GAAG+E,YAAY,GAAG3E,YAAzB;AACAZ,aAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,CAAmDC,GAAG,CAACzC,cAAJ,EAAnD;AAEA,iBAAKyH,aAAL;AACA,iBAAK/E,QAAL,CAAcnE,CAAd;AACD;AACF;AAED;;;;;;;;iCAKSA,C,EAAG;AACV,cAAIoE,UAAU,GAAGhB,QAAQ,CAACM,CAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,GAAqD5E,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAzB;;AACA,cAAIgF,UAAU,GAAG,KAAK2E,YAAL,CAAkBhJ,CAAC,GAAG,CAAtB,EAAyB,UAAzB,CAAjB;;AAEA,cAAIsE,YAAY,GAAGlB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAAR,GAA4E+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAApF,GAAsJ+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAA9J,GAAgQgF,UAAnR;;AACA,cAAIE,IAAI,GAAG,CAAX;AACA,cAAIC,UAAU,GAAG,CAAjB;;AACA,cAAIC,KAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,cAAIC,UAAU,GAAG,KAAKlC,cAAL,CAAoBe,MAArC;AAEAtE,iBAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0Ca,CAA1C;AACAd,iBAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BiF,UAA1B,EAAsC,YAAtC,EAAoDhB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAA5D,EAA+H+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAAvI,EAAwM+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAAhN,EAAgTgF,UAAhT,EAA4T,gBAA5T,EAA8UC,YAA9U,EAA4V,aAA5V,EAA2WD,UAA3W,EAAuX,QAAvX,EAAiYI,KAAjY,EAAwY,QAAxY,EAAkZ,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAlZ;AAGA;;AACA,cAAIoE,UAAU,IAAI,CAAd,IAAmBA,UAAU,GAAG,CAApC,EAAuC;AACrCG,gBAAI,GAAG,CAAP;AACAb,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,mBAAO,CAACC,GAAR,CAAY,sCAAZ;AACA;AACD;AACD;;;AAEA,cAAIiF,UAAU,IAAIE,YAAlB,EAAgC;AAC9BpF,mBAAO,CAACC,GAAR,CAAY,yBAAZ;AACAoF,gBAAI,GAAGE,KAAK,GAAG,CAAf;AACAD,sBAAU,GAAGJ,UAAU,GAAGE,YAA1B;AAEA;;AACA,gBAAIhD,IAAI,CAAC6H,IAAL,CAAU7E,YAAV,KAA2B,CAAC,CAAhC,EAAmC;AACjCE,wBAAU,GAAGJ,UAAb;AACD;;AAEDlF,mBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBoF,IAArB,EAA2B,aAA3B,EAA0CC,UAA1C;AAEA;;AACA,gBAAIF,YAAY,IAAI,CAApB,EAAuB;AACrBC,kBAAI,GAAG,CAAP;AACArF,qBAAO,CAACC,GAAR,CAAY,iCAAZ;AACD;AAED;;;AACA,gBAAI,mDAAc,KAAKsD,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAd,CAAJ,EAA+C;AAC7Cd,qBAAO,CAACC,GAAR,CAAY,kDAAZ;AACAuE,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD,aAtB6B,CAwB9B;;;AACA,iBAAK,IAAIC,CAAC,GAAI9E,CAAC,GAAG,CAAlB,EAAsB8E,CAAC,GAAGH,UAA1B,EAAsCG,CAAC,EAAvC,EAA2C;AACzC,kBAAIT,WAAU,GAAG,KAAK2E,YAAL,CAAkBlE,CAAlB,EAAqB,UAArB,CAAjB;;AACA,kBAAIC,gBAAgB,GAAG3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAR,GAAsE+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA9E,GAA0I+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAAlJ,GAA8OgF,WAArQ;;AAEAnF,qBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,KAAKsD,cAAL,CAAoBqC,CAApB,CAA7B,EAAqD,mBAArD,EAA0EC,gBAA1E,EAA4F,YAA5F,EAA0G3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAlH,EAA+K+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAvL,EAAkP+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAA1P,EAAoVgF,WAApV;AAEA;;AACA,kBAAIU,gBAAgB,IAAI,CAApB,IAAyBR,IAAI,IAAI,CAArC,EAAwC;AACtCA,oBAAI,GAAG,CAAP;AACArF,uBAAO,CAACC,GAAR,CAAY,qCAAZ;AACA;AACD;;AAED,kBAAIqF,UAAU,GAAGO,gBAAb,IAAiCA,gBAAgB,IAAI,CAAzD,EAA4D;AAC1D7F,uBAAO,CAACC,GAAR,CAAY,sDAAZ;AACAsF,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;AACAH,oBAAI,IAAIE,KAAK,GAAG,CAAhB;AACAD,0BAAU,GAAGA,UAAU,GAAGO,gBAA1B;AAEA7F,uBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BoF,IAA3B,EAAiC,mBAAjC,EAAsDC,UAAtD,EAAkE,aAAlE,EAAiFC,KAAjF,EAAwF,QAAxF,EAAkG,KAAKhC,cAAL,CAAoBqC,CAApB,CAAlG;AAEA5F,uBAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8D,KAAKsD,cAAL,CAAoBqC,CAApB,CAA9D;AAEA;;AACA,oBAAIA,CAAC,IAAI,KAAKrC,cAAL,CAAoBe,MAApB,GAA6B,CAAtC,EAAyC;AACvCtE,yBAAO,CAACC,GAAR,CAAY,wDAAZ;AACAuE,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD,iBAHD,MAGO;AACLnB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBgF,WAAxB,CAAoC,gBAApC;AACD;;AAED;AACD,eAnBD,MAmBO;AACL9F,uBAAO,CAACC,GAAR,CAAY,6CAAZ;AAEA;;AACA,oBAAI4F,gBAAgB,IAAI,CAAxB,EAA2B;AACzB;AACArB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,yBAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,QAA5C,EAAsDoF,IAAtD;AACA;AACD;AAED;;;AACA,oBAAIC,UAAU,IAAI,CAAlB,EAAqB;AACnBd,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA;AACD;;AAEDP,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;;AACA,oBAAIO,eAAe,GAAGF,gBAAgB,GAAGN,KAAzC;;AACA,oBAAIS,YAAY,GAAGV,UAAU,GAAGS,eAAhC;;AACAV,oBAAI,IAAIW,YAAY,GAAG,CAAvB;AACAxB,iBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,uBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BsF,KAA7B,EAAoC,gBAApC,EAAsDS,YAAtD,EAAoE,OAApE,EAA6EX,IAA7E;AACA;AACD;AACF;AACF,WAnFD,MAmFO;AACLrF,mBAAO,CAACC,GAAR,CAAY,oDAAZ;;AACA,gBAAIsF,MAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,gBAAIS,YAAY,GAAGb,YAAY,GAAGG,MAAlC;;AACA,gBAAIW,SAAS,GAAGhB,UAAU,GAAGe,YAA7B;;AACAZ,gBAAI,GAAGa,SAAS,GAAG,CAAnB;AACA1B,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,mBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBsF,MAAtB,EAA6B,uBAA7B,EAAsDU,YAAtD,EAAoE,YAApE,EAAkFC,SAAlF,EAA6F,OAA7F,EAAsGb,IAAtG;AAEA;;AACA,gBAAI,6CAAQA,IAAR,CAAJ,EAAmB;AACjBb,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD;;AACD3F,mBAAO,CAACC,GAAR,CAAY,2CAAZ;AACD;AACF;;;oCAEWH,K,EAAOgB,C,EAAG;AACpB,cAAIhB,KAAK,IAAIA,KAAK,CAACqG,OAAN,CAAc,GAAd,IAAqB,CAAC,CAAnC,EAAsC;AACpCrG,iBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBoE,QAAQ,CAACpE,KAAD,CAAlC;;AACA,gBAAIsG,SAAS,GAAGlC,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxB;;AACA,gBAAIkG,GAAG,GAAIvG,KAAK,GAAG,GAAT,GAAgBsG,SAA1B;;AACA,mBAAOC,GAAP;AACD,WALD,MAKO;AACL,mBAAOnC,QAAQ,CAACpE,KAAD,CAAf;AACD;AACF;AAED;;;;;;qCAGagB,C,EAAGH,I,EAAM;AACpB,cAAIuJ,KAAK,GAAG1F,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAZ;AACA,cAAI0F,KAAK,GAAG3F,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAZ;;AACA,kBAAQ9D,IAAR;AACE,iBAAK,UAAL;AACE,kBAAIyF,SAAS,GAAGlC,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxB;;AACA,kBAAI+J,KAAJ,EAAW;AACT,oBAAKA,KAAK,CAACE,QAAN,CAAe,GAAf,MAAwBF,KAAK,CAACE,QAAN,CAAe,GAAf,KAAuBF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA/C,CAAD,IAAyEF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA7E,EAAkG;AAChGF,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBhG,QAAQ,CAACgG,KAAD,CAAlC;AACA,yBAAQA,KAAK,GAAG,GAAT,GAAgB9D,SAAvB;AACD,iBAHD,MAGO,IAAI8D,KAAK,CAACE,QAAN,CAAe,GAAf,KAAuBF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA3B,EAAgD;AACrDF,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBhG,QAAQ,CAACgG,KAAD,CAAlC;AACA,yBAAOA,KAAP;AACD,iBAHM,MAGA;AACL,yBAAOhG,QAAQ,CAACgG,KAAD,CAAf;AACD;AACF,eAVD,MAUO;AACL,uBAAOhG,QAAQ,CAACgG,KAAD,CAAf;AACD;;AACH,iBAAK,UAAL;AACE,kBAAIC,KAAJ,EAAW;AACT,oBAAIA,KAAK,CAACC,QAAN,CAAe,GAAf,KAAuBD,KAAK,CAACC,QAAN,CAAe,GAAf,CAA3B,EAAgD;AAC9CD,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBjG,QAAQ,CAACiG,KAAD,CAAlC;AACA,yBAAOA,KAAP;AACD,iBAHD,MAGO;AACL,yBAAOjG,QAAQ,CAACiG,KAAD,CAAf;AACD;AACF,eAPD,MAOO;AACL,uBAAOjG,QAAQ,CAACiG,KAAD,CAAf;AACD;;AA1BL;AA4BD;AAED;;;;;;wCAGgB;AACd,cAAIE,SAAS,GAAG,KAAK9G,cAAL,CAAoBe,MAApC;AACA,cAAIgG,WAAW,GAAG,EAAlB;;AACA,eAAK,IAAIxJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuJ,SAApB,EAA+BvJ,CAAC,EAAhC,EAAoC;AAClCwJ,uBAAW,GAAG9F,CAAC,CAAC,0CAA0C1D,CAAC,GAAG,CAA9C,CAAD,CAAD,CAAoDiE,IAApD,EAAd;AACAP,aAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,CAAoCuF,WAApC;AACD;AACF;;;kCAEShE,G,EAAK;AACb,iBAAOA,GAAG,GAAG,CAAN,GAAUlE,IAAI,CAACC,KAAL,CAAWiE,GAAX,CAAV,GAA4B,CAAnC;AACD;;;sCAEaxF,C,EAAG;AACf,iBAAOsB,IAAI,CAACC,KAAL,CAAWvB,CAAX,EAAcyB,cAAd,EAAP;AACD;;;kCAESxE,E,EAAU;AAClB,eAAKiF,MAAL,GAAcjF,EAAd;AACD;;;mCAEO;AACN,eAAKiF,MAAL,GAAc,IAAd;;AACA,eAAKuD,gBAAL;AACD;AAED;;;;;;4CAGoB;AAAA;;AAClB,cAAIC,SAAS,GAAG,EAAhB;AACA,cAAIC,GAAG,GAAG,EAAV;AACA,cAAIC,MAAM,GAAG,CACX;AAAE,mCAAuB;AAAzB,WADW,EAEX;AAAE,qCAAyB;AAA3B,WAFW,EAGX;AAAE,mCAAuB;AAAzB,WAHW,EAIX;AAAE,kEAAsD;AAAxD,WAJW,EAKX;AAAE,iCAAqB;AAAvB,WALW,EAMX;AAAE,+DAAmD;AAArD,WANW,EAOX;AAAE,mCAAuB;AAAzB,WAPW,EAQX;AAAE,kEAAsD;AAAxD,WARW,EASX;AAAE,iCAAqB;AAAvB,WATW,EAUX;AAAE,yCAA6B;AAA/B,WAVW,EAWX;AAAE,qCAAyB;AAA3B,WAXW,EAYX;AAAE,uBAAW;AAAb,WAZW,EAaX;AAAE,kDAAsC;AAAxC,WAbW,EAcX;AAAE,4BAAgB;AAAlB,WAdW,EAeX;AAAE,sCAA0B;AAA5B,WAfW,EAgBX;AAAE,kCAAsB;AAAxB,WAhBW,EAiBX;AAAE,mCAAuB;AAAzB,WAjBW,EAkBX;AAAE,0CAA8B;AAAhC,WAlBW,EAmBX;AAAE,+BAAmB;AAArB,WAnBW,EAoBX;AAAE,uCAA2B;AAA7B,WApBW,CAAb;AAuBA;;AACA,cAAI6D,YAAY,GAAG,EAAnB;AACA,cAAIC,WAAW,GAAG,EAAlB;AACA,cAAIC,eAAe,GAAG,EAAtB;;AAEA,WAAC,YAAM;AACL,0DAAS,MAAI,CAAClK,OAAd,EAAuB,UAACoB,IAAD,EAAU;AAC/B,kBAAIA,IAAI,CAAC,QAAD,CAAJ,IAAkB,qBAAtB,EAA6C;AAC3C4I,4BAAY,CAACvJ,IAAb,CAAkBW,IAAlB;AACD,eAFD,MAEO;AAAE;AAAS;AACnB,aAJD;;AAMA,gBAAI+I,MAAM,GAAG,+CAAUH,YAAV,EAAwB,MAAxB,CAAb;;AACA,iBAAK,IAAIzJ,CAAT,IAAc4J,MAAd,EAAsB;AACpBF,yBAAW,CAACxJ,IAAZ,CAAiB,6CAAQ0J,MAAM,CAAC5J,CAAD,CAAd,EAAmB,gBAAnB,CAAjB;AACD;;AAED0J,uBAAW,CAAC3J,OAAZ,CAAoB,UAACC,CAAD,EAAO;AACzB2J,6BAAe,CAACzJ,IAAhB,CAAqB;AAAE0F,sBAAM,EAAE,qBAAV;AAAiC,kCAAkB5F,CAAnD;AAAsD,8BAAc;AAApE,eAArB;AACD,aAFD;AAGD,WAfD;;AAiBA4F,gBAAM,CAAC7F,OAAP,CAAe,UAACc,IAAD,EAAOb,CAAP,EAAa;AAC1B,gBAAI6F,KAAK,GAAGrI,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,CAAZ;AACA6E,qBAAS,GAAG,EAAZ;AACA,0DAAS,MAAI,CAACjG,OAAd,EAAuB,UAACoB,IAAD,EAAU;AAC/B,kBAAIA,IAAI,CAAC+E,MAAL,IAAeC,KAAf,IAAwBhF,IAAI,CAAC+E,MAAL,IAAe,qBAA3C,EAAkE;AAChEF,yBAAS,CAACxF,IAAV,CAAeW,IAAf;AACD,eAFD,MAEO,IAAIA,IAAI,CAAC,QAAD,CAAJ,IAAkB,qBAAtB,EAA6C,CACnD,CADM,MACA;AAAE;AAAS;AACnB,aALD;;AAOA,gBAAIgF,KAAK,IAAI,qBAAb,EAAoC;AAClCH,uBAAS,GAAGiE,eAAZ;AACD;AAED;;AACA;;;;;;;;;;;;;;AAaAjE,qBAAS,GAAG,+CAAUA,SAAV,EAAqB,MAArB,EAA6B,KAA7B,CAAZ;AACAxG,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB0G,KAAvB,EAA8B,aAA9B,EAA6CH,SAA7C;AAEA;;AACA;;;;AAIA,gBAAIA,SAAS,CAAClC,MAAV,GAAmB,MAAI,CAACd,SAAL,CAAeF,KAAtC,EAA6C;AAC3C,kBAAIuD,MAAM,GAAG,MAAI,CAACtD,cAAL,CAAoBuD,MAApB,CAA2B,UAAAC,EAAE;AAAA,uBAAI,CAACP,SAAS,CAACQ,IAAV,CAAe,UAAAC,GAAG;AAAA,yBAAIF,EAAE,IAAIE,GAAG,CAACC,IAAd;AAAA,iBAAlB,CAAL;AAAA,eAA7B,CAAb;;AACAlH,qBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB4G,MAAvB;AACA,kBAAIM,UAAU,GAAGX,SAAS,CAAClC,MAAV,GAAmB,CAAnB,GAAuBkC,SAAS,CAAC,CAAD,CAAhC,GAAsC,GAAvD;AACAK,oBAAM,CAAChG,OAAP,CAAe,UAAAkG,EAAE,EAAI;AACnBP,yBAAS,CAACxF,IAAV,CAAe;AACb,gCAAc,CADD;AAEb,oCAAkB,CAFL;AAGb,gCAAc,CAHD;AAIb,oCAAkB,CAJL;AAKb,4BAAUmG,UAAU,CAAC,QAAD,CALP;AAMb,yBAAOA,UAAU,CAAC,KAAD,CANJ;AAOb,0BAAQA,UAAU,CAAC,MAAD,CAPL;AAQbD,sBAAI,EAAEH;AARO,iBAAf;AAUD,eAXD;AAaAP,uBAAS,CAACY,IAAV,CAAe,SAASC,OAAT,CAAiBjD,CAAjB,EAAoBC,CAApB,EAAuB;AACpC,oBAAIiD,KAAK,GAAQ,IAAIC,IAAJ,CAASnD,CAAC,CAAC8C,IAAX,CAAjB;AACA,oBAAIM,KAAK,GAAQ,IAAID,IAAJ,CAASlD,CAAC,CAAC6C,IAAX,CAAjB;AACA,uBAAQI,KAAK,GAAGE,KAAhB;AACD,eAJD;AAKD;;AAED,gBAAImD,aAAa,GAAQ,CAAzB;AACA,gBAAIC,YAAY,GAAQ,CAAxB;AACApE,qBAAS,CAAC3F,OAAV,CAAkB,UAAAc,IAAI,EAAI;AACxBiJ,0BAAY,GAAG,IAAIrD,IAAJ,CAAS5F,IAAI,CAACuF,IAAd,EAAoB2D,QAApB,KAAiC,CAAhD;;AACA,kBAAI,8CAASlJ,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACpCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACD;;AACD,kBAAI,8CAASA,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACpCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACD;;AAED,kBAAIiJ,YAAY,IAAID,aAApB,EAAmC;AACjC,oBAAIhE,KAAK,CAACR,OAAN,CAAc,UAAd,KAA6B,CAAC,CAAlC,EAAqC;AACnC,wBAAI,CAAC2E,cAAL,CAAoBpE,MAApB,EAA4B/E,IAA5B,EAAkCb,CAAlC,EAAqC6F,KAArC,EAA4C,gBAA5C;AACD,iBAFD,MAEO;AACL,wBAAI,CAACmE,cAAL,CAAoBpE,MAApB,EAA4B/E,IAA5B,EAAkCb,CAAlC,EAAqC6F,KAArC,EAA4C,gBAA5C;AACD;AACF,eAND,MAMO;AACL,oBAAIA,KAAK,CAACR,OAAN,CAAc,UAAd,KAA6B,CAAC,CAAlC,EAAqC;AACnC,wBAAI,CAAC4E,SAAL,CAAerE,MAAf,EAAuB/E,IAAvB,EAA6Bb,CAA7B,EAAgC6F,KAAhC,EAAuC,gBAAvC;AACD,iBAFD,MAEO;AACL,wBAAI,CAACoE,SAAL,CAAerE,MAAf,EAAuB/E,IAAvB,EAA6Bb,CAA7B,EAAgC6F,KAAhC,EAAuC,gBAAvC;AACD;AACF;;AACDgE,2BAAa,GAAG,IAAIpD,IAAJ,CAAS5F,IAAI,CAACuF,IAAd,EAAoB2D,QAApB,KAAiC,CAAjD;AACD,aAvBD;AAyBArE,qBAAS,GAAG,EAAZ;;AACA,gBAAI1F,CAAC,IAAI,CAAT,EAAY;AACV2F,iBAAG,CAACzF,IAAJ,CAAS;AACPgK,2BAAW,EAAE,MAAI,CAACzK,OAAL,CAAa,CAAb,EAAgB,aAAhB,CADN;AAEPE,mBAAG,EAAE,MAAI,CAACF,OAAL,CAAa,CAAb,EAAgB,KAAhB,CAFE;AAGPmG,sBAAM,EAAE,CAAC/E,IAAD;AAHD,eAAT;AAKD,aAND,MAMO;AACL8E,iBAAG,CAACzF,IAAJ,CAAS;AACP0F,sBAAM,EAAE,CAAC/E,IAAD;AADD,eAAT;AAGD;AACF,WAnGD;AAqGA,eAAKsB,MAAL,GAAcwD,GAAd;AACAzG,iBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBwG,GAAvB;AAEAgB,oBAAU,CAAC,YAAM;AACf,kBAAI,CAAClB,gBAAL;;AAAwB;AACzB,WAFS,EAEP,IAFO,CAAV;AAGD;AAED;;;;uCACeG,M,EAAQ/E,I,EAAMb,C,EAAG6F,K,EAAOrE,K,EAAO;AAC5CoE,gBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiB3F,IAAjB,CAAsB;AACpBsB,iBAAK,EAAEX,IAAI,CAACW,KAAD,CADS;AAEpB7B,eAAG,EAAEkB,IAAI,CAAC,KAAD,CAFW;AAGpBuF,gBAAI,EAAEvF,IAAI,CAAC,MAAD;AAHU,WAAtB;AAKD;AAED;;;;kCACU+E,M,EAAQ/E,I,EAAMb,C,EAAG6F,K,EAAOrE,K,EAAO;AACvCoE,gBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiBK,IAAjB,CAAsB,UAACP,GAAD,EAAS;AAC7B,gBAAIA,GAAG,CAACS,IAAJ,IAAYvF,IAAI,CAAC,MAAD,CAApB,EAA8B;AAC5B8E,iBAAG,CAAC,OAAD,CAAH,IAAgB9E,IAAI,CAACW,KAAD,CAApB;AACD;AACF,WAJD;AAKD;;;2CAEkB2I,K,EAAO;AAAA;;AACxB,eAAKpH,SAAL,GAAiB,IAAjB;AACA,eAAKqH,iBAAL,CAAuBD,KAAvB;AACA,cAAIlD,KAAK,GAAG,KAAKoD,WAAL,EAAZ;AAEAnD,cAAI,CAACC,GAAL,wBAAyBF,KAAzB,GAAkCvK,IAAlC,CAAuC,UAAA0K,IAAI,EAAI;AAC7C,kBAAI,CAACrE,SAAL,GAAiB,KAAjB;AACA,kBAAI,CAACN,cAAL,GAAsB,4CAAO,2CAAM2E,IAAN,EAAY,MAAZ,CAAP,CAAtB;AACA,kBAAI,CAAC3H,OAAL,GAAe2H,IAAf;AACA+C,iBAAK,IAAI,IAAT,IAAiB,MAAI,CAACpC,YAAL,EAAjB;;AACA,kBAAI,CAACV,iBAAL;;AACAV,sBAAU,CAAC,YAAM;AACf,oBAAI,CAAC2D,eAAL;AACD,aAFS,EAEP,IAFO,CAAV;AAGD,WATD,WASS,UAAA3N,CAAC,EAAI;AACZ,kBAAI,CAACoG,SAAL,GAAiB,KAAjB;AACA7D,mBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBxC,CAAnB;AACD,WAZD;AAaD;;;sCAEa;AACZ;AADY,iCAEiB,KAAK+F,SAFtB;AAAA,cAENF,KAFM,oBAENA,KAFM;AAAA,cAEC6F,WAFD,oBAECA,WAFD;AAGZ,cAAIpB,KAAK,GAAG,EAAZ;AACA,cAAIL,WAAW,GAAG,mCAAM,GAAGC,OAAT,CAAiB,OAAjB,EAA0BC,MAA1B,CAAiC,YAAjC,CAAlB;AACA,cAAIC,QAAQ,GAAG,mCAAM,GAAGC,GAAT,CAAaxE,KAAK,GAAG,CAArB,EAAwB,QAAxB,EAAkCqE,OAAlC,CAA0C,OAA1C,EAAmDC,MAAnD,CAA0D,YAA1D,CAAf;;AACA,cAAI,KAAK0B,MAAL,IAAe,EAAnB,EAAuB;AACrBvB,iBAAK,gCAAyBoB,WAAzB,uBAAiDzB,WAAjD,sBAAwEG,QAAxE,gDAAL;AACD,WAFD,MAEO;AACLE,iBAAK,gCAAyBoB,WAAzB,uBAAiD,KAAKG,MAAtD,wBAA0E5B,WAA1E,sBAAiGG,QAAjG,gDAAL;AACD;;AACD,iBAAOE,KAAP;AACD;;;uCAEc;AACbvD,WAAC,CAAC,SAAD,CAAD,CAAa4D,WAAb,CAAyB,aAAzB;AACD;;;mCAEUlB,I,EAAM;AACf,iBAAO,mCAAM,CAACA,IAAD,CAAN,CAAaU,MAAb,CAAoB,YAApB,CAAP;AACD;;;sCAEanD,G,EAAK;AACjB,iBAAOrC,IAAI,CAACC,KAAL,CAAWoC,GAAX,CAAP;AACD;;;yCAEgB;AAAA;;AACfuD,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyB,yFAAzB,EAAoH;AAAEC,uBAAW,EAAE;AAAf,WAApH,EACGnL,IADH,CACQ,UAAC0K,IAAD,EAAU;AACd,kBAAI,CAACgB,eAAL,GAAuBhB,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,qBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,aAAlB,CAAvB;AACA,kBAAI,CAACoC,WAAL,GAAmB,MAAI,CAACgG,eAAxB;;AAEA,gBAAI,MAAI,CAAChG,WAAL,CAAiBoB,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,oBAAI,CAACqF,oBAAL,GAA4B,KAA5B;AACD;AACF,WARH,WAQW,UAAAlM,CAAC,EAAI;AACZuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACD,WAVH;AAWD;;;+BAEMkE,I,EAAM0J,I,EAAM;AAAA;;AACjB;;;AAGA,eAAK1H,YAAL,GAAoB,IAApB;AACA,eAAKC,UAAL,GAAkB,IAAlB;AACA,eAAKJ,SAAL,CAAe/C,GAAf,GAAqB,EAArB;AAEA,eAAK4C,OAAL,GAAe,EAAf;AACA,eAAKgG,MAAL,GAAc,EAAd;AACA,cAAItB,KAAK,GAAG,qDAAqD,KAAKvE,SAAL,CAAe2F,WAApE,GAAkF,gBAA9F;AAEAnB,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyBX,KAAzB,EAAgC;AAAEY,uBAAW,EAAE;AAAf,WAAhC,EACGnL,IADH,CACQ,UAAC0K,IAAD,EAAU;AACd,kBAAI,CAACoD,aAAL,GAAqBpD,IAAI,CAAC,MAAD,CAAzB;AACAA,gBAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC,EAAI;AACpB,oBAAI,CAACuC,OAAL,CAAarC,IAAb,CAAkB;AAAEuK,qBAAK,EAAEzK,CAAC,CAAC,CAAD,CAAV;AAAehB,qBAAK,EAAEgB,CAAC,CAAC,CAAD;AAAvB,eAAlB;AACD,aAFD;;AAIA,gBAAI,MAAI,CAACuC,OAAL,CAAaiB,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,oBAAI,CAACX,YAAL,GAAoB,KAApB;AACA,oBAAI,CAACC,UAAL,GAAkB,KAAlB;AACA;;;;;AAKD;;AAED,gBAAIyH,IAAJ,EAAU;AACR;AACA,oBAAI,CAAC5B,WAAL,GAAmBvB,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,uBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,eAAlB,CAAnB,CAFQ,CAGR;AACD;AAEF,WAvBH,WAuBW,UAAArD,CAAC,EAAI;AACZuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACD,WAzBH;AA0BD;;;8CAEqBkE,I,EAAM;AAC1B,cAAIC,KAAK,GAAG,EAAZ;AACAD,cAAI,CAACd,OAAL,CAAa,UAAA2K,EAAE,EAAI;AACjB5J,iBAAK,CAACZ,IAAN,YAAewK,EAAf;AACD,WAFD;AAGA,iBAAO5J,KAAP;AACD;;;qCAEY;AACX,eAAK4H,OAAL,GAAe,CAAf;AACD;;;sCAEa7J,K,EAAO8L,Q,EAAU3L,K,EAAO;AACpC,cAAI4L,WAAW,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,CAAlB;;AAEA,cAAID,QAAQ,IAAI,IAAhB,EAAsB;AACpB,mBAAQ9L,KAAK,CAACiJ,QAAN,IAAkB,CAAlB,IAAuBjJ,KAAK,CAACiJ,QAAN,IAAkB,CAA1C,GAA+C,IAA/C,GAAuDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwBjJ,KAAK,CAACiJ,QAAN,IAAkB,EAA3C,IAAmDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwB8C,WAAW,CAACtB,QAAZ,CAAqBzK,KAAK,CAACiJ,QAA3B,CAAxI;AACD,WAFD,MAEO;AACL,mBAAQjJ,KAAK,CAACiJ,QAAN,IAAkB,CAAlB,IAAuBjJ,KAAK,CAACiJ,QAAN,IAAkB,CAA1C,GAA+C,IAA/C,GAAuDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwBjJ,KAAK,CAACiJ,QAAN,IAAkB,EAA3C,IAAmD8C,WAAW,CAACtB,QAAZ,CAAqBzK,KAAK,CAACiJ,QAA3B,CAAhH;AACD;AACF;;;mCAEU;AACT;;;AAGD;;;0CAEiBqC,K,EAAO;AACvB;AACA,eAAKxB,WAAL,GAAmB,KAAKJ,MAAxB,CAFuB,CAEO;AAC9B;;AAEA;;AACA,cAAI4B,KAAK,IAAI,IAAb,EAAmB;AACjB,iBAAK3B,MAAL,GAAc,KAAKG,WAAnB,CADiB,CAEjB;;AAEA,gBAAI,KAAKA,WAAL,CAAiBnF,MAAjB,IAA2B,CAA/B,EAAkC;AAChC,mBAAKmF,WAAL,GAAmB,KAAK6B,aAAL,CAAmBtN,GAAnB,CAAuB,UAAA8C,CAAC;AAAA,uBAAIA,CAAJ;AAAA,eAAxB,CAAnB;AACD;AACD;;;;AAGD;AACF;;;gCAEO9B,K,EAAO2M,G,EAAKhL,I,EAAM;AACxB,eAAKqI,OAAL,CAAa4C,MAAb,CACEjL,IADF,EAEE3B,KAFF,EAGE2M,GAHF;AAKD;;;wCAEe;AACd,cAAIE,KAAK,GAAG;AACVvL,kBAAM,EAAE,KAAKiD,cAAL,CAAoBvF,GAApB,CAAwB,UAAA8C,CAAC;AAAA,qBAAI,mCAAM,CAACA,CAAD,CAAN,CAAU8G,MAAV,CAAiB,YAAjB,CAAJ;AAAA,aAAzB,CADE;AAEVpH,oBAAQ,EAAE,KAAKsL,WAAL,EAFA;AAGVvL,mBAAO,EAAE,KAAKwL,gBAAL,EAHC;AAIVtL,eAAG,EAAE,KAAKgJ,WAJA;AAKV/I,qBAAS,EAAE,sCALD;AAMVC,gBAAI,EAAE;AAAEM,oBAAM,EAAE,cAAV;AAA0BC,iBAAG,EAAE;AAA/B;AANI,WAAZ;;AAQA,eAAK+H,KAAL,CAAW+C,OAAX,CAAmBH,KAAnB;AACD;;;sCAEa;AACZ,cAAI3J,MAAM,GAAG,EAAb;;AACA,eAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BoB,kBAAM,CAAClB,IAAP,CAAYwD,CAAC,CAAC,eAAe1D,CAAhB,CAAD,CAAoBiE,IAApB,EAAZ;AACD;;AACD,iBAAO7C,MAAP;AACD;;;2CAEkB;AACjB,cAAI+J,QAAQ,GAAG,iDAAY,KAAKhJ,MAAjB,CAAf;;AACA,cAAIiJ,KAAK,GAAG,KAAK3I,cAAL,CAAoBe,MAAhC;AACA,cAAI6H,KAAK,GAAG,EAAZ;AACA,cAAIC,KAAK,GAAG,EAAZ;AACA,cAAIC,OAAO,GAAG,EAAd;;AAEA,eAAK,IAAIvL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoL,KAApB,EAA2BpL,CAAC,EAA5B,EAAgC;AAC9BqL,iBAAK,CAACnL,IAAN,CAAW;AACTsB,mBAAK,EAAEkC,CAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,GAA+B5E,OAA/B,CAAuC,IAAvC,EAA6C,EAA7C;AADE,aAAX;;AAIAiM,iBAAK,CAACpL,IAAN,CAAW;AACTsB,mBAAK,EAAEkC,CAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,GAAqD5E,OAArD,CAA6D,IAA7D,EAAmE,EAAnE;AADE,aAAX;;AAIAkM,mBAAO,CAACrL,IAAR,CAAa;AACXsB,mBAAK,EAAEkC,CAAC,CAAC,cAAc1D,CAAf,CAAD,CAAmBiE,IAAnB;AADI,aAAb;AAGD;;AAED,wDAASkH,QAAT,EAAmB,UAACT,EAAD,EAAQ;AACzB,gBAAIlN,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,cAApC,EAAoD;AAClD8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,gCAAgByF;AADL,eAAD,CAAZ;AAGD,aAJD,MAIO,IAAI7N,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,oCAApC,EAA0E;AAC/E8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,uDAAuC0F;AAD5B,eAAD,CAAZ;AAGD,aAJM,MAIA,IAAI9N,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,SAApC,EAA+C;AACpD8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,4BAAY2F;AADD,eAAD,CAAZ;AAGD;AACF,WAdD;AAgBA,iBAAOJ,QAAP;AACD;;;0CAEiB;AAChB,cAAIE,KAAK,GAAG,EAAZ;;AACA,eAAK,IAAIrL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyC,cAAL,CAAoBe,MAAxC,EAAgDxD,CAAC,EAAjD,EAAqD;AACnD,gBAAIwL,IAAI,GAAG9H,CAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,EAAX;;AACAoH,iBAAK,CAACnL,IAAN,CAAWkD,QAAQ,CAACoI,IAAD,CAAnB;;AACA9H,aAAC,CAAC,cAAc1D,CAAf,CAAD,CAAmBiE,IAAnB,CAAwBuH,IAAxB;AACD;AAED;;;AACA,cAAIC,KAAK,GAAGJ,KAAK,CAAChI,MAAN,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,GAAGC,CAAd;AAAA,WAAb,EAA8B,CAA9B,EAAiC9B,cAAjC,EAAZ;;AACAiC,WAAC,CAAC,cAAD,CAAD,CAAkBO,IAAlB,CAAuBwH,KAAvB;AACD;;;;;;;uBA/rBUxD,oB,EAAoB,iJ,EAAA,0J;AAAA,K;;;YAApBA,oB;AAAoB,uC;AAAA,e;AAAA,c;AAAA,+hF;AAAA;AAAA;AChBjC;;AACE;;AACE;;AAEE;;AACE;;AACE;;AAAgB;;AAAY;;AAE5B;;AAAgB;;AAAS;;AACzB;;AAAgB;;AAAM;;AACtB;;AACA;;AACA;;AAAgB;;AAAe;;AACjC;;AAEA;;AACE;;AACA;;AACA;;AACA;;AACF;;AACF;;AAEA;;AACE;;AAwEF;;AACF;;AACF;;AAEA;;AACE;;AAAoB;AAAA,mBAAS,IAAAF,YAAA,EAAT;AAAuB,WAAvB;;AAClB;;AACF;;AAEA;;AACE;;AAA6D;AAAA;AAAA;;AAE3D;;AACF;;AACA;;AAOF;;AAEA;;AACE;;AAEE;;AACE;;AACE;;AAAc;;AAAY;;AAC1B;;AAAwD;AAAA;AAAA,aAAmC,eAAnC,EAAmC;AAAA,mBACxE,IAAAC,MAAA,4BAA8B,KAA9B,CADwE;AACpC,WADC;;AAGtD;;AACF;;AACF;;AAEA;;AACE;;AAAc;;AAAK;;AACnB;;AAAmE;AAAA;AAAA;;AACjE;;AACF;;AACF;;AACF;;AAiBA;;AACE;;AACE;;AAAsC;;AACpC;;AAEF;;AACA;;AAAiF;AAAA;AAAA;;AAE/E;;AACF;;AAEA;;AAIF;;AACF;;AAEA;;AACE;;AACE;AAAA,mBAAS,IAAA9E,kBAAA,CAAmB,IAAnB,CAAT;AAAiC,WAAjC;;AAAmC;;AAAE;;AACzC;;AACF;;AACF;;AACF;;AACF;;;;;;;;AAlL4B;;AAAA,yFAAiB,kBAAjB,EAAiB,KAAjB,EAAiB,YAAjB,EAAiB,oBAAjB,EAAiB,WAAjB,EAAiB,aAAjB;;AAQoB;;AAAA;;AACpB;;AAAA;;AAKd;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKF;;AAAA;;AAkFuD;;AAAA,uGAAiC,kBAAjC,EAAiC,GAAjC;;AAmBC;;AAAA,yGAAmC,WAAnC,EAAmC,wBAAnC,EAAmC,YAAnC,EAAmC,wBAAnC;;AAG3C;;AAAA;;AAMsD;;AAAA;;AACtD;;AAAA;;AA0BoE;;AAAA,0FAAoB,YAApB,EAAoB,cAApB;;AAEpE;;AAAA;;AAGO;;AAAA;;AAQsB;;AAAA;;;;;;;;;;sED9JzC+E,oB,EAAoB;cALhC,uDAKgC;eALtB;AACT9J,kBAAQ,EAAE,kBADD;AAETC,qBAAW,EAAE,+BAFJ;AAGTC,mBAAS,EAAE,CAAC,+BAAD;AAHF,S;AAKsB,Q;;;;;;;;;;;;;;;;;;;;;;;;AEhBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUU;;AAAuE;;AAAS;;;;;;AAA5E;;;;;;AACJ;;AAAoD;;AAAS;;;;AAAzD;;;;;;AAKJ;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAA2C;;AAAuB;;;;;;;;AAAvB;;AAAA;;;;;;AAmBjC;;AAAoC;;AAAO;;;;;;AAAP;;AAAA;;;;;;AAZ5C;;AACE;;AAAkC;;AAAmB;;AAQrD;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;;;;;;;AAfoC;;AAAA;;AAWxB;;AAAA;;;;;;;;AAWR;;AACqB;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AACnB;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;;AAAA,+CACW,IADX,EACe,UADf;AACe,SADrC;;AADF;;AAGF;;;;;;;;;;;AATmE;;AAEtC;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AAUF;;;;;;;;AAVM;;AAAA;;;;;;;;AAaJ;;AAAmE;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AAEjE;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;;AAAA,+CACW,IADX,EACe,UADf;AACe,SADrC;;AADF;;AAGF;;;;;;;;;;;AARE;;AAC2B;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AAUF;;;;;;;;AAVM;;AAAA;;;;;;AAaJ;;AACoB;;AAAC;;;;;;;;;;AAD8C;;;;;;AADrE;;AACE;;AAEF;;;;;;;;AAFM;;AAAA;;;;;;AAKJ;;AAEE;;;;AACF;;;;;;;;;;;AAHmE;;AAEjE;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;;;AAJM;;AAAA;;;;;;AAOJ;;AAEE;;;;AACF;;;;;;;;;;;AAHmE;;AAEjE;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;;;AAJM;;AAAA;;;;;;AA1CV;;AACE;;AAAmB;;AAA8B;;AACjD;;AACE;;AAaA;;AAaA;;AAKA;;AAOA;;AAMF;;AACA;;AAAgD;;AAAgC;;AAClF;;;;;;;;;;AAhDqB;;AAAA;;AACL;;AAAA;;AACE;;AAAA;;AAaA;;AAAA;;AAaA;;AAAA;;AAKA;;AAAA;;AAcZ;;AAAA;;AAA4C;;AAAA;;;;;;AArEpD;;AACE;;AACE;;AAiBF;;AAEA;;;;AAkDF;;;;;;;AAtEgB;;AAAA;;AACE;;AAAA;;AAmBF;;AAAA;;;;;;;;AAkEhB;;AAA0D;;AAAgB;;AAC1E;;AAA4D;;AAAuB;;AACnF;;AAA6D;;AAAwB;;AACrF;;AACA;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAe;;;;;;AAazD;;;;;;AAAmD,0FAAoB,SAApB,EAAoB,YAApB;;;;;;AAOnD;;;;;;AAAmC,mFAAa,SAAb,EAAa,KAAb;;;;;;AA4BnC;;;;;;AAAuC,2FAAqB,SAArB,EAAqB,aAArB;;;;;;AAIlB;;;;;;AADvB;;AACE;;AACA;;AACF;;;;;;AADoB;;AAAA;;;;QDzJnBqN,kB;AAwCX,kCACUxD,OADV,EAEUC,KAFV,EAEqC;AAAA;;AAD3B,aAAAD,OAAA,GAAAA,OAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AAxCV,aAAAjG,MAAA,GAAwB,IAAxB;AACA,aAAAC,MAAA,GAAS,EAAT;AACA,aAAA1C,OAAA,GAAU,EAAV;AAGA,aAAA2C,WAAA,GAAwB,EAAxB;AAEA,aAAAuJ,cAAA,GAAiB,EAAjB;AACA,aAAArJ,WAAA,GAAwB,EAAxB;AAEA,aAAAE,KAAA,GAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,IAA9C,EAAoD,IAApD,EAA0D,IAA1D,CAAR;AACA,aAAAC,cAAA,GAAiB,EAAjB;AACA,aAAAC,SAAA,GAAY;AACVkJ,oBAAU,EAAE,QADF;AAEVjJ,aAAG,EAAE,EAFK;AAGVhD,aAAG,EAAE,EAHK;AAIV6C,eAAK,EAAE;AAJG,SAAZ;AAOA,aAAA8F,OAAA,GAAU,EAAV;AACA,aAAAjG,OAAA,GAAmD,EAAnD;AACA,aAAAE,OAAA,GAAmD,EAAnD;AACA,aAAAgG,MAAA,GAAS,EAAT;AACA,aAAAC,MAAA,GAAS,EAAT;AACA,aAAAC,OAAA,GAAU,EAAV;AACA,aAAAC,OAAA,GAAU,CAAV;AACA,aAAAC,WAAA,GAAmB,EAAnB;AACA,aAAAC,YAAA,GAAoB,EAApB;AAEA;;AACA,aAAAiD,mBAAA,GAAsB,IAAtB;AACA,aAAAjJ,YAAA,GAAe,KAAf;AACA,aAAAC,YAAA,GAAe,KAAf;AACA,aAAAC,UAAA,GAAa,IAAb;AACA,aAAAgG,WAAA,GAAc,IAAd;AACA,aAAA/F,SAAA,GAAY,IAAZ;AACA,aAAAC,UAAA,GAAa,KAAb,CAIqC,CAEnC;AACD;;;;mCAEO;AACN,eAAK8I,aAAL;AACA,eAAK5I,kBAAL,CAAwB,QAAxB,EAFM,CAGN;;AACA,eAAK8E,MAAL,CAAY,KAAKM,OAAjB,EAA0B,IAA1B;AACD;;;qCAEYzH,I,EAAM;AACjB,iBAAOrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAP;AACD;;;wCAEeA,I,EAAM;AACpB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACA,iBAAOA,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAX;AACD;;;uCAEctC,I,EAAM;AACnB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACAsC,kBAAQ,GAAGtC,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAf;AACA,cAAI3B,KAAK,GAAG2B,QAAQ,CAACjG,GAAT,CAAa,UAAA8C,CAAC,EAAI;AAC5B,mBAAOA,CAAC,CAAC,OAAD,CAAD,IAAc,EAAd,GAAmB,CAAnB,GAAuBoD,QAAQ,CAACpD,CAAC,CAAC,OAAD,CAAF,CAAtC;AACD,WAFW,CAAZ;AAGA,iBAAOwB,KAAK,CAAC6B,MAAN,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,GAAGC,CAAd;AAAA,WAAb,EAA8B,CAA9B,EAAiC9B,cAAjC,EAAP;AACD;;;8BAEKzB,C,EAAGa,I,EAAM;AACb,2BAAUrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,EACPxB,OADO,CACC,SADD,EACY,GADZ,CAAV,cAEMW,CAFN;AAGD;;;2CAEkB;AACjB,eAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyC,cAAL,CAAoBe,MAAxC,EAAgDxD,CAAC,EAAjD,EAAqD;AACnD,gBAAIyD,SAAS,GAAG,KAAKuF,YAAL,CAAkBhJ,CAAlB,EAAqB,UAArB,CAAhB;AACA,gBAAI6D,SAAS,GAAG,KAAKmF,YAAL,CAAkBhJ,CAAlB,EAAqB,UAArB,CAAhB;AACA,gBAAI8D,QAAQ,GAAGL,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBL,QAAQ,CAACK,SAAD,CAA7C;AACA,gBAAIM,QAAQ,GAAGF,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBT,QAAQ,CAACS,SAAD,CAA7C;;AAEA,gBAAIS,YAAY,GAAGlB,QAAQ,CAACM,CAAC,CAAC,4BAA4B1D,CAA7B,CAAD,CAAiCiE,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAR,GAAsE+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA9E,GAA0I+D,QAAQ,CAACM,CAAC,CAAC,yDAAyD1D,CAA1D,CAAD,CAA8DiE,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAAlJ,GAA8OyE,QAAjQ;;AACA,gBAAImF,YAAY,GAAG7F,QAAQ,CAACM,CAAC,CAAC,sDAAsD1D,CAAvD,CAAD,CAA2DiE,IAA3D,GAAkE5E,OAAlE,CAA0E,IAA1E,EAAgF,EAAhF,CAAD,CAAR,GAAgG+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxG,GAAoK+D,QAAQ,CAACM,CAAC,CAAC,yDAAyD1D,CAA1D,CAAD,CAA8DiE,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAA5K,GAAuQ+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA/Q,GAA4U0E,QAA/V;;AAEA,gBAAIG,GAAG,GAAG+E,YAAY,GAAG3E,YAAzB;AACAZ,aAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,CAAmDC,GAAG,CAACzC,cAAJ,EAAnD;AAEA,iBAAKyH,aAAL;AACA,iBAAK/E,QAAL,CAAcnE,CAAd;AACD;AACF;;;iCAEQA,C,EAAG;AACV,cAAIoE,UAAU,GAAGhB,QAAQ,CAACM,CAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,GAAqD5E,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAzB;;AACA,cAAIgF,UAAU,GAAG,KAAK2E,YAAL,CAAkBhJ,CAAC,GAAG,CAAtB,EAAyB,UAAzB,CAAjB;;AAEA,cAAIsE,YAAY,GAAGlB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAAR,GAA4E+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAApF,GAAsJ+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAA9J,GAAgQgF,UAAnR;;AACA,cAAIE,IAAI,GAAG,CAAX;AACA,cAAIC,UAAU,GAAG,CAAjB;;AACA,cAAIC,KAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,cAAIC,UAAU,GAAG,KAAKlC,cAAL,CAAoBe,MAArC;AAEAtE,iBAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0Ca,CAA1C;AACAd,iBAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BiF,UAA1B,EAAsC,YAAtC,EAAoDhB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAA5D,EAA+H+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAAvI,EAAwM+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAAhN,EAAgTgF,UAAhT,EAA4T,gBAA5T,EAA8UC,YAA9U,EAA4V,aAA5V,EAA2WD,UAA3W,EAAuX,QAAvX,EAAiYI,KAAjY,EAAwY,QAAxY,EAAkZ,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAlZ;AAGA;;AACA,cAAIoE,UAAU,IAAI,CAAd,IAAmBA,UAAU,GAAG,CAApC,EAAuC;AACrCG,gBAAI,GAAG,CAAP;AACAb,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,mBAAO,CAACC,GAAR,CAAY,sCAAZ;AACA;AACD;AACD;;;AAEA,cAAIiF,UAAU,IAAIE,YAAlB,EAAgC;AAC9BpF,mBAAO,CAACC,GAAR,CAAY,yBAAZ;AACAoF,gBAAI,GAAGE,KAAK,GAAG,CAAf;AACAD,sBAAU,GAAGJ,UAAU,GAAGE,YAA1B;AAEA;;AACA,gBAAIhD,IAAI,CAAC6H,IAAL,CAAU7E,YAAV,KAA2B,CAAC,CAAhC,EAAmC;AACjCE,wBAAU,GAAGJ,UAAb;AACD;;AAEDlF,mBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBoF,IAArB,EAA2B,aAA3B,EAA0CC,UAA1C;AAEA;;AACA,gBAAIF,YAAY,IAAI,CAApB,EAAuB;AACrBC,kBAAI,GAAG,CAAP;AACArF,qBAAO,CAACC,GAAR,CAAY,iCAAZ;AACD;AAED;;;AACA,gBAAI,mDAAc,KAAKsD,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAd,CAAJ,EAA+C;AAC7Cd,qBAAO,CAACC,GAAR,CAAY,kDAAZ;AACAuE,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD,aAtB6B,CAwB9B;;;AACA,iBAAK,IAAIC,CAAC,GAAI9E,CAAC,GAAG,CAAlB,EAAsB8E,CAAC,GAAGH,UAA1B,EAAsCG,CAAC,EAAvC,EAA2C;AACzC,kBAAIT,WAAU,GAAG,KAAK2E,YAAL,CAAkBlE,CAAlB,EAAqB,UAArB,CAAjB;;AACA,kBAAIC,gBAAgB,GAAG3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAR,GAAsE+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA9E,GAA0I+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAAlJ,GAA8OgF,WAArQ;;AAEAnF,qBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,KAAKsD,cAAL,CAAoBqC,CAApB,CAA7B,EAAqD,mBAArD,EAA0EC,gBAA1E,EAA4F,YAA5F,EAA0G3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAlH,EAA+K+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAvL,EAAkP+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAA1P,EAAoVgF,WAApV;AAEA;;AACA,kBAAIU,gBAAgB,IAAI,CAApB,IAAyBR,IAAI,IAAI,CAArC,EAAwC;AACtCA,oBAAI,GAAG,CAAP;AACArF,uBAAO,CAACC,GAAR,CAAY,qCAAZ;AACA;AACD;;AAED,kBAAIqF,UAAU,GAAGO,gBAAb,IAAiCA,gBAAgB,IAAI,CAAzD,EAA4D;AAC1D7F,uBAAO,CAACC,GAAR,CAAY,sDAAZ;AACAsF,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;AACAH,oBAAI,IAAIE,KAAK,GAAG,CAAhB;AACAD,0BAAU,GAAGA,UAAU,GAAGO,gBAA1B;AAEA7F,uBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BoF,IAA3B,EAAiC,mBAAjC,EAAsDC,UAAtD,EAAkE,aAAlE,EAAiFC,KAAjF,EAAwF,QAAxF,EAAkG,KAAKhC,cAAL,CAAoBqC,CAApB,CAAlG;AAEA5F,uBAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8D,KAAKsD,cAAL,CAAoBqC,CAApB,CAA9D;AAEA;;AACA,oBAAIA,CAAC,IAAI,KAAKrC,cAAL,CAAoBe,MAApB,GAA6B,CAAtC,EAAyC;AACvCtE,yBAAO,CAACC,GAAR,CAAY,wDAAZ;AACAuE,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD,iBAHD,MAGO;AACLnB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBgF,WAAxB,CAAoC,gBAApC;AACD;;AAED;AACD,eAnBD,MAmBO;AACL9F,uBAAO,CAACC,GAAR,CAAY,6CAAZ;AAEA;;AACA,oBAAI4F,gBAAgB,IAAI,CAAxB,EAA2B;AACzB;AACArB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,yBAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,QAA5C,EAAsDoF,IAAtD;AACA;AACD;AAED;;;AACA,oBAAIC,UAAU,IAAI,CAAlB,EAAqB;AACnBd,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA;AACD;;AAEDP,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;;AACA,oBAAIO,eAAe,GAAGF,gBAAgB,GAAGN,KAAzC;;AACA,oBAAIS,YAAY,GAAGV,UAAU,GAAGS,eAAhC;;AACAV,oBAAI,IAAIW,YAAY,GAAG,CAAvB;AACAxB,iBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,uBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BsF,KAA7B,EAAoC,gBAApC,EAAsDS,YAAtD,EAAoE,OAApE,EAA6EX,IAA7E;AACA;AACD;AACF;AACF,WAnFD,MAmFO;AACLrF,mBAAO,CAACC,GAAR,CAAY,oDAAZ;;AACA,gBAAIsF,MAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,gBAAIS,YAAY,GAAGb,YAAY,GAAGG,MAAlC;;AACA,gBAAIW,SAAS,GAAGhB,UAAU,GAAGe,YAA7B;;AACAZ,gBAAI,GAAGa,SAAS,GAAG,CAAnB;AACA1B,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,mBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBsF,MAAtB,EAA6B,uBAA7B,EAAsDU,YAAtD,EAAoE,YAApE,EAAkFC,SAAlF,EAA6F,OAA7F,EAAsGb,IAAtG;AAEA;;AACA,gBAAI,6CAAQA,IAAR,CAAJ,EAAmB;AACjBb,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD;;AACD3F,mBAAO,CAACC,GAAR,CAAY,2CAAZ;AACD;AACF;;;oCAEWH,K,EAAOgB,C,EAAG;AACpB,cAAIhB,KAAK,IAAIA,KAAK,CAACqG,OAAN,CAAc,GAAd,IAAqB,CAAC,CAAnC,EAAsC;AACpCrG,iBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBoE,QAAQ,CAACpE,KAAD,CAAlC;;AACA,gBAAIsG,SAAS,GAAGlC,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxB;;AACA,gBAAIkG,GAAG,GAAIvG,KAAK,GAAG,GAAT,GAAgBsG,SAA1B;;AACA,mBAAOC,GAAP;AACD,WALD,MAKO;AACL,mBAAOnC,QAAQ,CAACpE,KAAD,CAAf;AACD;AACF;;;qCAEYgB,C,EAAGH,I,EAAM;AACpB,cAAIuJ,KAAK,GAAG1F,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAZ;AACA,cAAI0F,KAAK,GAAG3F,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAZ;;AACA,kBAAQ9D,IAAR;AACE,iBAAK,UAAL;AACE,kBAAIyF,SAAS,GAAGlC,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxB;;AACA,kBAAI+J,KAAJ,EAAW;AACT,oBAAKA,KAAK,CAACE,QAAN,CAAe,GAAf,MAAwBF,KAAK,CAACE,QAAN,CAAe,GAAf,KAAuBF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA/C,CAAD,IAAyEF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA7E,EAAkG;AAChGF,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBhG,QAAQ,CAACgG,KAAD,CAAlC;AACA,yBAAQA,KAAK,GAAG,GAAT,GAAgB9D,SAAvB;AACD,iBAHD,MAGO,IAAI8D,KAAK,CAACE,QAAN,CAAe,GAAf,KAAuBF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA3B,EAAgD;AACrDF,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBhG,QAAQ,CAACgG,KAAD,CAAlC;AACA,yBAAOA,KAAP;AACD,iBAHM,MAGA;AACL,yBAAOhG,QAAQ,CAACgG,KAAD,CAAf;AACD;AACF,eAVD,MAUO;AACL,uBAAOhG,QAAQ,CAACgG,KAAD,CAAf;AACD;;AACH,iBAAK,UAAL;AACE,kBAAIC,KAAJ,EAAW;AACT,oBAAIA,KAAK,CAACC,QAAN,CAAe,GAAf,KAAuBD,KAAK,CAACC,QAAN,CAAe,GAAf,CAA3B,EAAgD;AAC9CD,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBjG,QAAQ,CAACiG,KAAD,CAAlC;AACA,yBAAOA,KAAP;AACD,iBAHD,MAGO;AACL,yBAAOjG,QAAQ,CAACiG,KAAD,CAAf;AACD;AACF,eAPD,MAOO;AACL,uBAAOjG,QAAQ,CAACiG,KAAD,CAAf;AACD;;AA1BL;AA4BD;AAED;;;;;;wCAGgB;AACd,cAAIE,SAAS,GAAG,KAAK9G,cAAL,CAAoBe,MAApC;AACA,cAAIgG,WAAW,GAAG,EAAlB;;AACA,eAAK,IAAIxJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuJ,SAApB,EAA+BvJ,CAAC,EAAhC,EAAoC;AAClCwJ,uBAAW,GAAG9F,CAAC,CAAC,0CAA0C1D,CAAC,GAAG,CAA9C,CAAD,CAAD,CAAoDiE,IAApD,EAAd;AACAP,aAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,CAAoCuF,WAApC;AACD;AACF;;;kCAEShE,G,EAAK;AACb,iBAAOA,GAAG,GAAG,CAAN,GAAUlE,IAAI,CAACC,KAAL,CAAWiE,GAAX,CAAV,GAA4B,CAAnC;AACD;;;sCAEaxF,C,EAAG;AACf,iBAAOsB,IAAI,CAACC,KAAL,CAAWvB,CAAX,EAAcyB,cAAd,EAAP;AACD;;;kCAESxE,E,EAAU;AAClB,eAAKiF,MAAL,GAAcjF,EAAd;AACD;;;mCAEO;AACN,eAAKiF,MAAL,GAAc,IAAd;;AACA,eAAKuD,gBAAL;AACD;;;4CAEmB;AAAA;;AAClB,cAAIC,SAAS,GAAG,EAAhB;AACA,cAAIC,GAAG,GAAG,EAAV;AACA,cAAIC,MAAM,GAAG,CACX;AAAE,mCAAuB;AAAzB,WADW,EAEX;AAAE,qCAAyB;AAA3B,WAFW,EAGX;AAAE,mCAAuB;AAAzB,WAHW,EAIX;AAAE,kEAAsD;AAAxD,WAJW,EAKX;AAAE,iCAAqB;AAAvB,WALW,EAMX;AAAE,+DAAmD;AAArD,WANW,EAOX;AAAE,mCAAuB;AAAzB,WAPW,EAQX;AAAE,kEAAsD;AAAxD,WARW,EASX;AAAE,iCAAqB;AAAvB,WATW,EAUX;AAAE,yCAA6B;AAA/B,WAVW,EAWX;AAAE,qCAAyB;AAA3B,WAXW,EAYX;AAAE,uBAAW;AAAb,WAZW,EAaX;AAAE,kDAAsC;AAAxC,WAbW,EAcX;AAAE,4BAAgB;AAAlB,WAdW,EAeX;AAAE,sCAA0B;AAA5B,WAfW,EAgBX;AAAE,kCAAsB;AAAxB,WAhBW,EAiBX;AAAE,mCAAuB;AAAzB,WAjBW,EAkBX;AAAE,0CAA8B;AAAhC,WAlBW,EAmBX;AAAE,+BAAmB;AAArB,WAnBW,EAoBX;AAAE,uCAA2B;AAA7B,WApBW,CAAb;AAuBA;;AACA,cAAI6D,YAAY,GAAG,EAAnB;AACA,cAAIC,WAAW,GAAG,EAAlB;AACA,cAAIC,eAAe,GAAG,EAAtB;;AAEA,WAAC,YAAM;AACL,0DAAS,OAAI,CAAClK,OAAd,EAAuB,UAACoB,IAAD,EAAU;AAC/B,kBAAIA,IAAI,CAAC,QAAD,CAAJ,IAAkB,qBAAtB,EAA6C;AAC3C4I,4BAAY,CAACvJ,IAAb,CAAkBW,IAAlB;AACD,eAFD,MAEO;AAAE;AAAS;AACnB,aAJD;;AAMA,gBAAI+I,MAAM,GAAG,+CAAUH,YAAV,EAAwB,MAAxB,CAAb;;AACA,iBAAK,IAAIzJ,CAAT,IAAc4J,MAAd,EAAsB;AACpBF,yBAAW,CAACxJ,IAAZ,CAAiB,6CAAQ0J,MAAM,CAAC5J,CAAD,CAAd,EAAmB,gBAAnB,CAAjB;AACD;;AAED0J,uBAAW,CAAC3J,OAAZ,CAAoB,UAACC,CAAD,EAAO;AACzB2J,6BAAe,CAACzJ,IAAhB,CAAqB;AAAE0F,sBAAM,EAAE,qBAAV;AAAiC,kCAAkB5F,CAAnD;AAAsD,8BAAc;AAApE,eAArB;AACD,aAFD;AAGD,WAfD;;AAiBA4F,gBAAM,CAAC7F,OAAP,CAAe,UAACc,IAAD,EAAOb,CAAP,EAAa;AAC1B,gBAAI6F,KAAK,GAAGrI,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,CAAZ;AACA6E,qBAAS,GAAG,EAAZ;AACA,0DAAS,OAAI,CAACjG,OAAd,EAAuB,UAACoB,IAAD,EAAU;AAC/B,kBAAIA,IAAI,CAAC+E,MAAL,IAAeC,KAAf,IAAwBhF,IAAI,CAAC+E,MAAL,IAAe,qBAA3C,EAAkE;AAChEF,yBAAS,CAACxF,IAAV,CAAeW,IAAf;AACD,eAFD,MAEO,IAAIA,IAAI,CAAC,QAAD,CAAJ,IAAkB,qBAAtB,EAA6C,CACnD,CADM,MACA;AAAE;AAAS;AACnB,aALD;;AAOA,gBAAIgF,KAAK,IAAI,qBAAb,EAAoC;AAClCH,uBAAS,GAAGiE,eAAZ;AACD;AAED;;AACA;;;;;;;;;;;;;;AAaAjE,qBAAS,GAAG,+CAAUA,SAAV,EAAqB,MAArB,EAA6B,KAA7B,CAAZ;AACAxG,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB0G,KAAvB,EAA8B,aAA9B,EAA6CH,SAA7C;AAEA;;AACA;;;;AAIA,gBAAIA,SAAS,CAAClC,MAAV,GAAmB,OAAI,CAACd,SAAL,CAAeF,KAAtC,EAA6C;AAC3C,kBAAIuD,MAAM,GAAG,OAAI,CAACtD,cAAL,CAAoBuD,MAApB,CAA2B,UAAAC,EAAE;AAAA,uBAAI,CAACP,SAAS,CAACQ,IAAV,CAAe,UAAAC,GAAG;AAAA,yBAAIF,EAAE,IAAIE,GAAG,CAACC,IAAd;AAAA,iBAAlB,CAAL;AAAA,eAA7B,CAAb;;AACAlH,qBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB4G,MAAvB;AACA,kBAAIM,UAAU,GAAGX,SAAS,CAAClC,MAAV,GAAmB,CAAnB,GAAuBkC,SAAS,CAAC,CAAD,CAAhC,GAAsC,GAAvD;AACAK,oBAAM,CAAChG,OAAP,CAAe,UAAAkG,EAAE,EAAI;AACnBP,yBAAS,CAACxF,IAAV,CAAe;AACb,gCAAc,CADD;AAEb,oCAAkB,CAFL;AAGb,gCAAc,CAHD;AAIb,oCAAkB,CAJL;AAKb,4BAAUmG,UAAU,CAAC,QAAD,CALP;AAMb,yBAAOA,UAAU,CAAC,KAAD,CANJ;AAOb,0BAAQA,UAAU,CAAC,MAAD,CAPL;AAQbD,sBAAI,EAAEH;AARO,iBAAf;AAUD,eAXD;AAaAP,uBAAS,CAACY,IAAV,CAAe,SAASC,OAAT,CAAiBjD,CAAjB,EAAoBC,CAApB,EAAuB;AACpC,oBAAIiD,KAAK,GAAQ,IAAIC,IAAJ,CAASnD,CAAC,CAAC8C,IAAX,CAAjB;AACA,oBAAIM,KAAK,GAAQ,IAAID,IAAJ,CAASlD,CAAC,CAAC6C,IAAX,CAAjB;AACA,uBAAQI,KAAK,GAAGE,KAAhB;AACD,eAJD;AAKD;;AAED,gBAAImD,aAAa,GAAQ,CAAzB;AACA,gBAAIC,YAAY,GAAQ,CAAxB;AACApE,qBAAS,CAAC3F,OAAV,CAAkB,UAAAc,IAAI,EAAI;AACxBiJ,0BAAY,GAAG,IAAIrD,IAAJ,CAAS5F,IAAI,CAACuF,IAAd,EAAoB2D,QAApB,KAAiC,CAAhD;;AACA,kBAAI,8CAASlJ,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACpCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACD;;AACD,kBAAI,8CAASA,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACpCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACD;;AAED,kBAAIiJ,YAAY,IAAID,aAApB,EAAmC;AACjC,oBAAIhE,KAAK,CAACR,OAAN,CAAc,UAAd,KAA6B,CAAC,CAAlC,EAAqC;AACnC,yBAAI,CAAC2E,cAAL,CAAoBpE,MAApB,EAA4B/E,IAA5B,EAAkCb,CAAlC,EAAqC6F,KAArC,EAA4C,gBAA5C;AACD,iBAFD,MAEO;AACL,yBAAI,CAACmE,cAAL,CAAoBpE,MAApB,EAA4B/E,IAA5B,EAAkCb,CAAlC,EAAqC6F,KAArC,EAA4C,gBAA5C;AACD;AACF,eAND,MAMO;AACL,oBAAIA,KAAK,CAACR,OAAN,CAAc,UAAd,KAA6B,CAAC,CAAlC,EAAqC;AACnC,yBAAI,CAAC4E,SAAL,CAAerE,MAAf,EAAuB/E,IAAvB,EAA6Bb,CAA7B,EAAgC6F,KAAhC,EAAuC,gBAAvC;AACD,iBAFD,MAEO;AACL,yBAAI,CAACoE,SAAL,CAAerE,MAAf,EAAuB/E,IAAvB,EAA6Bb,CAA7B,EAAgC6F,KAAhC,EAAuC,gBAAvC;AACD;AACF;;AACDgE,2BAAa,GAAG,IAAIpD,IAAJ,CAAS5F,IAAI,CAACuF,IAAd,EAAoB2D,QAApB,KAAiC,CAAjD;AACD,aAvBD;AAyBArE,qBAAS,GAAG,EAAZ;;AACA,gBAAI1F,CAAC,IAAI,CAAT,EAAY;AACV2F,iBAAG,CAACzF,IAAJ,CAAS;AACP0L,0BAAU,EAAE,OAAI,CAACnM,OAAL,CAAa,CAAb,EAAgB,YAAhB,CADL;AAEPE,mBAAG,EAAE,OAAI,CAACF,OAAL,CAAa,CAAb,EAAgB,KAAhB,CAFE;AAGPmG,sBAAM,EAAE,CAAC/E,IAAD;AAHD,eAAT;AAKD,aAND,MAMO;AACL8E,iBAAG,CAACzF,IAAJ,CAAS;AACP0F,sBAAM,EAAE,CAAC/E,IAAD;AADD,eAAT;AAGD;AACF,WAnGD;AAqGA,eAAKsB,MAAL,GAAcwD,GAAd;AACAzG,iBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBwG,GAAvB;AAEAgB,oBAAU,CAAC,YAAM;AACf,mBAAI,CAAClB,gBAAL;;AAAwB;AACzB,WAFS,EAEP,IAFO,CAAV;AAGD;AAED;;;;uCACeG,M,EAAQ/E,I,EAAMb,C,EAAG6F,K,EAAOrE,K,EAAO;AAC5CoE,gBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiB3F,IAAjB,CAAsB;AACpBsB,iBAAK,EAAEX,IAAI,CAACW,KAAD,CADS;AAEpB7B,eAAG,EAAEkB,IAAI,CAAC,KAAD,CAFW;AAGpBuF,gBAAI,EAAEvF,IAAI,CAAC,MAAD;AAHU,WAAtB;AAKD;AAED;;;;kCACU+E,M,EAAQ/E,I,EAAMb,C,EAAG6F,K,EAAOrE,K,EAAO;AACvCoE,gBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiBK,IAAjB,CAAsB,UAACP,GAAD,EAAS;AAC7B,gBAAIA,GAAG,CAACS,IAAJ,IAAYvF,IAAI,CAAC,MAAD,CAApB,EAA8B;AAC5B8E,iBAAG,CAAC,OAAD,CAAH,IAAgB9E,IAAI,CAACW,KAAD,CAApB;AACD;AACF,WAJD;AAKD;;;2CAEkB2I,K,EAAO;AAAA;;AACxB,eAAKpH,SAAL,GAAiB,IAAjB;AACA,eAAKqH,iBAAL,CAAuBD,KAAvB;AACA,cAAIlD,KAAK,GAAG,KAAKoD,WAAL,EAAZ;AAEAnD,cAAI,CAACC,GAAL,wBAAyBF,KAAzB,GAAkCvK,IAAlC,CAAuC,UAAA0K,IAAI,EAAI;AAC7C,mBAAI,CAACrE,SAAL,GAAiB,KAAjB;AACA,mBAAI,CAACN,cAAL,GAAsB,4CAAO,2CAAM2E,IAAN,EAAY,MAAZ,CAAP,CAAtB;AACA,mBAAI,CAAC3H,OAAL,GAAe2H,IAAf;AACA+C,iBAAK,IAAI,IAAT,IAAiB,OAAI,CAACpC,YAAL,EAAjB;;AACA,mBAAI,CAACV,iBAAL;;AACAV,sBAAU,CAAC,YAAM;AACf,qBAAI,CAAC2D,eAAL;AACD,aAFS,EAEP,IAFO,CAAV;AAGD,WATD,WASS,UAAA3N,CAAC,EAAI;AACZ,mBAAI,CAACoG,SAAL,GAAiB,KAAjB;AACA7D,mBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBxC,CAAnB;AACD,WAZD;AAaD;;;sCAEa;AACZ;AADY,iCAEgB,KAAK+F,SAFrB;AAAA,cAENF,KAFM,oBAENA,KAFM;AAAA,cAECoJ,UAFD,oBAECA,UAFD;AAGZ,cAAI3E,KAAK,GAAG,EAAZ;AACA,cAAIL,WAAW,GAAG,mCAAM,GAAGC,OAAT,CAAiB,OAAjB,EAA0BC,MAA1B,CAAiC,YAAjC,CAAlB;AACA,cAAIC,QAAQ,GAAG,mCAAM,GAAGC,GAAT,CAAaxE,KAAK,GAAG,CAArB,EAAwB,QAAxB,EAAkCqE,OAAlC,CAA0C,OAA1C,EAAmDC,MAAnD,CAA0D,YAA1D,CAAf;;AACA,cAAI,KAAK0B,MAAL,IAAe,EAAnB,EAAuB;AACrBvB,iBAAK,+BAAwB2E,UAAxB,uBAA+ChF,WAA/C,sBAAsEG,QAAtE,gDAAL;AACD,WAFD,MAEO;AACLE,iBAAK,+BAAwB2E,UAAxB,uBAA+C,KAAKpD,MAApD,wBAAwE5B,WAAxE,sBAA+FG,QAA/F,gDAAL;AACD;;AACD,iBAAOE,KAAP;AACD;;;uCAEc;AACbvD,WAAC,CAAC,SAAD,CAAD,CAAa4D,WAAb,CAAyB,aAAzB;AACD;;;mCAEUlB,I,EAAM;AACf,iBAAO,mCAAM,CAACA,IAAD,CAAN,CAAaU,MAAb,CAAoB,YAApB,CAAP;AACD;;;sCAEanD,G,EAAK;AACjB,iBAAOrC,IAAI,CAACC,KAAL,CAAWoC,GAAX,CAAP;AACD;;;0CAEiB;AAAA;;AAChB,eAAKb,UAAL,GAAkB,KAAlB;AACA,cAAI4E,QAAQ,GAAG,EAAf;AACA,wDAAS,KAAK8C,aAAd,EAA6B,UAAC3J,IAAD,EAAU;AACrC,gBAAIA,IAAI,CAAC,CAAD,CAAJ,IAAW,OAAI,CAAC6B,SAAL,CAAeC,GAA9B,EAAmC;AACjC+E,sBAAQ,CAACxH,IAAT,CAAcW,IAAd;AACD,aAFD,MAEO;AACL;AACD;AACF,WAND;AAQA6G,kBAAQ,GAAGA,QAAQ,CAACxK,GAAT,CAAa,UAAA8C,CAAC;AAAA,mBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,WAAd,CAAX;AACA,eAAKuC,OAAL,GAAemF,QAAf;AACD;;;wCAEe;AAAA;;AACdR,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyB,sFAAzB,EAAiH;AAAEC,uBAAW,EAAE;AAAf,WAAjH,EACGnL,IADH,CACQ,UAAC0K,IAAD,EAAU;AACd,mBAAI,CAACuE,cAAL,GAAsBvE,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,qBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,aAAlB,CAAtB;AACA,mBAAI,CAACoC,WAAL,GAAmB,OAAI,CAACuJ,cAAxB;;AAEA,gBAAI,OAAI,CAACvJ,WAAL,CAAiBoB,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,qBAAI,CAACqI,mBAAL,GAA2B,KAA3B;AACD;AACF,WARH,WAQW,UAAAlP,CAAC,EAAI;AACZuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACD,WAVH;AAWD;;;+BAEMkE,I,EAAM0J,I,EAAM;AAAA;;AACjB;;;AAGA,eAAK1H,YAAL,GAAoB,IAApB;AACA,eAAKC,UAAL,GAAkB,IAAlB;AACA,eAAKJ,SAAL,CAAe/C,GAAf,GAAqB,EAArB;AAEA,eAAK4C,OAAL,GAAe,EAAf;AACA,eAAKgG,MAAL,GAAc,EAAd;AACA,cAAItB,KAAK,GAAG,oDAAoD,KAAKvE,SAAL,CAAekJ,UAAnE,GAAgF,gBAA5F;AAEA1E,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyBX,KAAzB,EAAgC;AAAEY,uBAAW,EAAE;AAAf,WAAhC,EACGnL,IADH,CACQ,UAAC0K,IAAD,EAAU;AACd,mBAAI,CAACoD,aAAL,GAAqBpD,IAAI,CAAC,MAAD,CAAzB;AACAA,gBAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC,EAAI;AACpB,qBAAI,CAACuC,OAAL,CAAarC,IAAb,CAAkB;AAAEuK,qBAAK,EAAEzK,CAAC,CAAC,CAAD,CAAV;AAAehB,qBAAK,EAAEgB,CAAC,CAAC,CAAD;AAAvB,eAAlB;AACD,aAFD;;AAIA,gBAAI,OAAI,CAACuC,OAAL,CAAaiB,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,qBAAI,CAACX,YAAL,GAAoB,KAApB;AACA,qBAAI,CAACC,UAAL,GAAkB,KAAlB;AACA;;;;;AAKD;;AAED,gBAAIyH,IAAJ,EAAU;AACR;AACA,qBAAI,CAAC5B,WAAL,GAAmBvB,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,uBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,eAAlB,CAAnB,CAFQ,CAGR;AACD;AAEF,WAvBH,WAuBW,UAAArD,CAAC,EAAI;AACZuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACD,WAzBH;AA0BD;;;8CAEqBkE,I,EAAM;AAC1B,cAAIC,KAAK,GAAG,EAAZ;AACAD,cAAI,CAACd,OAAL,CAAa,UAAA2K,EAAE,EAAI;AACjB5J,iBAAK,CAACZ,IAAN,YAAewK,EAAf;AACD,WAFD;AAGA,iBAAO5J,KAAP;AACD;;;qCAEY;AACX,eAAK4H,OAAL,GAAe,CAAf;AACD;;;sCAEa7J,K,EAAO8L,Q,EAAU3L,K,EAAO;AACpC,cAAI4L,WAAW,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,CAAlB;;AAEA,cAAID,QAAQ,IAAI,IAAhB,EAAsB;AACpB,mBAAQ9L,KAAK,CAACiJ,QAAN,IAAkB,CAAlB,IAAuBjJ,KAAK,CAACiJ,QAAN,IAAkB,CAA1C,GAA+C,IAA/C,GAAuDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwBjJ,KAAK,CAACiJ,QAAN,IAAkB,EAA3C,IAAmDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwB8C,WAAW,CAACtB,QAAZ,CAAqBzK,KAAK,CAACiJ,QAA3B,CAAxI;AACD,WAFD,MAEO;AACL,mBAAQjJ,KAAK,CAACiJ,QAAN,IAAkB,CAAlB,IAAuBjJ,KAAK,CAACiJ,QAAN,IAAkB,CAA1C,GAA+C,IAA/C,GAAuDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwBjJ,KAAK,CAACiJ,QAAN,IAAkB,EAA3C,IAAmD8C,WAAW,CAACtB,QAAZ,CAAqBzK,KAAK,CAACiJ,QAA3B,CAAhH;AACD;AACF;;;mCAEU;AACT;;;AAGD;;;0CAEiBqC,K,EAAO;AACvB;AACA,eAAKxB,WAAL,GAAmB,KAAKJ,MAAxB,CAFuB,CAEO;AAC9B;;AAEA;;AACA,cAAI4B,KAAK,IAAI,IAAb,EAAmB;AACjB,iBAAK3B,MAAL,GAAc,KAAKG,WAAnB,CADiB,CAEjB;;AAEA,gBAAI,KAAKA,WAAL,CAAiBnF,MAAjB,IAA2B,CAA/B,EAAkC;AAChC,mBAAKmF,WAAL,GAAmB,KAAK6B,aAAL,CAAmBtN,GAAnB,CAAuB,UAAA8C,CAAC;AAAA,uBAAIA,CAAJ;AAAA,eAAxB,CAAnB;AACD;AACD;;;;AAGD;AACF;;;gCAEO9B,K,EAAO2M,G,EAAKhL,I,EAAM;AACxB,eAAKqI,OAAL,CAAa4C,MAAb,CACEjL,IADF,EAEE3B,KAFF,EAGE2M,GAHF;AAKD;;;wCAEe;AACd,cAAIE,KAAK,GAAG;AACVvL,kBAAM,EAAE,KAAKiD,cAAL,CAAoBvF,GAApB,CAAwB,UAAA8C,CAAC;AAAA,qBAAI,mCAAM,CAACA,CAAD,CAAN,CAAU8G,MAAV,CAAiB,YAAjB,CAAJ;AAAA,aAAzB,CADE;AAEVpH,oBAAQ,EAAE,KAAKsL,WAAL,EAFA;AAGVvL,mBAAO,EAAE,KAAKwL,gBAAL,EAHC;AAIVtL,eAAG,EAAE,KAAKgJ,WAJA;AAKV/I,qBAAS,EAAE,qCALD;AAMVC,gBAAI,EAAE;AAAEM,oBAAM,EAAE,aAAV;AAAyBC,iBAAG,EAAE;AAA9B;AANI,WAAZ;;AAQA,eAAK+H,KAAL,CAAW+C,OAAX,CAAmBH,KAAnB;AACD;;;sCAEa;AACZ,cAAI3J,MAAM,GAAG,EAAb;;AACA,eAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BoB,kBAAM,CAAClB,IAAP,CAAYwD,CAAC,CAAC,eAAe1D,CAAhB,CAAD,CAAoBiE,IAApB,EAAZ;AACD;;AACD,iBAAO7C,MAAP;AACD;;;2CAEkB;AACjB,cAAI+J,QAAQ,GAAG,iDAAY,KAAKhJ,MAAjB,CAAf;;AACA,cAAIiJ,KAAK,GAAG,KAAK3I,cAAL,CAAoBe,MAAhC;AACA,cAAI6H,KAAK,GAAG,EAAZ;AACA,cAAIC,KAAK,GAAG,EAAZ;AACA,cAAIC,OAAO,GAAG,EAAd;;AAEA,eAAK,IAAIvL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoL,KAApB,EAA2BpL,CAAC,EAA5B,EAAgC;AAC9BqL,iBAAK,CAACnL,IAAN,CAAW;AACTsB,mBAAK,EAAEkC,CAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,GAA+B5E,OAA/B,CAAuC,IAAvC,EAA6C,EAA7C;AADE,aAAX;;AAIAiM,iBAAK,CAACpL,IAAN,CAAW;AACTsB,mBAAK,EAAEkC,CAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,GAAqD5E,OAArD,CAA6D,IAA7D,EAAmE,EAAnE;AADE,aAAX;;AAIAkM,mBAAO,CAACrL,IAAR,CAAa;AACXsB,mBAAK,EAAEkC,CAAC,CAAC,cAAc1D,CAAf,CAAD,CAAmBiE,IAAnB;AADI,aAAb;AAGD;;AAED,wDAASkH,QAAT,EAAmB,UAACT,EAAD,EAAQ;AACzB,gBAAIlN,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,cAApC,EAAoD;AAClD8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,gCAAgByF;AADL,eAAD,CAAZ;AAGD,aAJD,MAIO,IAAI7N,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,oCAApC,EAA0E;AAC/E8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,uDAAuC0F;AAD5B,eAAD,CAAZ;AAGD,aAJM,MAIA,IAAI9N,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,SAApC,EAA+C;AACpD8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,4BAAY2F;AADD,eAAD,CAAZ;AAGD;AACF,WAdD;AAgBA,iBAAOJ,QAAP;AACD;;;0CAEiB;AAChB,cAAIE,KAAK,GAAG,EAAZ;;AACA,eAAK,IAAIrL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyC,cAAL,CAAoBe,MAAxC,EAAgDxD,CAAC,EAAjD,EAAqD;AACnD,gBAAIwL,IAAI,GAAG9H,CAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,EAAX;;AACAoH,iBAAK,CAACnL,IAAN,CAAWkD,QAAQ,CAACoI,IAAD,CAAnB;;AACA9H,aAAC,CAAC,cAAc1D,CAAf,CAAD,CAAmBiE,IAAnB,CAAwBuH,IAAxB;AACD;AAED;;;AACA,cAAIC,KAAK,GAAGJ,KAAK,CAAChI,MAAN,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,GAAGC,CAAd;AAAA,WAAb,EAA8B,CAA9B,EAAiC9B,cAAjC,EAAZ;;AACAiC,WAAC,CAAC,cAAD,CAAD,CAAkBO,IAAlB,CAAuBwH,KAAvB;AACD;;;;;;;uBApsBUC,kB,EAAkB,iJ,EAAA,0J;AAAA,K;;;YAAlBA,kB;AAAkB,qC;AAAA,e;AAAA,c;AAAA,8hF;AAAA;AAAA;ACf/B;;AACE;;AACE;;AAEE;;AACE;;AACE;;AAAgB;;AAAW;;AAE3B;;AAAgB;;AAAS;;AACzB;;AAAgB;;AAAM;;AACtB;;AACA;;AACA;;AAAgB;;AAAe;;AACjC;;AAEA;;AACE;;AACA;;AACA;;AACA;;AACF;;AACF;;AAEA;;AACE;;AAwEF;;AACF;;AACF;;AAEA;;AACE;;AAAoB;AAAA,mBAAS,IAAA3D,YAAA,EAAT;AAAuB,WAAvB;;AAClB;;AACF;;AAEA;;AACE;;AAA6D;AAAA;AAAA;;AAE3D;;AACF;;AACA;;AAOF;;AAEA;;AACE;;AAEE;;AACE;;AACE;;AAAc;;AAAW;;AACzB;;AAAuD;AAAA;AAAA,aAAkC,eAAlC,EAAkC;AAAA,mBACtE,IAAAC,MAAA,2BAA6B,KAA7B,CADsE;AACnC,WADC;;AAGrD;;AACF;;AACF;;AAEA;;AACE;;AAAc;;AAAK;;AACnB;;AAAmE;AAAA;AAAA;;AACjE;;AACF;;AACF;;AACF;;AAiBA;;AACE;;AACE;;AAAsC;;AACpC;;AAEF;;AACA;;AAAiF;AAAA;AAAA;;AAE/E;;AACF;;AAEA;;AAIF;;AACF;;AAEA;;AACE;;AACE;AAAA,mBAAS,IAAA9E,kBAAA,CAAmB,IAAnB,CAAT;AAAiC,WAAjC;;AAAmC;;AAAE;;AACzC;;AACF;;AACF;;AACF;;AACF;;;;;;;;AAlL4B;;AAAA,yFAAiB,kBAAjB,EAAiB,KAAjB,EAAiB,YAAjB,EAAiB,oBAAjB,EAAiB,WAAjB,EAAiB,aAAjB;;AAQoB;;AAAA;;AACpB;;AAAA;;AAKd;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKF;;AAAA;;AAkFuD;;AAAA,uGAAiC,kBAAjC,EAAiC,GAAjC;;AAmBA;;AAAA,wGAAkC,WAAlC,EAAkC,uBAAlC,EAAkC,YAAlC,EAAkC,uBAAlC;;AAG1C;;AAAA;;AAMsD;;AAAA;;AACtD;;AAAA;;AA0BoE;;AAAA,0FAAoB,YAApB,EAAoB,cAApB;;AAEpE;;AAAA;;AAGO;;AAAA;;AAQsB;;AAAA;;;;;;;;;;sED/JzCwI,kB,EAAkB;cAL9B,uDAK8B;eALpB;AACTvN,kBAAQ,EAAE,gBADD;AAETC,qBAAW,EAAE,6BAFJ;AAGTC,mBAAS,EAAE,CAAC,6BAAD;AAHF,S;AAKoB,Q;;;;;;;;;;;;;;;;;;;;;;;;AEf/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACSU;;AAAuE;;AAAS;;;;;;AAA5E;;;;;;AACJ;;AAAoD;;AAAS;;;;AAAzD;;;;;;AAKJ;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAAsC;;AAAU;;;;;;AAChD;;AAA2C;;AAAuB;;;;;;;;AAAvB;;AAAA;;;;;;AAYjC;;AAAoC;;AAAO;;;;;;AAAP;;AAAA;;;;;;AAL5C;;AACE;;AAAkC;;AAAa;;AAC/C;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;;;;;;;AARoC;;AAAA;;AAIxB;;AAAA;;;;;;;;AAWR;;AACqB;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AACnB;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;;AAAA,+CACW,IADX,EACe,UADf;AACe,SADrC;;AADF;;AAGF;;;;;;;;;;;AATmE;;AAEtC;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AAUF;;;;;;;;AAVM;;AAAA;;;;;;;;AAaJ;;AAAmE;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAA0B,SAA1B;;AAEjE;;AACE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACF;;AACA;;AACE;AAAA;;AAAA;AAAA;AAAA,WAAsB,MAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB,EAAsB,UAAtB,EAAsB;AAAA;;AAAA;;AAAA;;AAAA,+CACW,IADX,EACe,UADf;AACe,SADrC;;AADF;;AAGF;;;;;;;;;;;AARE;;AAC2B;;AAAA;;AAEzB;;AAAA;;AAEiC;;AAAA,sIAA4C,SAA5C,EAA4C,YAA5C;;;;;;AAPvC;;AACE;;AAUF;;;;;;;;AAVM;;AAAA;;;;;;AAaJ;;AACoB;;AACpB;;;;;;;;;;AAFmE;;;;;;AADrE;;AACE;;AAGF;;;;;;;;AAHM;;AAAA;;;;;;AAMJ;;AAEE;;;;AACF;;;;;;;;;;;AAHmE;;AAEjE;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;;;AAJM;;AAAA;;;;;;AAOJ;;AAEE;;;;AACF;;;;;;;;;;;AAHmE;;AAEjE;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;;;AAJM;;AAAA;;;;;;AA3CV;;AACE;;AAAmB;;AAA8B;;AACjD;;AACE;;AAaA;;AAaA;;AAMA;;AAOA;;AAMF;;AACA;;AAAgD;;AAAgC;;AAClF;;;;;;;;;;AAjDqB;;AAAA;;AACL;;AAAA;;AACE;;AAAA;;AAaA;;AAAA;;AAaA;;AAAA;;AAMA;;AAAA;;AAcZ;;AAAA;;AAA4C;;AAAA;;;;;;AA/DpD;;AACE;;AACE;;AAUF;;AAEA;;;;AAmDF;;;;;;;AAhEgB;;AAAA;;AACE;;AAAA;;AAYF;;AAAA;;;;;;;;AAmEhB;;AAA0D;;AAAgB;;AAC1E;;AAA4D;;AAAuB;;AACnF;;AAA6D;;AAAwB;;AACrF;;AACA;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAe;;;;;;AAazD;;;;;;AAAuC,qFAAe,SAAf,EAAe,OAAf;;;;;;AAOvC;;;;;;AAAmC,mFAAa,SAAb,EAAa,KAAb;;;;;;AAcnC;;;;;;AAAuC,2FAAqB,SAArB,EAAqB,aAArB;;;;;;AAIlB;;;;;;AADvB;;AACE;;AACA;;AACF;;;;;;AADoB;;AAAA;;;;QDrInB0N,qB;AA8BX,qCACU5D,KADV,EACqC;AAAA;;AAA3B,aAAAA,KAAA,GAAAA,KAAA;AA7BV,aAAA1I,OAAA,GAAU,EAAV;AACA,aAAAyC,MAAA,GAAwB,IAAxB;AACA,aAAAC,MAAA,GAAS,EAAT;AAEA,aAAAC,WAAA,GAAwB,EAAxB;AACA,aAAAC,OAAA,GAAU,EAAV;AACA,aAAAC,WAAA,GAAwB,EAAxB;AACA,aAAAC,OAAA,GAAmD,EAAnD;AACA,aAAAC,KAAA,GAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,IAA9C,EAAoD,IAApD,EAA0D,IAA1D,CAAR;AACA,aAAAC,cAAA,GAAiB,EAAjB;AACA,aAAAC,SAAA,GAAY;AACV;AACAC,aAAG,EAAE,OAFK;AAGVhD,aAAG,EAAE,QAHK;AAIV6C,eAAK,EAAE;AAJG,SAAZ;AAOA,aAAA+F,MAAA,GAAS,EAAT;AACA,aAAAC,MAAA,GAAS,EAAT;AACA,aAAAG,WAAA,GAAmB,EAAnB;AAEA;;AACA,aAAA/F,YAAA,GAAe,IAAf;AACA,aAAAC,YAAA,GAAe,IAAf;AACA,aAAAC,UAAA,GAAa,IAAb;AACA,aAAAC,SAAA,GAAY,IAAZ;AACA,aAAAC,UAAA,GAAa,KAAb;AAKE,aAAKZ,WAAL,GAAmB,KAAKC,OAAxB;AACD;;;;mCAEO;AACN;AACA,eAAKY,MAAL;AACA,eAAKC,kBAAL,CAAwB,QAAxB;AACA,eAAK8E,MAAL,CAAY,KAAKtF,SAAL,CAAeC,GAA3B,EAAgC,IAAhC;AACD;;;qCAEY9B,I,EAAM;AACjB,iBAAOrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAP;AACD;;;wCAEeA,I,EAAM;AACpB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACA,iBAAOA,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAX;AACD;;;uCAEctC,I,EAAM;AACnB,cAAIsC,QAAQ,GAAG3F,MAAM,CAACV,IAAP,CAAY+D,IAAZ,CAAf;AACAsC,kBAAQ,GAAGtC,IAAI,CAACsC,QAAQ,CAAC,CAAD,CAAT,CAAf;AACA,cAAI3B,KAAK,GAAG2B,QAAQ,CAACjG,GAAT,CAAa,UAAA8C,CAAC,EAAI;AAC5B,mBAAOA,CAAC,CAAC,OAAD,CAAD,IAAc,EAAd,GAAmB,CAAnB,GAAuBoD,QAAQ,CAACpD,CAAC,CAAC,OAAD,CAAF,CAAtC;AACD,WAFW,CAAZ;AAGA,iBAAOwB,KAAK,CAAC6B,MAAN,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,GAAGC,CAAd;AAAA,WAAb,EAA8B,CAA9B,EAAiC9B,cAAjC,EAAP;AACD;;;8BAEKzB,C,EAAGa,I,EAAM;AACb,2BAAUrD,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,EACPxB,OADO,CACC,SADD,EACY,GADZ,CAAV,cAEMW,CAFN;AAGD;;;2CAEkB;AACjB,eAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyC,cAAL,CAAoBe,MAAxC,EAAgDxD,CAAC,EAAjD,EAAqD;AACnD,gBAAIyD,SAAS,GAAG,KAAKuF,YAAL,CAAkBhJ,CAAlB,EAAqB,UAArB,CAAhB;AACA,gBAAI6D,SAAS,GAAG,KAAKmF,YAAL,CAAkBhJ,CAAlB,EAAqB,UAArB,CAAhB;AACA,gBAAI8D,QAAQ,GAAGL,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBL,QAAQ,CAACK,SAAD,CAA7C;AACA,gBAAIM,QAAQ,GAAGF,SAAS,IAAI,EAAb,GAAkB,CAAlB,GAAsBT,QAAQ,CAACS,SAAD,CAA7C;;AAEA,gBAAIS,YAAY,GAAGlB,QAAQ,CAACM,CAAC,CAAC,4BAA4B1D,CAA7B,CAAD,CAAiCiE,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAR,GAAsE+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA9E,GAA0I+D,QAAQ,CAACM,CAAC,CAAC,yDAAyD1D,CAA1D,CAAD,CAA8DiE,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAAlJ,GAA8OyE,QAAjQ;;AACA,gBAAImF,YAAY,GAAG7F,QAAQ,CAACM,CAAC,CAAC,sDAAsD1D,CAAvD,CAAD,CAA2DiE,IAA3D,GAAkE5E,OAAlE,CAA0E,IAA1E,EAAgF,EAAhF,CAAD,CAAR,GAAgG+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxG,GAAoK+D,QAAQ,CAACM,CAAC,CAAC,yDAAyD1D,CAA1D,CAAD,CAA8DiE,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAA5K,GAAuQ+D,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA/Q,GAA4U0E,QAA/V;;AAEA,gBAAIG,GAAG,GAAG+E,YAAY,GAAG3E,YAAzB;AACAZ,aAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,CAAmDC,GAAG,CAACzC,cAAJ,EAAnD;AAEA,iBAAKyH,aAAL;AACA,iBAAK/E,QAAL,CAAcnE,CAAd;AACD;AACF;;;iCAEQA,C,EAAG;AACV,cAAIoE,UAAU,GAAGhB,QAAQ,CAACM,CAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,GAAqD5E,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAzB;;AACA,cAAIgF,UAAU,GAAG,KAAK2E,YAAL,CAAkBhJ,CAAC,GAAG,CAAtB,EAAyB,UAAzB,CAAjB;;AAEA,cAAIsE,YAAY,GAAGlB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAAR,GAA4E+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAApF,GAAsJ+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAA9J,GAAgQgF,UAAnR;;AACA,cAAIE,IAAI,GAAG,CAAX;AACA,cAAIC,UAAU,GAAG,CAAjB;;AACA,cAAIC,KAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,cAAIC,UAAU,GAAG,KAAKlC,cAAL,CAAoBe,MAArC;AAEAtE,iBAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0Ca,CAA1C;AACAd,iBAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BiF,UAA1B,EAAsC,YAAtC,EAAoDhB,QAAQ,CAACM,CAAC,CAAC,6BAA6B1D,CAAC,GAAG,CAAjC,CAAD,CAAD,CAAuCiE,IAAvC,GAA8C5E,OAA9C,CAAsD,IAAtD,EAA4D,EAA5D,CAAD,CAA5D,EAA+H+D,QAAQ,CAACM,CAAC,CAAC,2BAA2B1D,CAAC,GAAG,CAA/B,CAAD,CAAD,CAAqCiE,IAArC,GAA4C5E,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAD,CAAvI,EAAwM+D,QAAQ,CAACM,CAAC,CAAC,0DAA0D1D,CAAC,GAAG,CAA9D,CAAD,CAAD,CAAoEiE,IAApE,GAA2E5E,OAA3E,CAAmF,IAAnF,EAAyF,EAAzF,CAAD,CAAhN,EAAgTgF,UAAhT,EAA4T,gBAA5T,EAA8UC,YAA9U,EAA4V,aAA5V,EAA2WD,UAA3W,EAAuX,QAAvX,EAAiYI,KAAjY,EAAwY,QAAxY,EAAkZ,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAlZ;AAGA;;AACA,cAAIoE,UAAU,IAAI,CAAd,IAAmBA,UAAU,GAAG,CAApC,EAAuC;AACrCG,gBAAI,GAAG,CAAP;AACAb,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,mBAAO,CAACC,GAAR,CAAY,sCAAZ;AACA;AACD;AACD;;;AAEA,cAAIiF,UAAU,IAAIE,YAAlB,EAAgC;AAC9BpF,mBAAO,CAACC,GAAR,CAAY,yBAAZ;AACAoF,gBAAI,GAAGE,KAAK,GAAG,CAAf;AACAD,sBAAU,GAAGJ,UAAU,GAAGE,YAA1B;AAEA;;AACA,gBAAIhD,IAAI,CAAC6H,IAAL,CAAU7E,YAAV,KAA2B,CAAC,CAAhC,EAAmC;AACjCE,wBAAU,GAAGJ,UAAb;AACD;;AAEDlF,mBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBoF,IAArB,EAA2B,aAA3B,EAA0CC,UAA1C;AAEA;;AACA,gBAAIF,YAAY,IAAI,CAApB,EAAuB;AACrBC,kBAAI,GAAG,CAAP;AACArF,qBAAO,CAACC,GAAR,CAAY,iCAAZ;AACD;AAED;;;AACA,gBAAI,mDAAc,KAAKsD,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAd,CAAJ,EAA+C;AAC7Cd,qBAAO,CAACC,GAAR,CAAY,kDAAZ;AACAuE,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD,aAtB6B,CAwB9B;;;AACA,iBAAK,IAAIC,CAAC,GAAI9E,CAAC,GAAG,CAAlB,EAAsB8E,CAAC,GAAGH,UAA1B,EAAsCG,CAAC,EAAvC,EAA2C;AACzC,kBAAIT,WAAU,GAAG,KAAK2E,YAAL,CAAkBlE,CAAlB,EAAqB,UAArB,CAAjB;;AACA,kBAAIC,gBAAgB,GAAG3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAR,GAAsE+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAA9E,GAA0I+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAAlJ,GAA8OgF,WAArQ;;AAEAnF,qBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,KAAKsD,cAAL,CAAoBqC,CAApB,CAA7B,EAAqD,mBAArD,EAA0EC,gBAA1E,EAA4F,YAA5F,EAA0G3B,QAAQ,CAACM,CAAC,CAAC,4BAA4BoB,CAA7B,CAAD,CAAiCb,IAAjC,GAAwC5E,OAAxC,CAAgD,IAAhD,EAAsD,EAAtD,CAAD,CAAlH,EAA+K+D,QAAQ,CAACM,CAAC,CAAC,0BAA0BoB,CAA3B,CAAD,CAA+Bb,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAvL,EAAkP+D,QAAQ,CAACM,CAAC,CAAC,yDAAyDoB,CAA1D,CAAD,CAA8Db,IAA9D,GAAqE5E,OAArE,CAA6E,IAA7E,EAAmF,EAAnF,CAAD,CAA1P,EAAoVgF,WAApV;AAEA;;AACA,kBAAIU,gBAAgB,IAAI,CAApB,IAAyBR,IAAI,IAAI,CAArC,EAAwC;AACtCA,oBAAI,GAAG,CAAP;AACArF,uBAAO,CAACC,GAAR,CAAY,qCAAZ;AACA;AACD;;AAED,kBAAIqF,UAAU,GAAGO,gBAAb,IAAiCA,gBAAgB,IAAI,CAAzD,EAA4D;AAC1D7F,uBAAO,CAACC,GAAR,CAAY,sDAAZ;AACAsF,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;AACAH,oBAAI,IAAIE,KAAK,GAAG,CAAhB;AACAD,0BAAU,GAAGA,UAAU,GAAGO,gBAA1B;AAEA7F,uBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BoF,IAA3B,EAAiC,mBAAjC,EAAsDC,UAAtD,EAAkE,aAAlE,EAAiFC,KAAjF,EAAwF,QAAxF,EAAkG,KAAKhC,cAAL,CAAoBqC,CAApB,CAAlG;AAEA5F,uBAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8D,KAAKsD,cAAL,CAAoBqC,CAApB,CAA9D;AAEA;;AACA,oBAAIA,CAAC,IAAI,KAAKrC,cAAL,CAAoBe,MAApB,GAA6B,CAAtC,EAAyC;AACvCtE,yBAAO,CAACC,GAAR,CAAY,wDAAZ;AACAuE,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD,iBAHD,MAGO;AACLnB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBgF,WAAxB,CAAoC,gBAApC;AACD;;AAED;AACD,eAnBD,MAmBO;AACL9F,uBAAO,CAACC,GAAR,CAAY,6CAAZ;AAEA;;AACA,oBAAI4F,gBAAgB,IAAI,CAAxB,EAA2B;AACzB;AACArB,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B;AACArF,yBAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,QAA5C,EAAsDoF,IAAtD;AACA;AACD;AAED;;;AACA,oBAAIC,UAAU,IAAI,CAAlB,EAAqB;AACnBd,mBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA;AACD;;AAEDP,qBAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBqC,CAApB,CAAD,CAAN,CAA+BJ,WAA/B,EAAR;;AACA,oBAAIO,eAAe,GAAGF,gBAAgB,GAAGN,KAAzC;;AACA,oBAAIS,YAAY,GAAGV,UAAU,GAAGS,eAAhC;;AACAV,oBAAI,IAAIW,YAAY,GAAG,CAAvB;AACAxB,iBAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,uBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BsF,KAA7B,EAAoC,gBAApC,EAAsDS,YAAtD,EAAoE,OAApE,EAA6EX,IAA7E;AACA;AACD;AACF;AACF,WAnFD,MAmFO;AACLrF,mBAAO,CAACC,GAAR,CAAY,oDAAZ;;AACA,gBAAIsF,MAAK,GAAG,mCAAM,CAAC,KAAKhC,cAAL,CAAoBzC,CAAC,GAAG,CAAxB,CAAD,CAAN,CAAmC0E,WAAnC,EAAZ;;AACA,gBAAIS,YAAY,GAAGb,YAAY,GAAGG,MAAlC;;AACA,gBAAIW,SAAS,GAAGhB,UAAU,GAAGe,YAA7B;;AACAZ,gBAAI,GAAGa,SAAS,GAAG,CAAnB;AACA1B,aAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDS,WAAnD,CAA+D,gBAA/D;AACA9F,mBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBsF,MAAtB,EAA6B,uBAA7B,EAAsDU,YAAtD,EAAoE,YAApE,EAAkFC,SAAlF,EAA6F,OAA7F,EAAsGb,IAAtG;AAEA;;AACA,gBAAI,6CAAQA,IAAR,CAAJ,EAAmB;AACjBb,eAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,CAA6B,KAAKW,SAAL,CAAeL,IAAf,CAA7B,EAAmDM,QAAnD,CAA4D,gBAA5D;AACD;;AACD3F,mBAAO,CAACC,GAAR,CAAY,2CAAZ;AACD;AACF;;;oCAEWH,K,EAAOgB,C,EAAG;AACpB,cAAIhB,KAAK,IAAIA,KAAK,CAACqG,OAAN,CAAc,GAAd,IAAqB,CAAC,CAAnC,EAAsC;AACpCrG,iBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBoE,QAAQ,CAACpE,KAAD,CAAlC;;AACA,gBAAIsG,SAAS,GAAGlC,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxB;;AACA,gBAAIkG,GAAG,GAAIvG,KAAK,GAAG,GAAT,GAAgBsG,SAA1B;;AACA,mBAAOC,GAAP;AACD,WALD,MAKO;AACL,mBAAOnC,QAAQ,CAACpE,KAAD,CAAf;AACD;AACF;;;qCAEYgB,C,EAAGH,I,EAAM;AACpB,cAAIuJ,KAAK,GAAG1F,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAZ;AACA,cAAI0F,KAAK,GAAG3F,CAAC,CAAC,wBAAwB1D,CAAxB,GAA4B,QAA7B,CAAD,CAAwC2D,GAAxC,EAAZ;;AACA,kBAAQ9D,IAAR;AACE,iBAAK,UAAL;AACE,kBAAIyF,SAAS,GAAGlC,QAAQ,CAACM,CAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,GAAsC5E,OAAtC,CAA8C,IAA9C,EAAoD,EAApD,CAAD,CAAxB;;AACA,kBAAI+J,KAAJ,EAAW;AACT,oBAAKA,KAAK,CAACE,QAAN,CAAe,GAAf,MAAwBF,KAAK,CAACE,QAAN,CAAe,GAAf,KAAuBF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA/C,CAAD,IAAyEF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA7E,EAAkG;AAChGF,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBhG,QAAQ,CAACgG,KAAD,CAAlC;AACA,yBAAQA,KAAK,GAAG,GAAT,GAAgB9D,SAAvB;AACD,iBAHD,MAGO,IAAI8D,KAAK,CAACE,QAAN,CAAe,GAAf,KAAuBF,KAAK,CAACE,QAAN,CAAe,GAAf,CAA3B,EAAgD;AACrDF,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBhG,QAAQ,CAACgG,KAAD,CAAlC;AACA,yBAAOA,KAAP;AACD,iBAHM,MAGA;AACL,yBAAOhG,QAAQ,CAACgG,KAAD,CAAf;AACD;AACF,eAVD,MAUO;AACL,uBAAOhG,QAAQ,CAACgG,KAAD,CAAf;AACD;;AACH,iBAAK,UAAL;AACE,kBAAIC,KAAJ,EAAW;AACT,oBAAIA,KAAK,CAACC,QAAN,CAAe,GAAf,KAAuBD,KAAK,CAACC,QAAN,CAAe,GAAf,CAA3B,EAAgD;AAC9CD,uBAAK,GAAGA,KAAK,IAAI,EAAT,GAAc,CAAd,GAAkBjG,QAAQ,CAACiG,KAAD,CAAlC;AACA,yBAAOA,KAAP;AACD,iBAHD,MAGO;AACL,yBAAOjG,QAAQ,CAACiG,KAAD,CAAf;AACD;AACF,eAPD,MAOO;AACL,uBAAOjG,QAAQ,CAACiG,KAAD,CAAf;AACD;;AA1BL;AA4BD;AAED;;;;;;wCAGgB;AACd,cAAIE,SAAS,GAAG,KAAK9G,cAAL,CAAoBe,MAApC;AACA,cAAIgG,WAAW,GAAG,EAAlB;;AACA,eAAK,IAAIxJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuJ,SAApB,EAA+BvJ,CAAC,EAAhC,EAAoC;AAClCwJ,uBAAW,GAAG9F,CAAC,CAAC,0CAA0C1D,CAAC,GAAG,CAA9C,CAAD,CAAD,CAAoDiE,IAApD,EAAd;AACAP,aAAC,CAAC,0BAA0B1D,CAA3B,CAAD,CAA+BiE,IAA/B,CAAoCuF,WAApC;AACD;AACF;;;kCAEShE,G,EAAK;AACb,iBAAOA,GAAG,GAAG,CAAN,GAAUlE,IAAI,CAACC,KAAL,CAAWiE,GAAX,CAAV,GAA4B,CAAnC;AACD;;;sCAEaxF,C,EAAG;AACf,iBAAOsB,IAAI,CAACC,KAAL,CAAWvB,CAAX,EAAcyB,cAAd,EAAP;AACD;;;kCAESxE,E,EAAU;AAClB,eAAKiF,MAAL,GAAcjF,EAAd;AACD;;;mCAEO;AACN,eAAKiF,MAAL,GAAc,IAAd;;AACA,eAAKuD,gBAAL;AACD;;;4CAEmB;AAAA;;AAClB,cAAIC,SAAS,GAAG,EAAhB;AACA,cAAIC,GAAG,GAAG,EAAV;AACA,cAAIC,MAAM,GAAG,CACX;AAAE,mCAAuB;AAAzB,WADW,EAEX;AAAE,qCAAyB;AAA3B,WAFW,EAGX;AAAE,mCAAuB;AAAzB,WAHW,EAIX;AAAE,kEAAsD;AAAxD,WAJW,EAKX;AAAE,iCAAqB;AAAvB,WALW,EAMX;AAAE,+DAAmD;AAArD,WANW,EAOX;AAAE,mCAAuB;AAAzB,WAPW,EAQX;AAAE,kEAAsD;AAAxD,WARW,EASX;AAAE,iCAAqB;AAAvB,WATW,EAUX;AAAE,yCAA6B;AAA/B,WAVW,EAWX;AAAE,qCAAyB;AAA3B,WAXW,EAYX;AAAE,uBAAW;AAAb,WAZW,EAaX;AAAE,kDAAsC;AAAxC,WAbW,EAcX;AAAE,4BAAgB;AAAlB,WAdW,EAeX;AAAE,sCAA0B;AAA5B,WAfW,EAgBX;AAAE,kCAAsB;AAAxB,WAhBW,EAiBX;AAAE,mCAAuB;AAAzB,WAjBW,EAkBX;AAAE,0CAA8B;AAAhC,WAlBW,EAmBX;AAAE,+BAAmB;AAArB,WAnBW,EAoBX;AAAE,uCAA2B;AAA7B,WApBW,CAAb;AAuBA;;AACA,cAAI6D,YAAY,GAAG,EAAnB;AACA,cAAIC,WAAW,GAAG,EAAlB;AACA,cAAIC,eAAe,GAAG,EAAtB;;AAEA,WAAC,YAAM;AACL,0DAAS,OAAI,CAAClK,OAAd,EAAuB,UAACoB,IAAD,EAAU;AAC/B,kBAAIA,IAAI,CAAC,QAAD,CAAJ,IAAkB,qBAAtB,EAA6C;AAC3C4I,4BAAY,CAACvJ,IAAb,CAAkBW,IAAlB;AACD,eAFD,MAEO;AAAE;AAAS;AACnB,aAJD;;AAMA,gBAAI+I,MAAM,GAAG,+CAAUH,YAAV,EAAwB,MAAxB,CAAb;;AACA,iBAAK,IAAIzJ,CAAT,IAAc4J,MAAd,EAAsB;AACpBF,yBAAW,CAACxJ,IAAZ,CAAiB,6CAAQ0J,MAAM,CAAC5J,CAAD,CAAd,EAAmB,gBAAnB,CAAjB;AACD;;AAED0J,uBAAW,CAAC3J,OAAZ,CAAoB,UAACC,CAAD,EAAO;AACzB2J,6BAAe,CAACzJ,IAAhB,CAAqB;AAAE0F,sBAAM,EAAE,qBAAV;AAAiC,kCAAkB5F,CAAnD;AAAsD,8BAAc;AAApE,eAArB;AACD,aAFD;AAGD,WAfD;;AAiBA4F,gBAAM,CAAC7F,OAAP,CAAe,UAACc,IAAD,EAAOb,CAAP,EAAa;AAC1B,gBAAI6F,KAAK,GAAGrI,MAAM,CAACV,IAAP,CAAY+D,IAAZ,EAAkB,CAAlB,CAAZ;AACA6E,qBAAS,GAAG,EAAZ;AACA,0DAAS,OAAI,CAACjG,OAAd,EAAuB,UAACoB,IAAD,EAAU;AAC/B,kBAAIA,IAAI,CAAC+E,MAAL,IAAeC,KAAf,IAAwBhF,IAAI,CAAC+E,MAAL,IAAe,qBAA3C,EAAkE;AAChEF,yBAAS,CAACxF,IAAV,CAAeW,IAAf;AACD,eAFD,MAEO,IAAIA,IAAI,CAAC,QAAD,CAAJ,IAAkB,qBAAtB,EAA6C,CACnD,CADM,MACA;AAAE;AAAS;AACnB,aALD;;AAOA,gBAAIgF,KAAK,IAAI,qBAAb,EAAoC;AAClCH,uBAAS,GAAGiE,eAAZ;AACD;AAED;;AACA;;;;;;;;;;;;;;AAaAjE,qBAAS,GAAG,+CAAUA,SAAV,EAAqB,KAArB,EAA4B,KAA5B,CAAZ;AACAxG,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB0G,KAAvB,EAA8B,aAA9B,EAA6CH,SAA7C;AAEA;;AACA;;;;AAIA,gBAAIA,SAAS,CAAClC,MAAV,GAAmB,OAAI,CAACd,SAAL,CAAeF,KAAtC,EAA6C;AAC3C,kBAAIuD,MAAM,GAAG,OAAI,CAACtD,cAAL,CAAoBuD,MAApB,CAA2B,UAAAC,EAAE;AAAA,uBAAI,CAACP,SAAS,CAACQ,IAAV,CAAe,UAAAC,GAAG;AAAA,yBAAIF,EAAE,IAAIE,GAAG,CAACC,IAAd;AAAA,iBAAlB,CAAL;AAAA,eAA7B,CAAb;;AACAlH,qBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB4G,MAAvB;AACA,kBAAIM,UAAU,GAAGX,SAAS,CAAClC,MAAV,GAAmB,CAAnB,GAAuBkC,SAAS,CAAC,CAAD,CAAhC,GAAsC,GAAvD;AACAK,oBAAM,CAAChG,OAAP,CAAe,UAAAkG,EAAE,EAAI;AACnBP,yBAAS,CAACxF,IAAV,CAAe;AACb,gCAAc,CADD;AAEb,oCAAkB,CAFL;AAGb,gCAAc,CAHD;AAIb,oCAAkB,CAJL;AAKb,4BAAUmG,UAAU,CAAC,QAAD,CALP;AAMb,yBAAOA,UAAU,CAAC,KAAD,CANJ;AAOb,0BAAQA,UAAU,CAAC,MAAD,CAPL;AAQbD,sBAAI,EAAEH;AARO,iBAAf;AAUD,eAXD;AAaAP,uBAAS,CAACY,IAAV,CAAe,SAASC,OAAT,CAAiBjD,CAAjB,EAAoBC,CAApB,EAAuB;AACpC,oBAAIiD,KAAK,GAAQ,IAAIC,IAAJ,CAASnD,CAAC,CAAC8C,IAAX,CAAjB;AACA,oBAAIM,KAAK,GAAQ,IAAID,IAAJ,CAASlD,CAAC,CAAC6C,IAAX,CAAjB;AACA,uBAAQI,KAAK,GAAGE,KAAhB;AACD,eAJD;AAKD;;AAEDhB,qBAAS,CAAC3F,OAAV,CAAkB,UAAAc,IAAI,EAAI;AACxB,kBAAI,8CAASA,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACpCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACD;;AACD,kBAAI,8CAASA,IAAI,CAAC,gBAAD,CAAb,CAAJ,EAAsC;AACpCA,oBAAI,CAAC,gBAAD,CAAJ,GAAyB,CAAzB;AACD;;AAED,kBAAI+E,MAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiBrC,MAAjB,GAA0B,OAAI,CAACf,cAAL,CAAoBe,MAAlD,EAA0D;AACxD,oBAAIqC,KAAK,CAACR,OAAN,CAAc,UAAd,KAA6B,CAAC,CAAlC,EAAqC;AACnC,yBAAI,CAAC2E,cAAL,CAAoBpE,MAApB,EAA4B/E,IAA5B,EAAkCb,CAAlC,EAAqC6F,KAArC,EAA4C,gBAA5C;AACD,iBAFD,MAEO;AACL,yBAAI,CAACmE,cAAL,CAAoBpE,MAApB,EAA4B/E,IAA5B,EAAkCb,CAAlC,EAAqC6F,KAArC,EAA4C,gBAA5C;AACD;AACF,eAND,MAMO;AACL,oBAAIA,KAAK,CAACR,OAAN,CAAc,UAAd,KAA6B,CAAC,CAAlC,EAAqC;AACnC,yBAAI,CAAC4E,SAAL,CAAerE,MAAf,EAAuB/E,IAAvB,EAA6Bb,CAA7B,EAAgC6F,KAAhC,EAAuC,gBAAvC;AACD,iBAFD,MAEO;AACL,yBAAI,CAACoE,SAAL,CAAerE,MAAf,EAAuB/E,IAAvB,EAA6Bb,CAA7B,EAAgC6F,KAAhC,EAAuC,gBAAvC;AACD;AACF;AACF,aArBD;AAuBAH,qBAAS,GAAG,EAAZ;;AACA,gBAAI1F,CAAC,IAAI,CAAT,EAAY;AACV2F,iBAAG,CAACzF,IAAJ,CAAS;AACPW,oBAAI,EAAE,OAAI,CAACpB,OAAL,CAAa,CAAb,EAAgB,MAAhB,CADC;AAEPE,mBAAG,EAAE,OAAI,CAACgJ,WAFH;AAGP/C,sBAAM,EAAE,CAAC/E,IAAD;AAHD,eAAT;AAKD,aAND,MAMO;AACL8E,iBAAG,CAACzF,IAAJ,CAAS;AACP0F,sBAAM,EAAE,CAAC/E,IAAD;AADD,eAAT;AAGD;AACF,WA/FD;AAiGA,eAAKsB,MAAL,GAAcwD,GAAd;AACAzG,iBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBwG,GAAvB;AAEAgB,oBAAU,CAAC,YAAM;AACf,mBAAI,CAAClB,gBAAL;;AAAwB;AACzB,WAFS,EAEP,IAFO,CAAV;AAGD;AAED;;;;uCACeG,M,EAAQ/E,I,EAAMb,C,EAAG6F,K,EAAOrE,K,EAAO;AAC5CoE,gBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiB3F,IAAjB,CAAsB;AACpBsB,iBAAK,EAAEX,IAAI,CAACW,KAAD,CADS;AAEpB7B,eAAG,EAAEkB,IAAI,CAAC,KAAD,CAFW;AAGpBuF,gBAAI,EAAEvF,IAAI,CAAC,MAAD;AAHU,WAAtB;AAKD;AAED;;;;kCACU+E,M,EAAQ/E,I,EAAMb,C,EAAG6F,K,EAAOrE,K,EAAO;AACvCoE,gBAAM,CAAC5F,CAAD,CAAN,CAAU6F,KAAV,EAAiBK,IAAjB,CAAsB,UAACP,GAAD,EAAS;AAC7B,gBAAIA,GAAG,CAACS,IAAJ,IAAYvF,IAAI,CAAC,MAAD,CAApB,EAA8B;AAC5B8E,iBAAG,CAAC,OAAD,CAAH,IAAgB9E,IAAI,CAACW,KAAD,CAApB;AACD;AACF,WAJD;AAKD;;;2CAEkB2I,K,EAAO;AAAA;;AAAA,iCACH,KAAKzH,SADF;AAAA,cAClBC,GADkB,oBAClBA,GADkB;AAAA,cACbH,KADa,oBACbA,KADa;AAExB,eAAKO,SAAL,GAAiB,IAAjB;AAEA,eAAKiJ,aAAL,CAAmB7B,KAAnB;AAEA,cAAIvD,WAAW,GAAG,mCAAM,GAAGC,OAAT,CAAiB,OAAjB,EAA0BC,MAA1B,CAAiC,YAAjC,CAAlB;AACA,cAAIC,QAAQ,GAAG,mCAAM,GAAGC,GAAT,CAAaxE,KAAK,GAAG,CAArB,EAAwB,QAAxB,EAAkCqE,OAAlC,CAA0C,OAA1C,EAAmDC,MAAnD,CAA0D,YAA1D,CAAf;AACA,cAAIG,KAAK,GAAG,KAAKuB,MAAL,IAAe,EAAf,2BAAqC7F,GAArC,uBAAqDiE,WAArD,sBAA4EG,QAA5E,yEAAmJpE,GAAnJ,uBAAmK,KAAK6F,MAAxK,wBAA4L5B,WAA5L,sBAAmNG,QAAnN,gDAAZ;AAEAG,cAAI,CAACC,GAAL,wBAAyBF,KAAzB,GAAkCvK,IAAlC,CAAuC,UAAA0K,IAAI,EAAI;AAC7C,mBAAI,CAACrE,SAAL,GAAiB,KAAjB;AACA,mBAAI,CAACN,cAAL,GAAsB,4CAAO,2CAAM2E,IAAN,EAAY,MAAZ,CAAP,CAAtB;AACA,mBAAI,CAAC3H,OAAL,GAAe2H,IAAf;AACA+C,iBAAK,IAAI,IAAT,IAAiB,OAAI,CAACpC,YAAL,EAAjB;;AACA,mBAAI,CAACV,iBAAL;;AACAV,sBAAU,CAAC,YAAM;AACf,qBAAI,CAAC2D,eAAL;AACD,aAFS,EAEP,IAFO,CAAV;AAGD,WATD,WASS,UAAA3N,CAAC,EAAI;AAAE,mBAAI,CAACoG,SAAL,GAAiB,KAAjB;AAAyB,WATzC;AAUD;;;uCAEc;AACbW,WAAC,CAAC,SAAD,CAAD,CAAa4D,WAAb,CAAyB,aAAzB;AACD;;;mCAEUlB,I,EAAM;AACf,iBAAO,mCAAM,CAACA,IAAD,CAAN,CAAaU,MAAb,CAAoB,YAApB,CAAP;AACD;;;sCAEanD,G,EAAK;AACjB,iBAAOrC,IAAI,CAACC,KAAL,CAAWoC,GAAX,CAAP;AACD;;;0CAEiB;AAAA;;AAChB,eAAKb,UAAL,GAAkB,KAAlB;AACA,cAAI4E,QAAQ,GAAG,EAAf;AACA,wDAAS,KAAKC,SAAd,EAAyB,UAAC9G,IAAD,EAAU;AACjC,gBAAIA,IAAI,CAAC,CAAD,CAAJ,IAAW,OAAI,CAAC6B,SAAL,CAAeC,GAA9B,EAAmC;AACjC+E,sBAAQ,CAACxH,IAAT,CAAcW,IAAd;AACD,aAFD,MAEO;AACL;AACD;AACF,WAND;AAQA6G,kBAAQ,GAAGA,QAAQ,CAACxK,GAAT,CAAa,UAAA8C,CAAC;AAAA,mBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,WAAd,CAAX;AACA,eAAKuC,OAAL,GAAemF,QAAf;AACD;;;iCAEQ;AAAA;;AACPR,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyB,6CAAzB,EAAwE;AAAEC,uBAAW,EAAE;AAAf,WAAxE,EACGnL,IADH,CACQ,UAAC0K,IAAD,EAAU;AACd;AACA,mBAAI,CAAC/E,OAAL,GAAe+E,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,qBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,aAAlB,CAAf;AACA,mBAAI,CAACoC,WAAL,GAAmB,OAAI,CAACC,OAAxB;;AAEA,gBAAI,OAAI,CAACD,WAAL,CAAiBoB,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,qBAAI,CAACZ,YAAL,GAAoB,KAApB;AACD;AACF,WATH,WASW,UAAAjG,CAAC,EAAI;AACZuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACD,WAXH;AAYD;;;+BAEMkE,I,EAAM0J,I,EAAM;AAAA;;AACjB,eAAK1H,YAAL,GAAoB,IAApB;AACA,eAAKC,UAAL,GAAkB,IAAlB;AACA,eAAKJ,SAAL,CAAe/C,GAAf,GAAqB,EAArB;AAEA,eAAK4C,OAAL,GAAe,EAAf;AACA,eAAKgG,MAAL,GAAc,EAAd;AACArB,cAAI,CAACU,IAAL,CAAU,aAAV,EAAyB,8CAA8C/G,IAA9C,GAAqD,gBAA9E,EAAgG;AAAEgH,uBAAW,EAAE;AAAf,WAAhG,EACGnL,IADH,CACQ,UAAC0K,IAAD,EAAU;AACd,mBAAI,CAACO,SAAL,GAAiBP,IAAI,CAAC,MAAD,CAArB;AACAA,gBAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC,EAAI;AACpB,qBAAI,CAACuC,OAAL,CAAarC,IAAb,CAAkB;AAAEuK,qBAAK,EAAEzK,CAAC,CAAC,CAAD,CAAV;AAAehB,qBAAK,EAAEgB,CAAC,CAAC,CAAD;AAAvB,eAAlB;AACD,aAFD;;AAIA,gBAAI,OAAI,CAACuC,OAAL,CAAaiB,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,qBAAI,CAACX,YAAL,GAAoB,KAApB;AACA,qBAAI,CAACC,UAAL,GAAkB,KAAlB;AACD;;AAED,gBAAIyH,IAAJ,EAAU;AACR;AACA,qBAAI,CAAC5B,WAAL,GAAmBvB,IAAI,CAAC,MAAD,CAAJ,CAAalK,GAAb,CAAiB,UAAA8C,CAAC;AAAA,uBAAIA,CAAC,CAAC,CAAD,CAAL;AAAA,eAAlB,CAAnB,CAFQ,CAGR;AACD;AAEF,WAlBH,WAkBW,UAAArD,CAAC,EAAI;AACZuC,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxC,CAAvB;AACD,WApBH;AAqBD;;;sCAEakC,K,EAAO8L,Q,EAAU3L,K,EAAO;AACpC,cAAI4L,WAAW,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,CAAlB;;AAEA,cAAID,QAAQ,IAAI,IAAhB,EAAsB;AACpB,mBAAQ9L,KAAK,CAACiJ,QAAN,IAAkB,CAAlB,IAAuBjJ,KAAK,CAACiJ,QAAN,IAAkB,CAA1C,GAA+C,IAA/C,GAAuDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwBjJ,KAAK,CAACiJ,QAAN,IAAkB,EAA3C,IAAmDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwB8C,WAAW,CAACtB,QAAZ,CAAqBzK,KAAK,CAACiJ,QAA3B,CAAxI;AACD,WAFD,MAEO;AACL,mBAAQjJ,KAAK,CAACiJ,QAAN,IAAkB,CAAlB,IAAuBjJ,KAAK,CAACiJ,QAAN,IAAkB,CAA1C,GAA+C,IAA/C,GAAuDjJ,KAAK,CAACiJ,QAAN,IAAkB,EAAlB,IAAwBjJ,KAAK,CAACiJ,QAAN,IAAkB,EAA3C,IAAmD8C,WAAW,CAACtB,QAAZ,CAAqBzK,KAAK,CAACiJ,QAA3B,CAAhH;AACD;AACF;;;mCAEU;AACT;;;AAGD;;;sCAEaqC,K,EAAO;AACnB;AACA,eAAKxB,WAAL,GAAmB,KAAKJ,MAAxB,CAFmB,CAEW;;AAE9B;;AACA,cAAI4B,KAAK,IAAI,IAAb,EAAmB;AACjB,iBAAK3B,MAAL,GAAc,KAAKG,WAAnB;;AAEA,gBAAI,KAAKA,WAAL,CAAiBnF,MAAjB,IAA2B,CAA/B,EAAkC;AAChC,mBAAKmF,WAAL,GAAmB,KAAKhB,SAAL,CAAezK,GAAf,CAAmB,UAAA8C,CAAC;AAAA,uBAAIA,CAAJ;AAAA,eAApB,CAAnB,CADgC,CAEhC;AACD;AACF;AACF;;;wCAEe;AACd,cAAI+K,KAAK,GAAG;AACVvL,kBAAM,EAAE,KAAKiD,cAAL,CAAoBvF,GAApB,CAAwB,UAAA8C,CAAC;AAAA,qBAAI,mCAAM,CAACA,CAAD,CAAN,CAAU8G,MAAV,CAAiB,YAAjB,CAAJ;AAAA,aAAzB,CADE;AAEVpH,oBAAQ,EAAE,KAAKsL,WAAL,EAFA;AAGVvL,mBAAO,EAAE,KAAKwL,gBAAL,EAHC;AAIVtL,eAAG,EAAE,KAAKgJ,WAJA;AAKV/I,qBAAS,EAAE,8BALD;AAMVC,gBAAI,EAAE;AAAEM,oBAAM,EAAE,MAAV;AAAkBC,iBAAG,EAAE;AAAvB;AANI,WAAZ;;AAQA,eAAK+H,KAAL,CAAW+C,OAAX,CAAmBH,KAAnB;AACD;;;sCAEa;AACZ,cAAI3J,MAAM,GAAG,EAAb;;AACA,eAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BoB,kBAAM,CAAClB,IAAP,CAAYwD,CAAC,CAAC,eAAe1D,CAAhB,CAAD,CAAoBiE,IAApB,EAAZ;AACD;;AACD,iBAAO7C,MAAP;AACD;;;2CAEkB;AACjB,cAAI+J,QAAQ,GAAG,iDAAY,KAAKhJ,MAAjB,CAAf;;AACA,cAAIiJ,KAAK,GAAG,KAAK3I,cAAL,CAAoBe,MAAhC;AACA,cAAI6H,KAAK,GAAG,EAAZ;AACA,cAAIC,KAAK,GAAG,EAAZ;AACA,cAAIC,OAAO,GAAG,EAAd;;AAEA,eAAK,IAAIvL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoL,KAApB,EAA2BpL,CAAC,EAA5B,EAAgC;AAC9BqL,iBAAK,CAACnL,IAAN,CAAW;AACTsB,mBAAK,EAAEkC,CAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,GAA+B5E,OAA/B,CAAuC,IAAvC,EAA6C,EAA7C;AADE,aAAX;;AAIAiM,iBAAK,CAACpL,IAAN,CAAW;AACTsB,mBAAK,EAAEkC,CAAC,CAAC,yCAAyC1D,CAA1C,CAAD,CAA8CiE,IAA9C,GAAqD5E,OAArD,CAA6D,IAA7D,EAAmE,EAAnE;AADE,aAAX;;AAIAkM,mBAAO,CAACrL,IAAR,CAAa;AACXsB,mBAAK,EAAEkC,CAAC,CAAC,cAAc1D,CAAf,CAAD,CAAmBiE,IAAnB;AADI,aAAb;AAGD;;AAED,wDAASkH,QAAT,EAAmB,UAACT,EAAD,EAAQ;AACzB,gBAAIlN,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,cAApC,EAAoD;AAClD8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,gCAAgByF;AADL,eAAD,CAAZ;AAGD,aAJD,MAIO,IAAI7N,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,oCAApC,EAA0E;AAC/E8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,uDAAuC0F;AAD5B,eAAD,CAAZ;AAGD,aAJM,MAIA,IAAI9N,MAAM,CAACV,IAAP,CAAY4N,EAAE,CAAC9E,MAAH,CAAU,CAAV,CAAZ,EAA0B,CAA1B,KAAgC,SAApC,EAA+C;AACpD8E,gBAAE,CAAC9E,MAAH,GAAY,CAAC;AACX,4BAAY2F;AADD,eAAD,CAAZ;AAGD;AACF,WAdD;AAgBA,iBAAOJ,QAAP;AACD;;;0CAEiB;AAChB,cAAIE,KAAK,GAAG,EAAZ;;AACA,eAAK,IAAIrL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKyC,cAAL,CAAoBe,MAAxC,EAAgDxD,CAAC,EAAjD,EAAqD;AACnD,gBAAIwL,IAAI,GAAG9H,CAAC,CAAC,mBAAmB1D,CAApB,CAAD,CAAwBiE,IAAxB,EAAX;;AACAoH,iBAAK,CAACnL,IAAN,CAAWkD,QAAQ,CAACoI,IAAD,CAAnB;;AACA9H,aAAC,CAAC,cAAc1D,CAAf,CAAD,CAAmBiE,IAAnB,CAAwBuH,IAAxB;AACD;AAED;;;AACA,cAAIC,KAAK,GAAGJ,KAAK,CAAChI,MAAN,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,GAAGC,CAAd;AAAA,WAAb,EAA8B,CAA9B,EAAiC9B,cAAjC,EAAZ;;AACAiC,WAAC,CAAC,cAAD,CAAD,CAAkBO,IAAlB,CAAuBwH,KAAvB;AACD;;;;;;;uBAxoBUM,qB,EAAqB,0J;AAAA,K;;;YAArBA,qB;AAAqB,wC;AAAA,e;AAAA,c;AAAA,s/E;AAAA;AAAA;ACdlC;;AACE;;AACE;;AAEE;;AACE;;AACE;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAS;;AACzB;;AAAgB;;AAAM;;AACtB;;AACA;;AACA;;AAAgB;;AAAe;;AACjC;;AAEA;;AACE;;AACA;;AACA;;AACA;;AACF;;AACF;;AAEA;;AACE;;AAkEF;;AACF;;AACF;;AAEA;;AACE;;AAAoB;AAAA,mBAAS,IAAAhE,YAAA,EAAT;AAAuB,WAAvB;;AAClB;;AACF;;AAEA;;AACE;;AAA6D;AAAA;AAAA;;AAE3D;;AACF;;AACA;;AAOF;;AAEA;;AACE;;AAEE;;AACE;;AACE;;AAAc;;AAAI;;AAClB;;AAAgD;AAAA;AAAA,aAA2B,eAA3B,EAA2B;AAAA,mBACxD,IAAAC,MAAA,oBAAsB,KAAtB,CADwD;AAC5B,WADC;;AAG9C;;AACF;;AACF;;AAEA;;AACE;;AAAc;;AAAK;;AACnB;;AAAmE;AAAA;AAAA;;AACjE;;AACF;;AACF;;AACF;;AAGA;;AACE;;AACE;;AAAsC;;AACpC;;AAEF;;AACA;;AAAmD;AAAA;AAAA;;AAEjD;;AACF;;AAEA;;AAIF;;AACF;;AAEA;;AACE;;AACE;AAAA,mBAAS,IAAA9E,kBAAA,CAAmB,IAAnB,CAAT;AAAiC,WAAjC;;AAAmC;;AAAE;;AACzC;;AACF;;AACF;;AACF;;AACF;;;;;;;;AA7J4B;;AAAA,yFAAiB,kBAAjB,EAAiB,KAAjB,EAAiB,YAAjB,EAAiB,oBAAjB,EAAiB,WAAjB,EAAiB,aAAjB;;AAOoB;;AAAA;;AACpB;;AAAA;;AAKd;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKF;;AAAA;;AA4EuD;;AAAA,uGAAiC,kBAAjC,EAAiC,GAAjC;;AAmBP;;AAAA,iGAA2B,WAA3B,EAA2B,gBAA3B,EAA2B,YAA3B,EAA2B,gBAA3B;;AAGnC;;AAAA;;AAMsD;;AAAA;;AACtD;;AAAA;;AAYsC;;AAAA,0FAAoB,YAApB,EAAoB,cAApB,EAAoB,WAApB,EAAoB,gBAApB;;AAEtC;;AAAA;;AAGO;;AAAA;;AAQsB;;AAAA;;;;;;;;;;sED3IzC6I,qB,EAAqB;cALjC,uDAKiC;eALvB;AACT5N,kBAAQ,EAAE,mBADD;AAETC,qBAAW,EAAE,gCAFJ;AAGTC,mBAAS,EAAE,CAAC,gCAAD;AAHF,S;AAKuB,Q;;;;;;;;;;;;;;;;;;;;;;AEdlC;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAM4N,WAAW,GAAG;AACzBC,gBAAU,EAAE;AADa,KAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBC,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAIlN,OAAO,CAACmN,KAAR,CAAcD,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","import { NgModule } from '@angular/core';\n\nimport { NzAffixModule } from 'ng-zorro-antd/affix';\nimport { NzAlertModule } from 'ng-zorro-antd/alert';\nimport { NzAnchorModule } from 'ng-zorro-antd/anchor';\nimport { NzAutocompleteModule } from 'ng-zorro-antd/auto-complete';\nimport { NzAvatarModule } from 'ng-zorro-antd/avatar';\nimport { NzBackTopModule } from 'ng-zorro-antd/back-top';\nimport { NzBadgeModule } from 'ng-zorro-antd/badge';\nimport { NzBreadCrumbModule } from 'ng-zorro-antd/breadcrumb';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzCalendarModule } from 'ng-zorro-antd/calendar';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NzCarouselModule } from 'ng-zorro-antd/carousel';\nimport { NzCascaderModule } from 'ng-zorro-antd/cascader';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\nimport { NzCommentModule } from 'ng-zorro-antd/comment';\nimport { NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\nimport { NzTransButtonModule } from 'ng-zorro-antd/core/trans-button';\nimport { NzWaveModule } from 'ng-zorro-antd/core/wave';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzDescriptionsModule } from 'ng-zorro-antd/descriptions';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzEmptyModule } from 'ng-zorro-antd/empty';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzGridModule } from 'ng-zorro-antd/grid';\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\nimport { NzLayoutModule } from 'ng-zorro-antd/layout';\nimport { NzListModule } from 'ng-zorro-antd/list';\nimport { NzMentionModule } from 'ng-zorro-antd/mention';\nimport { NzMenuModule } from 'ng-zorro-antd/menu';\nimport { NzMessageModule } from 'ng-zorro-antd/message';\nimport { NzModalModule } from 'ng-zorro-antd/modal';\nimport { NzNotificationModule } from 'ng-zorro-antd/notification';\nimport { NzPageHeaderModule } from 'ng-zorro-antd/page-header';\nimport { NzPaginationModule } from 'ng-zorro-antd/pagination';\nimport { NzPopconfirmModule } from 'ng-zorro-antd/popconfirm';\nimport { NzPopoverModule } from 'ng-zorro-antd/popover';\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\nimport { NzRateModule } from 'ng-zorro-antd/rate';\nimport { NzResultModule } from 'ng-zorro-antd/result';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { NzSkeletonModule } from 'ng-zorro-antd/skeleton';\nimport { NzSliderModule } from 'ng-zorro-antd/slider';\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\nimport { NzStatisticModule } from 'ng-zorro-antd/statistic';\nimport { NzStepsModule } from 'ng-zorro-antd/steps';\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\nimport { NzTagModule } from 'ng-zorro-antd/tag';\nimport { NzTimePickerModule } from 'ng-zorro-antd/time-picker';\nimport { NzTimelineModule } from 'ng-zorro-antd/timeline';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { NzTransferModule } from 'ng-zorro-antd/transfer';\nimport { NzTreeModule } from 'ng-zorro-antd/tree';\nimport { NzTreeSelectModule } from 'ng-zorro-antd/tree-select';\nimport { NzTypographyModule } from 'ng-zorro-antd/typography';\nimport { NzUploadModule } from 'ng-zorro-antd/upload';\nimport { NzResizableModule } from 'ng-zorro-antd/resizable';\n\n\n\n@NgModule({\n  declarations: [],\n  exports: [\n    NzAffixModule,\n    NzAlertModule,\n    NzAnchorModule,\n    NzAutocompleteModule,\n    NzAvatarModule,\n    NzBackTopModule,\n    NzBadgeModule,\n    NzButtonModule,\n    NzBreadCrumbModule,\n    NzCalendarModule,\n    NzCardModule,\n    NzCarouselModule,\n    NzCascaderModule,\n    NzCheckboxModule,\n    NzCollapseModule,\n    NzCommentModule,\n    NzDatePickerModule,\n    NzDescriptionsModule,\n    NzDividerModule,\n    NzDrawerModule,\n    NzDropDownModule,\n    NzEmptyModule,\n    NzFormModule,\n    NzGridModule,\n    NzI18nModule,\n    NzIconModule,\n    NzInputModule,\n    NzInputNumberModule,\n    NzLayoutModule,\n    NzListModule,\n    NzMentionModule,\n    NzMenuModule,\n    NzMessageModule,\n    NzModalModule,\n    NzNoAnimationModule,\n    NzNotificationModule,\n    NzPageHeaderModule,\n    NzPaginationModule,\n    NzPopconfirmModule,\n    NzPopoverModule,\n    NzProgressModule,\n    NzRadioModule,\n    NzRateModule,\n    NzResultModule,\n    NzSelectModule,\n    NzSkeletonModule,\n    NzSliderModule,\n    NzSpinModule,\n    NzStatisticModule,\n    NzStepsModule,\n    NzSwitchModule,\n    NzTableModule,\n    NzTabsModule,\n    NzTagModule,\n    NzTimePickerModule,\n    NzTimelineModule,\n    NzToolTipModule,\n    NzTransButtonModule,\n    NzTransferModule,\n    NzTreeModule,\n    NzTreeSelectModule,\n    NzTypographyModule,\n    NzUploadModule,\n    NzWaveModule,\n    NzResizableModule\n  ]\n})\nexport class AngModulesModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { WeeklySupplyComponent } from './views/weekly-supply/weekly-supply.component';\nimport { WosCategoryComponent } from './views/wos-category/wos-category.component';\nimport { WosMasterComponent } from './views/wos-master/wos-master.component';\nimport { WosWarehouseComponent } from './views/wos-warehouse/wos-warehouse.component';\n\n\nconst routes: Routes = [\n  { path: '', component: WosWarehouseComponent },\n  { path: 'warehouse-aggregation', component: WosWarehouseComponent },\n  { path: 'sub-category-aggregation', component: WosCategoryComponent },\n  { path: 'master-item-aggregation', component: WosMasterComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'shark-ninja-v2';\n}\n","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { WeeklySupplyComponent } from './views/weekly-supply/weekly-supply.component';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NZ_I18N } from 'ng-zorro-antd/i18n';\nimport { en_US } from 'ng-zorro-antd/i18n';\nimport { registerLocaleData } from '@angular/common';\nimport en from '@angular/common/locales/en';\nimport { AngModulesModule } from './ang-modules/ang-modules.module';\nimport { WosWarehouseComponent } from './views/wos-warehouse/wos-warehouse.component';\nimport { WosCategoryComponent } from './views/wos-category/wos-category.component';\nimport { WosMasterComponent } from './views/wos-master/wos-master.component';\nimport { ExcelExportComponent } from './views/excel-export/excel-export.component';\nimport { NumericsDirective } from './directives/numerics.directive';\n\nregisterLocaleData(en);\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    WeeklySupplyComponent,\n    WosWarehouseComponent,\n    WosCategoryComponent,\n    WosMasterComponent,\n    ExcelExportComponent,\n    NumericsDirective,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    AngModulesModule\n  ],\n  providers: [{ provide: NZ_I18N, useValue: en_US },\n    ExcelExportComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[appNumerics]'\n})\nexport class NumericsDirective {\n\n  constructor(private _el: ElementRef) { }\n\n  @HostListener('input', ['$event']) onInputChange(event: KeyboardEvent) {\n    let _value = this._el.nativeElement.value;\n    //let regex = /^[-?|\\+?]\\d$/;\n    let regex = /\\+?\\d+/;\n    console.log('_value::', _value, 'regex::', regex.test(_value));\n    if (regex.test(_value)) {\n      console.log('Am I here');\n      this._el.nativeElement.value = _value;\n    } else {\n      console.log('HERE');\n      this._el.nativeElement.value = _value.replace(/[^\\d]/g, '');\n      //event.preventDefault();\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport * as Excel from \"exceljs\";\nimport { saveAs } from \"file-saver\";\nimport * as _ from 'lodash';\n\n@Component({\n  selector: 'app-excel-export',\n  templateUrl: './excel-export.component.html',\n  styleUrls: ['./excel-export.component.scss']\n})\nexport class ExcelExportComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  toExcel(params) {\n    console.log('Excel Data:', params);\n    let { _dates, rawData, netUnits, whs, sheetName, type } = params;\n\n    let _dateHeader = [];\n    _dates.forEach((i, index) => {\n      _dateHeader.push({\n        header: i,\n        key: 'date_units_' + index,\n        width: 15\n      })\n    });\n\n    const workbook = new Excel.Workbook();\n    const sheet = workbook.addWorksheet('Wos');\n\n    /* Handling Columns */\n    sheet.columns = [\n      { header: '', key: 'item_header', width: 10 },\n      { header: '', key: 'whs_header', width: 20 },\n      { header: 'Date', key: 'date', width: 40 },\n      ..._dateHeader,\n      { header: '', key: 'net_units', width: 15 }\n    ];\n\n    /* Handle Rows */\n\n    /* Logic to Handle Row #1 */\n    const row = sheet.getRow(2);\n    row.getCell('item_header').value = type.header;\n    row.getCell('whs_header').value = 'WHS';\n    row.getCell('date').value = 'Source';\n    row.getCell('net_units').value = 'Net Units Total';\n    _dates.forEach((item, i) => {\n      row.getCell('date_units_' + i).value = 'Net Units';\n    });\n\n    /* Logic to Handle Rest of Rows */\n    let _item = '';\n\n    rawData.forEach((_el: object, i) => {\n      let _restOfRows = sheet.getRow(i + 3);\n      if (i == 0) {\n        _item = _el[type.key];\n      }\n\n      _restOfRows.getCell('item_header').value = _item;\n      _restOfRows.getCell('whs_header').value = whs.toString();\n      _restOfRows.getCell('date').value = Object.keys(_el['source'][0])[0];\n      _restOfRows.getCell('net_units').value = netUnits[i];\n\n      /* Alignment */\n      _restOfRows.getCell('net_units').alignment = { vertical: 'middle', horizontal: 'right' };\n\n      _el['source'][0][Object.keys(_el['source'][0])].forEach((_units, _index) => {\n        _restOfRows.getCell('date_units_' + _index).value = Math.round(_units.units).toLocaleString();\n\n        /* Alignment */\n        _restOfRows.getCell('date_units_' + _index).alignment = { vertical: 'middle', horizontal: 'right' };\n      });\n    });\n\n    (async function () {\n      const buffer = await workbook.xlsx.writeBuffer();\n      const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n      const fileExtension = '.xlsx';\n      const blob = new Blob([buffer], { type: fileType });\n      saveAs(blob, sheetName + fileExtension);\n    })();\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport * as _ from 'lodash';\nimport * as moment from 'moment';\n\ndeclare var $: any;\ndeclare var domo: any;\n\n@Component({\n   selector: 'app-weekly-supply',\n   templateUrl: './weekly-supply.component.html',\n   styleUrls: ['./weekly-supply.component.scss']\n})\nexport class WeeklySupplyComponent implements OnInit {\n   editId: string | null = null;\n   wosArr = [];\n   rawData = [];\n   listItems;\n   filteredSku: string[] = [];\n   skuList = [];\n   filteredWhs: string[] = [];\n   whsList = [];\n   month = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\n   distinctMonths = [];\n   filterMdl = {\n      sku: 'VM252',\n      whs: 'EP1/MOTRTL/SCHUNV/FONTAN',\n      month: 12\n   };\n\n   /* Loader Variable */\n   isSkuLoading = true;\n   isWHSLoading = false;\n   disableWHS = true;\n   isLoading = true;\n   wosVisible = false;\n\n   constructor(\n   ) {\n      this.filteredSku = this.skuList;\n      this.filteredWhs = this.whsList;\n   }\n\n   ngOnInit(): void {\n      this.getSKU();\n      this.getItemFromDataset();\n      //this.getWeekOfSupplies();\n   }\n\n   getSourceKey(item) {\n      return Object.keys(item);\n   }\n\n   readSourceItems(item) {\n      let keyItems = Object.keys(item);\n      return item[keyItems[0]];\n   }\n\n   sumSourceItems(item) {\n      let keyItems = Object.keys(item);\n      keyItems = item[keyItems[0]];\n      let units = keyItems.map(i => {\n         return i['units'] == '' ? 0 : parseInt(i['units'])\n      });\n      return units.reduce((a, b) => a + b, 0).toLocaleString();\n   }\n\n   setID(i, item) {\n      return `${Object.keys(item)[0]\n         .replace(/[^\\w]/gi, '_')\n         }_${i}`;\n   }\n\n   _wosCalculations() {\n      for (let i = 0; i < this.distinctMonths.length; i++) {\n         let proposedO = $('#Proposed_Outgoing_' + i + ' input').val();\n         proposedO = this.poInPercent(proposedO, i);\n         let proposedI = $('#Proposed_Incoming_' + i + ' input').val();\n         let outgoing = proposedO == '' ? 0 : parseInt(proposedO);\n         let incoming = proposedI == '' ? 0 : parseInt(proposedI);\n         let totalInv = parseInt($('#Total_Inventory_Units_Net_' + i).text().replace(/,/g, ''));\n         var sum = (totalInv - outgoing) + incoming;\n         $('#Proposed_Total_Inventory_Units_Net_' + i).text(sum.toLocaleString());\n\n         this.wosCalc_(i);\n      }\n   }\n\n   wosCalc_(i) {\n      let _mnthStock = parseInt($('#Proposed_Total_Inventory_Units_Net_' + i).text().replace(/,/g, ''));\n      let _pOutgoing = $('#Proposed_Outgoing_' + (i + 1) + ' input').val();\n      _pOutgoing = this.poInPercent(_pOutgoing, i + 1);\n      \n      let _outgoingSum = parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')) + _pOutgoing;\n      let _wos = 0;\n      let _stockBlnc = 0;\n      let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n      let _totlMnths = this.distinctMonths.length;\n\n      console.log('___________LOOP__________:', i);\n      console.log('mnthStock:', _mnthStock, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')), _pOutgoing, 'Outgoings Sum:', _outgoingSum, '_pOutgoing:', _pOutgoing, '_days:', _days, 'month:', this.distinctMonths[i + 1]);\n\n\n      /* If no stock in hand then calculate WOS */\n      if (_mnthStock == 0) {\n         _wos = 0;\n         $('#Proposed_WOS_' + i).text(this.formatWos(_wos))\n         console.log('---I don\\'t have stock in my hand---');\n         return;\n      }\n      /* Check whether you can serve next month */\n\n      if (_mnthStock >= _outgoingSum) {\n         console.log('------I can serve------');\n         _wos = _days / 7;\n         _stockBlnc = _mnthStock - _outgoingSum;\n\n         console.log('_wos:', _wos, '_stockBlnc:', _stockBlnc);\n\n         /* Check whether the outgoings are 0 */\n         if (_outgoingSum == 0) {\n            _wos = 0;\n            console.log('---Next month Outgoings is 0---');\n         }\n\n         /* Calculations for End of Months */\n         if (_.isUndefined(this.distinctMonths[i + 2])) {\n            console.log('---There are no future months for end of year---');\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n         }\n\n         //Next to next month calculations\n         for (let j = (i + 2); j < _totlMnths; j++) {\n            let _pOutgoing = $('#Proposed_Outgoing_' + j + ' input').val();\n            _pOutgoing = this.poInPercent(_pOutgoing, j);\n            let level2_outgoings = parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')) + _pOutgoing;\n\n            console.log('level2_month:', this.distinctMonths[j], 'level2_outgoings:', level2_outgoings, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')), _pOutgoing);\n\n            /* Check whether the outgoings are 0 */\n            if (level2_outgoings == 0 && _wos == 0) {\n               _wos = 0;\n               console.log('---level2 months Outgoings are 0---');\n               continue;\n            }\n\n            if (_stockBlnc > level2_outgoings && level2_outgoings != 0) {\n               console.log('---------Yes I can serve next to next month---------');\n               _days = moment(this.distinctMonths[j]).daysInMonth();\n               _wos += _days / 7;\n               _stockBlnc = _stockBlnc - level2_outgoings;\n\n               console.log('level2_wos:', _wos, 'level2_stockBlnc:', _stockBlnc, 'level2_days', _days, 'month:', this.distinctMonths[j]);\n\n               console.log('level2----- I complete serving the month------', this.distinctMonths[j]);\n\n               /* If there are no other months to solve */\n               if (j == this.distinctMonths.length - 1) {\n                  console.log('level2 end-----no more months available to serve----- ');\n                  $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n               } else {\n                  $('#Proposed_WOS_' + i).removeClass('no-more-months');\n               }\n\n               continue;\n            } else {\n               console.log('---------No I can\\'t serve further---------');\n\n               /* Check if outgoings are 0 */\n               if (level2_outgoings == 0) {\n                  //_wos += _wos;\n                  $('#Proposed_WOS_' + i).text(this.formatWos(_wos));\n                  console.log('---level2 outgoings are 0---', '_wos::', _wos);\n                  continue;\n               }\n\n               /* If stock balance is 0 then end loop and calculate Wos */\n               if (_stockBlnc == 0) {\n                  $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n                  return;\n               }\n\n               _days = moment(this.distinctMonths[j]).daysInMonth();\n               let _stockRqdPerDay = level2_outgoings / _days;\n               let _canServeFor = _stockBlnc / _stockRqdPerDay;\n               _wos += _canServeFor / 7;\n               $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n               console.log('level2_days::', _days, '_canServeFor::', _canServeFor, '_wos:', _wos);\n               return;\n            }\n         }\n      } else {\n         console.log('---------I fell short for the first month---------');\n         let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n         let _requirement = _outgoingSum / _days;\n         let _canServe = _mnthStock / _requirement;\n         _wos = _canServe / 7;\n         $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n         console.log('_days:', _days, '_requirement per day:', _requirement, '_canServe:', _canServe, '_wos:', _wos);\n\n         /* Calculation for End of months */\n         if (_.isNaN(_wos)) {\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n         }\n         console.log('----------Fell Short Done----------------');\n      }\n   }\n\n   poInPercent(value, i) {\n      if (value && value.indexOf('%') > -1) {\n         value = value == '' ? 0 : parseInt(value);\n         let _forecast = parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, ''));\n         let _og = (value / 100) * _forecast;\n         return _og;\n      } else {\n         return parseInt(value);\n      }\n   }\n\n   formatWos(wos) {\n      return wos > 0 ? Math.round(wos) : 0;\n   }\n\n   formatNumbers(i) {\n      /* let fields = ['Qty_on_Hand_Stock_', 'Outgoing_Cust_Order_', 'Outgoing_Net_Fcst_', 'Outgoing_Kit_Comp_Kit_Item_Transfer_Rework_', 'Incoming_PO_Confd_PO_Balance_PO_Not_Confd_', 'Incoming_PO_Pland_', 'Incoming_Kit_Comp_Kit_Item_Transfer_Rework_', 'Incoming_PO_Pland_', 'Incoming_Kit_Comp_Kit_Item_Transfer_Rework_', 'Total_Inventory_Units_Net_', 'Total_Inventory_Net_', 'Net_WOS_', 'Proposed_WOS_', 'Proposed_Total_Inventory_Units_Net_', 'Target_Inventory_Units_', 'Target_Inventory__', 'Inventory_vs_Target_', 'Proposed_Events_Blue_Sky_', 'Proposed_Events_', 'Net_Forecast_Blue_Sky_'];*/\n      return Math.round(i).toLocaleString();\n   }\n\n   startEdit(id: string): void {\n      this.editId = id;\n   }\n\n   stopEdit(): void {\n      this.editId = null;\n      this._wosCalculations();\n   }\n\n   getWeekOfSupplies() {\n      let qtyOnHand = [];\n      let obj = [];\n      let source = [\n         { 'Qty on Hand - Stock': [] },\n         { 'Outgoing - Cust Order': [] },\n         { 'Outgoing - Net Fcst': [] },\n         { 'Outgoing - Kit Comp + Kit Item + Transfer + Rework': [] },\n         { 'Proposed Outgoing': [] },\n         { 'Incoming - PO-Confd + PO Balance + PO-Not Confd': [] },\n         { 'Incoming - PO-Pland': [] },\n         { 'Incoming - Kit Comp + Kit Item + Transfer + Rework': [] },\n         { 'Proposed Incoming': [] },\n         { 'Total Inventory Units-Net': [] },\n         { 'Total Inventory $-Net': [] },\n         { 'Net WOS': [] },\n         { 'Proposed Total Inventory Units-Net': [] },\n         { 'Proposed WOS': [] },\n         { 'Target Inventory Units': [] },\n         { 'Target Inventory $': [] },\n         { 'Inventory vs Target': [] },\n         { 'Proposed Events - Blue Sky': [] },\n         { 'Proposed Events': [] },\n         { 'Net Forecast - Blue Sky': [] }\n      ]\n\n      source.forEach((item, i) => {\n         let _keys = Object.keys(item)[0];\n         qtyOnHand = [];\n         _.filter(this.rawData, (item) => {\n            if (item.source == _keys) {\n               qtyOnHand.push(item);\n            } else { return; }\n         });\n\n         /* Removing empty fields for Qty on Hands */\n         let filtrQtyOnHand = [];\n         _.filter(qtyOnHand, (i) => {\n            if (i.source == 'Qty on Hand - Stock' && !_.isNull(i['incoming units'])) {\n               filtrQtyOnHand.push(i);\n               qtyOnHand = filtrQtyOnHand;\n            } else {\n               return;\n            }\n         });\n\n         /* When Qty On Hand is Higher than expected */\n         if (qtyOnHand.length > this.filterMdl.month) {\n            qtyOnHand = _.uniqBy(qtyOnHand, 'date');\n         }\n\n         if (qtyOnHand.length < this.filterMdl.month) {\n            let missed = this.distinctMonths.filter(dt => !qtyOnHand.find(fnd => dt == fnd.date));\n            console.log('missed:', missed);\n            let isQtyOnHnd = qtyOnHand.length > 0 ? qtyOnHand[0] : '-'\n            missed.forEach(dt => {\n               qtyOnHand.push({\n                  'incoming $': 0,\n                  'incoming units': 0,\n                  'outgoing $': 0,\n                  'outgoing units': 0,\n                  'source': isQtyOnHnd['source'],\n                  'whs': isQtyOnHnd['whs'],\n                  'item': isQtyOnHnd['item'],\n                  date: dt\n               })\n            });\n\n            qtyOnHand.sort(function compare(a, b) {\n               var dateA: any = new Date(a.date);\n               var dateB: any = new Date(b.date);\n               return (dateA - dateB);\n            });\n\n            //console.log('qtyOnHand::', qtyOnHand);\n         }\n\n         //console.log('_keys::', _keys, ':qtyOnHand:', qtyOnHand);\n\n         /* Dummy Entries */\n         /* if (qtyOnHand.length == 0) {\n           for (let iX = 0; iX < this.filterMdl.month; iX++) {\n             qtyOnHand.push({ 'outgoing units': 0, 'incoming units': 0 })\n           }\n         } */\n\n         qtyOnHand.forEach(item => {\n            if (_.isNull(item['incoming units'])) {\n               item['incoming units'] = 0;\n            }\n            if (_.isNull(item['outgoing units'])) {\n               item['outgoing units'] = 0;\n            }\n\n            if (_keys.indexOf('Outgoing') != -1) {\n               source[i][_keys].push({ units: item['outgoing units'] });\n            } else {\n               source[i][_keys].push({ units: item['incoming units'] });\n            }\n         });\n\n         qtyOnHand = [];\n         if (i == 0) {\n            obj.push({\n               item: this.rawData[0]['item'],\n               whs: this.rawData[0]['whs'],\n               source: [item]\n            });\n         } else {\n            obj.push({\n               source: [item]\n            });\n         }\n      });\n\n      this.wosArr = obj;\n      console.log('Final::', obj);\n\n      setTimeout(() => {\n         this._wosCalculations();;\n      }, 1000);\n   }\n\n   getItemFromDataset() {\n      let { sku, whs, month } = this.filterMdl;\n      this.isLoading = true;\n\n      let currentDate = moment().startOf('month').format('MM/DD/YYYY');\n      let tillDate = moment().add(month - 1, 'months').startOf('month').format('MM/DD/YYYY');\n      let query = `filter=item = ${sku}, whs = ${whs},date >= ${currentDate}, date < ${tillDate}, scenario = Actuals&orderby=date ascending`;\n\n      domo.get(`/data/v1/wos?${query}`).then(data => {\n         this.isLoading = false;\n         this.distinctMonths = _.uniq(_.map(data, 'date'));\n         this.rawData = data;\n         //this.toggleFilter();\n         this.getWeekOfSupplies();\n      }).catch(e => { this.isLoading = false; });\n   }\n\n   toggleFilter() {\n      $('.filter').toggleClass('show-slider');\n   }\n\n   formatDate(date) {\n      return moment(date).format('MM/DD/YYYY');\n   }\n\n   roundupValues(val) {\n      return Math.round(val);\n   }\n\n   /* Filters Section */\n   onSkuChange(value: string): void {\n      this.filteredSku = this.skuList.filter(option => option.toLowerCase().indexOf(value.toLowerCase()) !== -1);\n\n      this.filterWareHouse();\n   }\n\n   onWhsChange(value: string): void {\n      this.filteredWhs = this.whsList.filter(option => option.toLowerCase().indexOf(value.toLowerCase()) !== -1);\n   }\n\n   filterWareHouse() {\n      this.disableWHS = false;\n      let _whsList = [];\n      _.filter(this.listItems, (item) => {\n         if (item[0] == this.filterMdl.sku) {\n            _whsList.push(item);\n         } else {\n            return;\n         }\n      });\n\n      _whsList = _whsList.map(i => i[1]);\n      this.whsList = _whsList;\n   }\n\n   getSKU() {\n      domo.post('/sql/v1/wos', 'SELECT DISTINCT item FROM wos ORDER BY item', { contentType: 'text/plain' })\n         .then((data) => {\n            this.listItems = data['rows'];\n            this.skuList = data['rows'].map(i => i[0]);\n            this.filteredSku = this.skuList;\n\n            if (this.filteredSku.length > 0) {\n               this.isSkuLoading = false;\n            }\n         }).catch(e => {\n            console.log('error::', e);\n         });\n   }\n\n   getWHS(item) {\n      this.isWHSLoading = true;\n      this.disableWHS = true;\n      this.filterMdl.whs = '';\n\n      this.whsList = [];\n      domo.post('/sql/v1/wos', \"SELECT DISTINCT whs FROM wos WHERE item='\" + item + \"' ORDER BY whs\", { contentType: 'text/plain' })\n         .then((data) => {\n            this.listItems = data['rows'];\n            this.whsList = data['rows'].map(i => i[0]);\n            this.filteredWhs = this.whsList;\n\n            if (this.filteredWhs.length > 0) {\n               this.isWHSLoading = false;\n               this.disableWHS = false;\n            }\n         }).catch(e => {\n            console.log('error::', e);\n         });\n   }\n\n   allowNumerics(event) {\n      return (event.charCode == 8 || event.charCode == 0) ? null : (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 37;\n   }\n\n}\n","<div class=\"wos\">\n  <div class=\"table-wrapper\">\n    <nz-table #colSpanTable [nzData]=\"wosArr\" nzBordered nzSize=\"small\" [nzShowPagination]=\"false\"\n      [nzNoResult]=\"'No data to display'\" [nzLoading]=\"isLoading\">\n      <thead>\n        <tr>\n          <th rowspan=\"2\">Item</th>\n          <th rowspan=\"2\">Warehouse</th>\n          <th rowspan=\"2\">Source</th>\n          <th [colspan]=\"distinctMonths.length\" *ngIf=\"distinctMonths.length >0\">Net Units</th>\n          <th [colspan]=\"3\" *ngIf=\"distinctMonths.length ==0\">Net Units</th>\n          <th rowspan=\"2\">Net Units Total</th>\n        </tr>\n\n        <tr>\n          <th *ngIf=\"distinctMonths.length ==0\">01/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">02/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">03/01/2000</th>\n          <th *ngFor=\"let _months of distinctMonths\">{{formatDate(_months)}}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr *ngFor=\"let item of wosArr;let xIndex = index;\">\n          <ng-container [ngSwitch]=\"xIndex\">\n            <ng-container *ngSwitchCase=\"0\">\n              <td rowspan=\"20\" class=\"item-whs\">{{item.item}}</td>\n              <td rowspan=\"20\" class=\"item-whs\">{{item.whs}}</td>\n            </ng-container>\n          </ng-container>\n\n          <ng-container *ngFor=\"let source of item.source | keyvalue\">\n            <td class=\"source\">{{getSourceKey(source.value)}}</td>\n            <ng-container [ngSwitch]=\"getSourceKey(source.value)\">\n              <ng-container *ngSwitchCase=\"'Proposed Outgoing'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"td-ougoing\" (click)=\"oProposed.focus()\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value))\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #oProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\" (keypress)=\"allowNumerics($event)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Incoming'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" (click)=\"iProposed.focus()\"\n                  [id]=\"setID(i, source.value)\" class=\"td-incoming\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value));\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #iProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\" (keypress)=\"allowNumerics($event)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Total Inventory Units-Net'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\">-\n                  <!-- {{_wosCalculations()}} -->\n                </td>\n              </ng-container>\n\n              <!-- <ng-container *ngSwitchCase=\"'Net WOS'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\">\n                  {{roundupValues(sD.units)}}\n                </td>\n              </ng-container> -->\n\n              <ng-container *ngSwitchDefault>\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\">\n                  {{sD.units | number: '1.0-0'}}\n                </td>\n              </ng-container>\n            </ng-container>\n            <td>{{sumSourceItems(source.value)}}</td>\n          </ng-container>\n        </tr>\n      </tbody>\n    </nz-table>\n  </div>\n\n  <section class=\"filter\">\n    <div class=\"slider\" (click)=\"toggleFilter()\">\n      <i nz-icon nzType=\"filter\" nzTheme=\"outline\"></i>\n    </div>\n\n    <div class=\"switch-app\">\n      <button nz-button nz-popover nzPopoverTitle=\"Switch WOS App\" [(nzPopoverVisible)]=\"wosVisible\"\n        nzPopoverTrigger=\"click\" [nzPopoverContent]=\"wosSwitcher\">\n        <i nz-icon nzType=\"menu-fold\" nzTheme=\"outline\"></i>\n      </button>\n      <ng-template #wosSwitcher>\n        <div routerLink=\"/warehouse-aggregation\" class=\"switcher\">WOS - Item Level</div>\n        <div routerLink=\"/master-item-aggregation\" class=\"switcher\">WOS - Master Item View</div>\n        <div routerLink=\"/sub-category-aggregation\" class=\"switcher\">WOS - Sub Category View</div>\n      </ng-template>\n    </div>\n\n    <div class=\"container-el\">\n      <form nz-form #filterForm=\"ngForm\">\n        <div class=\"input-el\">\n          <label for=\"\">Item</label>\n          <nz-select name=\"sku\" nzShowSearch nzAllowClear [(ngModel)]=\"filterMdl.sku\"\n            (ngModelChange)=\"getWHS(filterMdl.sku)\" [nzLoading]=\"isSkuLoading\" [nzDisabled]=\"isSkuLoading\" required>\n            <nz-option *ngFor=\"let sku of skuList\" [nzLabel]=\"sku\" [nzValue]=\"sku\"></nz-option>\n          </nz-select>\n        </div>\n\n        <div class=\"input-el\">\n          <label for=\"\">Warehouse</label>\n          <nz-select name=\"whs\" nzShowSearch nzAllowClear [(ngModel)]=\"filterMdl.whs\" [nzDisabled]=\"disableWHS\"\n            [nzLoading]=\"isWHSLoading\" required>\n            <nz-option *ngFor=\"let whs of whsList\" [nzLabel]=\"whs\" [nzValue]=\"whs\"></nz-option>\n          </nz-select>\n        </div>\n\n        <div class=\"input-el\">\n          <label for=\"\">Month</label><br />\n          <nz-select name=\"month\" nzShowSearch nzAllowClear nzPlaceHolder=\"\" [(ngModel)]=\"filterMdl.month\" required>\n            <nz-option *ngFor=\"let m of month\" [nzLabel]=\"m\" [nzValue]=\"m\"></nz-option>\n          </nz-select>\n        </div>\n\n        <div class=\"input-el btn\">\n          <button nz-button nzType=\"primary\" nzDanger [disabled]=\"!filterForm.valid\"\n            (click)=\"getItemFromDataset()\">Go</button>\n        </div>\n      </form>\n    </div>\n  </section>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\n\nimport { ApiService } from 'src/app/services/api.service';\nimport * as _ from 'lodash';\nimport * as moment from 'moment';\nimport { ExcelExportComponent } from '../excel-export/excel-export.component';\n\ndeclare var $: any;\ndeclare var domo: any;\n\n@Component({\n  selector: 'app-wos-category',\n  templateUrl: './wos-category.component.html',\n  styleUrls: ['./wos-category.component.scss']\n})\nexport class WosCategoryComponent implements OnInit {\n\n  editId: string | null = null;\n  wosArr = [];\n  rawData = [];\n  listItems_WHS;\n  listItems_Items;\n  filteredSku: string[] = [];\n\n  subCategoryList = [];\n  filteredWhs: string[] = [];\n\n  month = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\n  distinctMonths = [];\n  filterMdl = {\n    subCategory: 'AIR FRYER',\n    whs: '',\n    month: 4\n  };\n\n  ItemMdl = [];\n  skuList: Array<{ label: string; value: string }> = [];\n  whsList: Array<{ label: string; value: string }> = [];\n  WHSMdl = [];\n  WHSQry = '';\n  ItemQry = '';\n  WHSFlag = 0;\n  selectedWHS: any = [];\n  selectedItem: any = [];\n\n  /* Loader Variable */\n  isSubCategoryLoading = true;\n  isSkuLoading = false;\n  isWHSLoading = false;\n  disableWHS = true;\n  disableItem = true;\n  isLoading = true;\n  wosVisible = false;\n\n  constructor(\n    private _notify: NzNotificationService,\n    private _toXl: ExcelExportComponent\n  ) {\n    //this.filteredSku = this.skuList;\n  }\n\n  ngOnInit(): void {\n    //this.getWeekOfSupplies();\n    this.getSubCategory();\n    this.getItemFromDataset('onInit');\n    this.getWHS(this.ItemMdl, true);\n  }\n\n  getSourceKey(item) {\n    return Object.keys(item);\n  }\n\n  readSourceItems(item) {\n    let keyItems = Object.keys(item);\n    return item[keyItems[0]];\n  }\n\n  sumSourceItems(item) {\n    let keyItems = Object.keys(item);\n    keyItems = item[keyItems[0]];\n    let units = keyItems.map(i => {\n      return i['units'] == '' ? 0 : parseInt(i['units'])\n    });\n    return units.reduce((a, b) => a + b, 0).toLocaleString();\n  }\n\n  setID(i, item) {\n    return `${Object.keys(item)[0]\n      .replace(/[^\\w]/gi, '_')\n      }_${i}`;\n  }\n\n  _wosCalculations() {\n    for (let i = 0; i < this.distinctMonths.length; i++) {\n      let proposedO = this.proposedCalc(i, 'outgoing');\n      let proposedI = this.proposedCalc(i, 'incoming');\n      let outgoing = proposedO == '' ? 0 : parseInt(proposedO);\n      let incoming = proposedI == '' ? 0 : parseInt(proposedI);\n      \n      let _outgoingSum = parseInt($('#Outgoing___Cust_Order_' + i).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + i).text().replace(/,/g, '')) + (outgoing);\n      let _incomingSum = parseInt($('#Incoming___PO_Confd___PO_Balance___PO_Not_Confd_' + i).text().replace(/,/g, '')) + parseInt($('#Incoming___PO_Pland_' + i).text().replace(/,/g, '')) + parseInt($('#Incoming___Kit_Comp___Kit_Item___Transfer___Rework_' + i).text().replace(/,/g, '')) + parseInt($('#Qty_on_Hand___Stock_' + i).text().replace(/,/g, '')) + (incoming);\n\n      var sum = _incomingSum - _outgoingSum;\n      $('#Proposed_Total_Inventory_Units_Net_' + i).text(sum.toLocaleString());\n\n      this.calcQtyOnHand();\n      this.wosCalc_(i);\n    }\n  }\n\n  /**\n   * @Author Faizul Hassan\n   * @param i\n   * @Description Function to calculate WOS\n   */\n  wosCalc_(i) {\n    let _mnthStock = parseInt($('#Proposed_Total_Inventory_Units_Net_' + i).text().replace(/,/g, ''));\n    let _pOutgoing = this.proposedCalc(i + 1, 'outgoing');\n\n    let _outgoingSum = parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')) + (_pOutgoing);\n    let _wos = 0;\n    let _stockBlnc = 0;\n    let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n    let _totlMnths = this.distinctMonths.length;\n\n    console.log('___________LOOP__________:', i);\n    console.log('mnthStock:', _mnthStock, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')), _pOutgoing, 'Outgoings Sum:', _outgoingSum, '_pOutgoing:', _pOutgoing, '_days:', _days, 'month:', this.distinctMonths[i + 1]);\n\n\n    /* If no stock in hand then calculate WOS */\n    if (_mnthStock == 0 || _mnthStock < 0) {\n      _wos = 0;\n      $('#Proposed_WOS_' + i).text(this.formatWos(_wos))\n      console.log('---I don\\'t have stock in my hand---');\n      return;\n    }\n    /* Check whether you can serve next month */\n\n    if (_mnthStock >= _outgoingSum) {\n      console.log('------I can serve------');\n      _wos = _days / 7;\n      _stockBlnc = _mnthStock - _outgoingSum;\n\n      /* Check if Outgoing for next month is negative */\n      if (Math.sign(_outgoingSum) == -1) {\n        _stockBlnc = _mnthStock;\n      }\n\n      console.log('_wos:', _wos, '_stockBlnc:', _stockBlnc);\n\n      /* Check whether the outgoings are 0 */\n      if (_outgoingSum == 0) {\n        _wos = 0;\n        console.log('---Next month Outgoings is 0---');\n      }\n\n      /* Calculations for End of Months */\n      if (_.isUndefined(this.distinctMonths[i + 2])) {\n        console.log('---There are no future months for end of year---');\n        $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n      }\n\n      //Next to next month calculations\n      for (let j = (i + 2); j < _totlMnths; j++) {\n        let _pOutgoing = this.proposedCalc(j, 'outgoing');\n        let level2_outgoings = parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')) + (_pOutgoing);\n\n        console.log('level2_month:', this.distinctMonths[j], 'level2_outgoings:', level2_outgoings, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')), _pOutgoing);\n\n        /* Check whether the outgoings are 0 */\n        if (level2_outgoings == 0 && _wos == 0) {\n          _wos = 0;\n          console.log('---level2 months Outgoings are 0---');\n          continue;\n        }\n\n        if (_stockBlnc > level2_outgoings && level2_outgoings != 0) {\n          console.log('---------Yes I can serve next to next month---------');\n          _days = moment(this.distinctMonths[j]).daysInMonth();\n          _wos += _days / 7;\n          _stockBlnc = _stockBlnc - level2_outgoings;\n\n          console.log('level2_wos:', _wos, 'level2_stockBlnc:', _stockBlnc, 'level2_days', _days, 'month:', this.distinctMonths[j]);\n\n          console.log('level2----- I complete serving the month------', this.distinctMonths[j]);\n\n          /* If there are no other months to solve */\n          if (j == this.distinctMonths.length - 1) {\n            console.log('level2 end-----no more months available to serve----- ');\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n          } else {\n            $('#Proposed_WOS_' + i).removeClass('no-more-months');\n          }\n\n          continue;\n        } else {\n          console.log('---------No I can\\'t serve further---------');\n\n          /* Check if outgoings are 0 */\n          if (level2_outgoings == 0) {\n            //_wos += _wos;\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos));\n            console.log('---level2 outgoings are 0---', '_wos::', _wos);\n            continue;\n          }\n\n          /* If stock balance is 0 then end loop and calculate Wos */\n          if (_stockBlnc == 0) {\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n            return;\n          }\n\n          _days = moment(this.distinctMonths[j]).daysInMonth();\n          let _stockRqdPerDay = level2_outgoings / _days;\n          let _canServeFor = _stockBlnc / _stockRqdPerDay;\n          _wos += _canServeFor / 7;\n          $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n          console.log('level2_days::', _days, '_canServeFor::', _canServeFor, '_wos:', _wos);\n          return;\n        }\n      }\n    } else {\n      console.log('---------I fell short for the first month---------');\n      let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n      let _requirement = _outgoingSum / _days;\n      let _canServe = _mnthStock / _requirement;\n      _wos = _canServe / 7;\n      $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n      console.log('_days:', _days, '_requirement per day:', _requirement, '_canServe:', _canServe, '_wos:', _wos);\n\n      /* Calculation for End of months */\n      if (_.isNaN(_wos)) {\n        $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n      }\n      console.log('----------Fell Short Done----------------');\n    }\n  }\n\n  poInPercent(value, i) {\n    if (value && value.indexOf('%') > -1) {\n      value = value == '' ? 0 : parseInt(value);\n      let _forecast = parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, ''));\n      let _og = (value / 100) * _forecast;\n      return _og;\n    } else {\n      return parseInt(value);\n    }\n  }\n\n  /**\n   * @Description Inclusion of positive and negative numbers along with percentage values\n   */\n  proposedCalc(i, type) {\n    let propO = $('#Proposed_Outgoing_' + i + ' input').val();\n    let propI = $('#Proposed_Incoming_' + i + ' input').val();\n    switch (type) {\n      case 'outgoing':\n        let _forecast = parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, ''));\n        if (propO) {\n          if ((propO.includes('%') && (propO.includes('-') || propO.includes('+'))) || propO.includes('%')) {\n            propO = propO == '' ? 0 : parseInt(propO);\n            return (propO / 100) * _forecast;\n          } else if (propO.includes('-') || propO.includes('+')) {\n            propO = propO == '' ? 0 : parseInt(propO);\n            return propO;\n          } else {\n            return parseInt(propO);\n          }\n        } else {\n          return parseInt(propO);\n        }\n      case 'incoming':\n        if (propI) {\n          if (propI.includes('-') || propI.includes('+')) {\n            propI = propI == '' ? 0 : parseInt(propI);\n            return propI;\n          } else {\n            return parseInt(propI);\n          }\n        } else {\n          return parseInt(propI);\n        }\n    }\n  }\n\n  /**\n   * @Description Function to handle New Qty On Hand Upon Proposed IO changes \n   */\n  calcQtyOnHand() {\n    let totlMnths = this.distinctMonths.length;\n    let proposedInv = '';\n    for (let i = 1; i < totlMnths; i++) {\n      proposedInv = $('#Proposed_Total_Inventory_Units_Net_' + (i - 1)).text();\n      $('#Qty_on_Hand___Stock_' + i).text(proposedInv);\n    }\n  }\n\n  formatWos(wos) {\n    return wos > 0 ? Math.round(wos) : 0;\n  }\n\n  formatNumbers(i) {\n    return Math.round(i).toLocaleString();\n  }\n\n  startEdit(id: string): void {\n    this.editId = id;\n  }\n\n  stopEdit(): void {\n    this.editId = null;\n    this._wosCalculations();\n  }\n\n  /**\n   * @Description Function that constructs the JSON response as per designed structure to show it as a tabular view\n   */\n  getWeekOfSupplies() {\n    let qtyOnHand = [];\n    let obj = [];\n    let source = [\n      { 'Qty on Hand - Stock': [] },\n      { 'Outgoing - Cust Order': [] },\n      { 'Outgoing - Net Fcst': [] },\n      { 'Outgoing - Kit Comp + Kit Item + Transfer + Rework': [] },\n      { 'Proposed Outgoing': [] },\n      { 'Incoming - PO-Confd + PO Balance + PO-Not Confd': [] },\n      { 'Incoming - PO-Pland': [] },\n      { 'Incoming - Kit Comp + Kit Item + Transfer + Rework': [] },\n      { 'Proposed Incoming': [] },\n      { 'Total Inventory Units-Net': [] },\n      { 'Total Inventory $-Net': [] },\n      { 'Net WOS': [] },\n      { 'Proposed Total Inventory Units-Net': [] },\n      { 'Proposed WOS': [] },\n      { 'Target Inventory Units': [] },\n      { 'Target Inventory $': [] },\n      { 'Inventory vs Target': [] },\n      { 'Proposed Events - Blue Sky': [] },\n      { 'Proposed Events': [] },\n      { 'Net Forecast - Blue Sky': [] }\n    ];\n\n    /* Handle QTY ON HAND */\n    let _filteredQty = [];\n    let _qtySumming = [];\n    let _finalQtyOnHand = [];\n\n    (() => {\n      _.filter(this.rawData, (item) => {\n        if (item['source'] == 'Qty on Hand - Stock') {\n          _filteredQty.push(item);\n        } else { return; }\n      });\n\n      let _group = _.groupBy(_filteredQty, 'date');\n      for (let i in _group) {\n        _qtySumming.push(_.sumBy(_group[i], 'incoming units'));\n      }\n\n      _qtySumming.forEach((i) => {\n        _finalQtyOnHand.push({ source: 'Qty on Hand - Stock', 'incoming units': i, 'incoming $': 0 });\n      });\n    })();\n\n    source.forEach((item, i) => {\n      let _keys = Object.keys(item)[0];\n      qtyOnHand = [];\n      _.filter(this.rawData, (item) => {\n        if (item.source == _keys && item.source != 'Qty on Hand - Stock') {\n          qtyOnHand.push(item);\n        } else if (item['source'] == 'Qty on Hand - Stock') {\n        } else { return; }\n      });\n\n      if (_keys == 'Qty on Hand - Stock') {\n        qtyOnHand = _finalQtyOnHand;\n      }\n\n      /* Removing empty fields for Qty on Hands */\n      /* let filtrQtyOnHand = [];\n      _.filter(qtyOnHand, (i) => {\n        if (i.source == 'Qty on Hand - Stock') {\n          let _date = new Date(i.date).getMonth() + 1;\n          if (_date == i.month) {\n            filtrQtyOnHand.push(i);\n            qtyOnHand = filtrQtyOnHand;\n          }\n        } else {\n          return;\n        }\n      }); */\n\n      qtyOnHand = _.orderBy(qtyOnHand, 'date', 'asc');\n      console.log('_keys::', _keys, 'qtyOnHand::', qtyOnHand);\n\n      /* When Qty On Hand is Higher than expected */\n      /* if (qtyOnHand.length > this.filterMdl.month) {\n        qtyOnHand = _.uniqBy(qtyOnHand, 'date');\n      } */\n\n      if (qtyOnHand.length < this.filterMdl.month) {\n        let missed = this.distinctMonths.filter(dt => !qtyOnHand.find(fnd => dt == fnd.date));\n        console.log('missed:', missed);\n        let isQtyOnHnd = qtyOnHand.length > 0 ? qtyOnHand[0] : '-'\n        missed.forEach(dt => {\n          qtyOnHand.push({\n            'incoming $': 0,\n            'incoming units': 0,\n            'outgoing $': 0,\n            'outgoing units': 0,\n            'source': isQtyOnHnd['source'],\n            'whs': isQtyOnHnd['whs'],\n            'item': isQtyOnHnd['item'],\n            date: dt\n          })\n        });\n\n        qtyOnHand.sort(function compare(a, b) {\n          var dateA: any = new Date(a.date);\n          var dateB: any = new Date(b.date);\n          return (dateA - dateB);\n        });\n      }\n\n      let _previousInfo: any = 0;\n      let _currentInfo: any = 0;\n      qtyOnHand.forEach(item => {\n        _currentInfo = new Date(item.date).getMonth() + 1;\n        if (_.isNull(item['incoming units'])) {\n          item['incoming units'] = 0;\n        }\n        if (_.isNull(item['outgoing units'])) {\n          item['outgoing units'] = 0;\n        }\n\n        if (_currentInfo != _previousInfo) {\n          if (_keys.indexOf('Outgoing') != -1) {\n            this.constructUnits(source, item, i, _keys, 'outgoing units');\n          } else {\n            this.constructUnits(source, item, i, _keys, 'incoming units');\n          }\n        } else {\n          if (_keys.indexOf('Outgoing') != -1) {\n            this.sumAllWhs(source, item, i, _keys, 'outgoing units');\n          } else {\n            this.sumAllWhs(source, item, i, _keys, 'incoming units');\n          }\n        }\n        _previousInfo = new Date(item.date).getMonth() + 1;\n      });\n\n      qtyOnHand = [];\n      if (i == 0) {\n        obj.push({\n          subcategory: this.rawData[0]['subcategory'],\n          whs: this.rawData[0]['whs'],\n          source: [item]\n        });\n      } else {\n        obj.push({\n          source: [item]\n        });\n      }\n    });\n\n    this.wosArr = obj;\n    console.log('Final::', obj);\n\n    setTimeout(() => {\n      this._wosCalculations();;\n    }, 1000);\n  }\n\n  /* Function to push units in to source */\n  constructUnits(source, item, i, _keys, units) {\n    source[i][_keys].push({\n      units: item[units],\n      whs: item['whs'],\n      date: item['date']\n    });\n  }\n\n  /* Function to sum all units in Warehouses */\n  sumAllWhs(source, item, i, _keys, units) {\n    source[i][_keys].find((obj) => {\n      if (obj.date == item['date']) {\n        obj['units'] += item[units];\n      }\n    });\n  }\n\n  getItemFromDataset(param) {\n    this.isLoading = true;\n    this.handleMultiselect(param);\n    let query = this.handleQuery();\n\n    domo.get(`/data/v1/wos?${query}`).then(data => {\n      this.isLoading = false;\n      this.distinctMonths = _.uniq(_.map(data, 'date'));\n      this.rawData = data;\n      param == 'GO' && this.toggleFilter();\n      this.getWeekOfSupplies();\n      setTimeout(() => {\n        this.calculateNetWos();\n      }, 2000);\n    }).catch(e => {\n      this.isLoading = false;\n      console.log('e::', e);\n    });\n  }\n\n  handleQuery() {\n    /* Handle Query */\n    let { month, subCategory } = this.filterMdl;\n    let query = '';\n    let currentDate = moment().startOf('month').format('MM/DD/YYYY');\n    let tillDate = moment().add(month - 1, 'months').startOf('month').format('MM/DD/YYYY');\n    if (this.WHSQry == '') {\n      query = `filter=subcategory=${subCategory}, date >= ${currentDate}, date < ${tillDate}, scenario = Actuals&orderby=date ascending`;\n    } else {\n      query = `filter=subcategory=${subCategory}, whs in [${this.WHSQry}], date >= ${currentDate}, date < ${tillDate}, scenario = Actuals&orderby=date ascending`;\n    }\n    return query;\n  }\n\n  toggleFilter() {\n    $('.filter').toggleClass('show-slider');\n  }\n\n  formatDate(date) {\n    return moment(date).format('MM/DD/YYYY');\n  }\n\n  roundupValues(val) {\n    return Math.round(val);\n  }\n\n  getSubCategory() {\n    domo.post('/sql/v1/wos', 'SELECT DISTINCT subcategory FROM wos WHERE subcategory IS NOT NULL ORDER BY subcategory', { contentType: 'text/plain' })\n      .then((data) => {\n        this.subCategoryList = data['rows'].map(i => i[0]);\n        this.filteredSku = this.subCategoryList;\n\n        if (this.filteredSku.length > 0) {\n          this.isSubCategoryLoading = false;\n        }\n      }).catch(e => {\n        console.log('error::', e);\n      });\n  }\n\n  getWHS(item, bool) {\n    /* if (this.ItemMdl.length == 0 && !bool) {\n      return this.message('Item Not Selected !', 'Please select an item to get related warehouses', 'info');\n    } */\n    this.isWHSLoading = true;\n    this.disableWHS = true;\n    this.filterMdl.whs = '';\n\n    this.whsList = [];\n    this.WHSMdl = [];\n    let query = \"SELECT DISTINCT whs FROM wos WHERE subcategory='\" + this.filterMdl.subCategory + \"' ORDER BY whs\";\n\n    domo.post('/sql/v1/wos', query, { contentType: 'text/plain' })\n      .then((data) => {\n        this.listItems_WHS = data['rows'];\n        data['rows'].map(i => {\n          this.whsList.push({ label: i[0], value: i[0] })\n        });\n\n        if (this.whsList.length > 0) {\n          this.isWHSLoading = false;\n          this.disableWHS = false;\n          /* setTimeout(() => {\n            if (!bool) {\n              $('#warehouseEl .ant-select-selector').click();\n            }\n          }, 1000); */\n        }\n\n        if (bool) {\n          /* To show WHS in table row */\n          this.selectedWHS = data['rows'].map(i => i[0]);\n          //this.selectedWHS = this.selectedWHS.toString().replace(/,/g, ', ');\n        }\n\n      }).catch(e => {\n        console.log('error::', e);\n      });\n  }\n\n  handleItemForSQLQuery(item) {\n    let _item = [];\n    item.forEach(el => {\n      _item.push(`'${el}'`);\n    });\n    return _item;\n  }\n\n  handleItem() {\n    this.WHSFlag = 0;\n  }\n\n  allowNumerics(event, proposed, value) {\n    let allowedKeys = [45, 43, 107, 109];\n\n    if (proposed == 'OG') {\n      return (event.charCode == 8 || event.charCode == 0) ? null : (event.charCode >= 48 && event.charCode <= 57) || (event.charCode == 37 || allowedKeys.includes(event.charCode));\n    } else {\n      return (event.charCode == 8 || event.charCode == 0) ? null : (event.charCode >= 48 && event.charCode <= 57) || (allowedKeys.includes(event.charCode));\n    }\n  }\n\n  SQLQuery() {\n    /* \n      \"SELECT *, (SELECT SUM('incoming units'),SUM('outgoing units'),SUM('incoming $'),SUM('outgoing $') FROM wos) FROM wos WHERE item='\" + sku + \"' AND date BETWEEN '2020-10-01T00:00:00' AND '2020-11-01T00:00:00' GROUP BY masteritem,date,source ORDER BY whs\"\n    */\n  }\n\n  handleMultiselect(param) {\n    /* Set Selected WHS */\n    this.selectedWHS = this.WHSMdl//.toString().replace(/,/g, ', ');\n    // /this.selectedItem = this.ItemMdl;\n\n    /* Set whs on GO button click */\n    if (param == 'GO') {\n      this.WHSQry = this.selectedWHS;\n      // /this.ItemQry = this.selectedItem;\n\n      if (this.selectedWHS.length == 0) {\n        this.selectedWHS = this.listItems_WHS.map(i => i);\n      }\n      /* //if (this.selectedItem.length == 0) {\n        this.selectedItem = this.listItems_Items.map(i => i);\n      } */\n    }\n  }\n\n  message(title, msg, type) {\n    this._notify.create(\n      type,\n      title,\n      msg\n    );\n  }\n\n  downloadExcel() {\n    let xlObj = {\n      _dates: this.distinctMonths.map(i => moment(i).format('MM/DD/YYYY')),\n      netUnits: this.getNetUnits(),\n      rawData: this.constructRawData(),\n      whs: this.selectedWHS,\n      sheetName: 'WOS - Sub Category Level Aggregation',\n      type: { header: 'Sub Category', key: 'subcategory' }\n    };\n    this._toXl.toExcel(xlObj);\n  }\n\n  getNetUnits() {\n    let _units = [];\n    for (let i = 0; i < 20; i++) {\n      _units.push($('#netUnits_' + i).text());\n    }\n    return _units;\n  }\n\n  constructRawData() {\n    let _rawData = _.cloneDeep(this.wosArr);\n    let _size = this.distinctMonths.length;\n    let _pWOS = [];\n    let _pNet = [];\n    let _netWos = [];\n\n    for (let i = 0; i < _size; i++) {\n      _pWOS.push({\n        units: $('#Proposed_WOS_' + i).text().replace(/,/g, '')\n      });\n\n      _pNet.push({\n        units: $('#Proposed_Total_Inventory_Units_Net_' + i).text().replace(/,/g, '')\n      });\n\n      _netWos.push({\n        units: $('#Net_WOS_' + i).text()\n      });\n    }\n\n    _.filter(_rawData, (el) => {\n      if (Object.keys(el.source[0])[0] == 'Proposed WOS') {\n        el.source = [{\n          'Proposed WOS': _pWOS\n        }];\n      } else if (Object.keys(el.source[0])[0] == 'Proposed Total Inventory Units-Net') {\n        el.source = [{\n          'Proposed Total Inventory Units-Net\t': _pNet\n        }];\n      } else if (Object.keys(el.source[0])[0] == 'Net WOS') {\n        el.source = [{\n          'Net WOS\t': _netWos\n        }];\n      }\n    });\n\n    return _rawData;\n  }\n\n  calculateNetWos() {\n    let _pWOS = [];\n    for (let i = 0; i < this.distinctMonths.length; i++) {\n      let pWOS = $('#Proposed_WOS_' + i).text();\n      _pWOS.push(parseInt(pWOS));\n      $('#Net_WOS_' + i).text(pWOS);\n    }\n\n    /* NetWos Summing logic for Net Units Total */\n    let total = _pWOS.reduce((a, b) => a + b, 0).toLocaleString();\n    $('#netUnits_11').text(total);\n  }\n}\n","<div class=\"wos\">\n  <div class=\"table-wrapper\">\n    <nz-table #colSpanTable [nzData]=\"wosArr\" nzBordered nzSize=\"small\" [nzShowPagination]=\"false\"\n      [nzNoResult]=\"'No data to display'\" [nzLoading]=\"isLoading\">\n      <thead>\n        <tr>\n          <th rowspan=\"2\">Sub Category</th>\n          <!-- <th rowspan=\"2\">Item</th> -->\n          <th rowspan=\"2\">Warehouse</th>\n          <th rowspan=\"2\">Source</th>\n          <th [colspan]=\"distinctMonths.length\" *ngIf=\"distinctMonths.length >0\">Net Units</th>\n          <th [colspan]=\"3\" *ngIf=\"distinctMonths.length ==0\">Net Units</th>\n          <th rowspan=\"2\">Net Units Total</th>\n        </tr>\n\n        <tr>\n          <th *ngIf=\"distinctMonths.length ==0\">01/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">02/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">03/01/2000</th>\n          <th *ngFor=\"let _months of distinctMonths\">{{formatDate(_months)}}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr *ngFor=\"let item of wosArr;let xIndex = index;\">\n          <ng-container [ngSwitch]=\"xIndex\">\n            <ng-container *ngSwitchCase=\"0\">\n              <td rowspan=\"20\" class=\"item-whs\">{{item.subcategory}}</td>\n              <!-- <td rowspan=\"20\" class=\"item-whs\">\n                <div class=\"warehouse\">\n                  <ul>\n                    <li *ngFor=\"let item of selectedItem\">{{item}}</li>\n                  </ul>\n                </div>\n              </td> -->\n              <td rowspan=\"20\" class=\"item-whs\">\n                <div class=\"warehouse\">\n                  <ul>\n                    <li *ngFor=\"let whs of selectedWHS\">{{whs}}</li>\n                  </ul>\n                </div>\n              </td>\n            </ng-container>\n          </ng-container>\n\n          <ng-container *ngFor=\"let source of item.source | keyvalue\">\n            <td class=\"source\">{{getSourceKey(source.value)}}</td>\n            <ng-container [ngSwitch]=\"getSourceKey(source.value)\">\n              <ng-container *ngSwitchCase=\"'Proposed Outgoing'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"td-ougoing\" (click)=\"oProposed.focus()\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value))\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #oProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\"\n                    (keypress)=\"allowNumerics($event,'OG',oProposed.value)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Incoming'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" (click)=\"iProposed.focus()\"\n                  [id]=\"setID(i, source.value)\" class=\"td-incoming\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value));\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #iProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\"\n                    (keypress)=\"allowNumerics($event,'IC',iProposed.value)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Total Inventory Units-Net'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">-</td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Total Inventory $-Net'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">\n                  $ {{sD.units | number: '1.0-0'}}\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchDefault>\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">\n                  {{sD.units | number: '1.0-0'}}\n                </td>\n              </ng-container>\n            </ng-container>\n            <td [id]=\"'netUnits_'+xIndex\" class=\"all-units\">{{sumSourceItems(source.value)}}</td>\n          </ng-container>\n        </tr>\n      </tbody>\n    </nz-table>\n  </div>\n\n  <section class=\"filter\">\n    <div class=\"slider\" (click)=\"toggleFilter()\">\n      <i nz-icon nzType=\"filter\" nzTheme=\"outline\"></i>\n    </div>\n\n    <div class=\"switch-app\">\n      <button nz-button nz-popover nzPopoverTitle=\"Switch WOS App\" [(nzPopoverVisible)]=\"wosVisible\"\n        nzPopoverTrigger=\"click\" [nzPopoverContent]=\"wosSwitcher\">\n        <i nz-icon nzType=\"menu-fold\" nzTheme=\"outline\"></i>\n      </button>\n      <ng-template #wosSwitcher>\n        <div routerLink=\"/warehouse-aggregation\" class=\"switcher\">WOS - Item Level</div>\n        <div routerLink=\"/master-item-aggregation\" class=\"switcher\">WOS - Master Item Level</div>\n        <div routerLink=\"/sub-category-aggregation\" class=\"switcher\">WOS - Sub Category Level</div>\n        <nz-divider></nz-divider>\n        <div class=\"switcher\" (click)=\"downloadExcel()\">Export To Excel</div>\n      </ng-template>\n    </div>\n\n    <div class=\"container-el\">\n      <form nz-form #filterForm=\"ngForm\">\n\n        <div class=\"sku-flex\">\n          <div class=\"input-el category\">\n            <label for=\"\">Sub Category</label>\n            <nz-select name=\"subCategory\" nzShowSearch nzAllowClear [(ngModel)]=\"filterMdl.subCategory\"\n              (ngModelChange)=\"getWHS(filterMdl.subCategory, false)\" [nzLoading]=\"isSubCategoryLoading\"\n              [nzDisabled]=\"isSubCategoryLoading\" required>\n              <nz-option *ngFor=\"let category of subCategoryList\" [nzLabel]=\"category\" [nzValue]=\"category\"></nz-option>\n            </nz-select>\n          </div>\n\n          <div class=\"input-el month\">\n            <label for=\"\">Month</label>\n            <nz-select name=\"month\" nzShowSearch nzAllowClear nzPlaceHolder=\"\" [(ngModel)]=\"filterMdl.month\" required>\n              <nz-option *ngFor=\"let m of month\" [nzLabel]=\"m\" [nzValue]=\"m\"></nz-option>\n            </nz-select>\n          </div>\n        </div>\n\n        <!-- <div class=\"sku-flex\">\n          <div class=\"input-el item\">\n            <label for=\"\">Item</label>\n            <nz-select nzShowSearch nzAllowClear name=\"itemMdl\" [(ngModel)]=\"ItemMdl\" nzMode=\"tags\"\n              [nzDisabled]=\"disableItem\" (nzFocus)=\"handleItem()\">\n              <nz-option *ngFor=\"let item of skuList\" [nzLabel]=\"item.label\" [nzValue]=\"item.value\"></nz-option>\n            </nz-select>\n\n            <div class=\"loader\" *ngIf=\"isSkuLoading\">\n              <ng-template #loader><i nz-icon nzType=\"loading\"></i></ng-template>\n              <nz-spin nzSimple [nzIndicator]=\"loader\"> </nz-spin>\n            </div>\n          </div>\n        </div> -->\n\n        <div class=\"sku-flex\">\n          <div class=\"input-el warehouse\">\n            <label for=\"\" class=\"warehouse-label\">Warehouse\n              <i nz-icon nzType=\"info-circle\" nzTheme=\"outline\" nz-tooltip\n                nzTooltipTitle=\"Hint: Leave warehouse selection empty to aggregate all warehouses\"></i>\n            </label>\n            <nz-select #warehouseEl id=\"warehouseEl\" nzShowSearch nzAllowClear name=\"whsMdl\" [(ngModel)]=\"WHSMdl\"\n              nzMode=\"tags\" [nzDisabled]=\"disableWHS\">\n              <nz-option *ngFor=\"let whs of whsList\" [nzLabel]=\"whs.label\" [nzValue]=\"whs.value\"></nz-option>\n            </nz-select>\n\n            <div class=\"loader\" *ngIf=\"isWHSLoading\">\n              <ng-template #loader><i nz-icon nzType=\"loading\"></i></ng-template>\n              <nz-spin nzSimple [nzIndicator]=\"loader\"> </nz-spin>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"input-el btn\">\n          <button nz-button nzType=\"primary\" nzDanger [disabled]=\"!filterForm.valid || isWHSLoading\"\n            (click)=\"getItemFromDataset('GO')\">Go</button>\n        </div>\n      </form>\n    </div>\n  </section>\n</div>\n<!-- <pre>{{rawData | json}}</pre> -->","import { Component, OnInit } from '@angular/core';\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\n\nimport { ApiService } from 'src/app/services/api.service';\nimport * as _ from 'lodash';\nimport * as moment from 'moment';\nimport { ExcelExportComponent } from '../excel-export/excel-export.component';\n\ndeclare var $: any;\ndeclare var domo: any;\n@Component({\n  selector: 'app-wos-master',\n  templateUrl: './wos-master.component.html',\n  styleUrls: ['./wos-master.component.scss']\n})\nexport class WosMasterComponent implements OnInit {\n\n  editId: string | null = null;\n  wosArr = [];\n  rawData = [];\n  listItems_WHS;\n  listItems_Items;\n  filteredSku: string[] = [];\n\n  masterItemList = [];\n  filteredWhs: string[] = [];\n\n  month = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\n  distinctMonths = [];\n  filterMdl = {\n    masterItem: 'VM200S',\n    sku: '',\n    whs: '',\n    month: 4\n  };\n\n  ItemMdl = [];\n  skuList: Array<{ label: string; value: string }> = [];\n  whsList: Array<{ label: string; value: string }> = [];\n  WHSMdl = [];\n  WHSQry = '';\n  ItemQry = '';\n  WHSFlag = 0;\n  selectedWHS: any = [];\n  selectedItem: any = [];\n\n  /* Loader Variable */\n  isMasterItemLoading = true;\n  isSkuLoading = false;\n  isWHSLoading = false;\n  disableWHS = true;\n  disableItem = true;\n  isLoading = true;\n  wosVisible = false;\n\n  constructor(\n    private _notify: NzNotificationService,\n    private _toXl: ExcelExportComponent\n  ) {\n    //this.filteredSku = this.skuList;\n  }\n\n  ngOnInit(): void {\n    this.getMasterItem();\n    this.getItemFromDataset('onInit');\n    //this.getItem(this.filterMdl.subCategory, true);\n    this.getWHS(this.ItemMdl, true);\n  }\n\n  getSourceKey(item) {\n    return Object.keys(item);\n  }\n\n  readSourceItems(item) {\n    let keyItems = Object.keys(item);\n    return item[keyItems[0]];\n  }\n\n  sumSourceItems(item) {\n    let keyItems = Object.keys(item);\n    keyItems = item[keyItems[0]];\n    let units = keyItems.map(i => {\n      return i['units'] == '' ? 0 : parseInt(i['units'])\n    });\n    return units.reduce((a, b) => a + b, 0).toLocaleString();\n  }\n\n  setID(i, item) {\n    return `${Object.keys(item)[0]\n      .replace(/[^\\w]/gi, '_')\n      }_${i}`;\n  }\n\n  _wosCalculations() {\n    for (let i = 0; i < this.distinctMonths.length; i++) {\n      let proposedO = this.proposedCalc(i, 'outgoing');\n      let proposedI = this.proposedCalc(i, 'incoming');\n      let outgoing = proposedO == '' ? 0 : parseInt(proposedO);\n      let incoming = proposedI == '' ? 0 : parseInt(proposedI);\n      \n      let _outgoingSum = parseInt($('#Outgoing___Cust_Order_' + i).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + i).text().replace(/,/g, '')) + (outgoing);\n      let _incomingSum = parseInt($('#Incoming___PO_Confd___PO_Balance___PO_Not_Confd_' + i).text().replace(/,/g, '')) + parseInt($('#Incoming___PO_Pland_' + i).text().replace(/,/g, '')) + parseInt($('#Incoming___Kit_Comp___Kit_Item___Transfer___Rework_' + i).text().replace(/,/g, '')) + parseInt($('#Qty_on_Hand___Stock_' + i).text().replace(/,/g, '')) + (incoming);\n\n      var sum = _incomingSum - _outgoingSum;\n      $('#Proposed_Total_Inventory_Units_Net_' + i).text(sum.toLocaleString());\n\n      this.calcQtyOnHand();\n      this.wosCalc_(i);\n    }\n  }\n\n  wosCalc_(i) {\n    let _mnthStock = parseInt($('#Proposed_Total_Inventory_Units_Net_' + i).text().replace(/,/g, ''));\n    let _pOutgoing = this.proposedCalc(i + 1, 'outgoing');\n\n    let _outgoingSum = parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')) + (_pOutgoing);\n    let _wos = 0;\n    let _stockBlnc = 0;\n    let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n    let _totlMnths = this.distinctMonths.length;\n\n    console.log('___________LOOP__________:', i);\n    console.log('mnthStock:', _mnthStock, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')), _pOutgoing, 'Outgoings Sum:', _outgoingSum, '_pOutgoing:', _pOutgoing, '_days:', _days, 'month:', this.distinctMonths[i + 1]);\n\n\n    /* If no stock in hand then calculate WOS */\n    if (_mnthStock == 0 || _mnthStock < 0) {\n      _wos = 0;\n      $('#Proposed_WOS_' + i).text(this.formatWos(_wos))\n      console.log('---I don\\'t have stock in my hand---');\n      return;\n    }\n    /* Check whether you can serve next month */\n\n    if (_mnthStock >= _outgoingSum) {\n      console.log('------I can serve------');\n      _wos = _days / 7;\n      _stockBlnc = _mnthStock - _outgoingSum;\n\n      /* Check if Outgoing for next month is negative */\n      if (Math.sign(_outgoingSum) == -1) {\n        _stockBlnc = _mnthStock;\n      }\n\n      console.log('_wos:', _wos, '_stockBlnc:', _stockBlnc);\n\n      /* Check whether the outgoings are 0 */\n      if (_outgoingSum == 0) {\n        _wos = 0;\n        console.log('---Next month Outgoings is 0---');\n      }\n\n      /* Calculations for End of Months */\n      if (_.isUndefined(this.distinctMonths[i + 2])) {\n        console.log('---There are no future months for end of year---');\n        $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n      }\n\n      //Next to next month calculations\n      for (let j = (i + 2); j < _totlMnths; j++) {\n        let _pOutgoing = this.proposedCalc(j, 'outgoing');\n        let level2_outgoings = parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')) + (_pOutgoing);\n\n        console.log('level2_month:', this.distinctMonths[j], 'level2_outgoings:', level2_outgoings, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')), _pOutgoing);\n\n        /* Check whether the outgoings are 0 */\n        if (level2_outgoings == 0 && _wos == 0) {\n          _wos = 0;\n          console.log('---level2 months Outgoings are 0---');\n          continue;\n        }\n\n        if (_stockBlnc > level2_outgoings && level2_outgoings != 0) {\n          console.log('---------Yes I can serve next to next month---------');\n          _days = moment(this.distinctMonths[j]).daysInMonth();\n          _wos += _days / 7;\n          _stockBlnc = _stockBlnc - level2_outgoings;\n\n          console.log('level2_wos:', _wos, 'level2_stockBlnc:', _stockBlnc, 'level2_days', _days, 'month:', this.distinctMonths[j]);\n\n          console.log('level2----- I complete serving the month------', this.distinctMonths[j]);\n\n          /* If there are no other months to solve */\n          if (j == this.distinctMonths.length - 1) {\n            console.log('level2 end-----no more months available to serve----- ');\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n          } else {\n            $('#Proposed_WOS_' + i).removeClass('no-more-months');\n          }\n\n          continue;\n        } else {\n          console.log('---------No I can\\'t serve further---------');\n\n          /* Check if outgoings are 0 */\n          if (level2_outgoings == 0) {\n            //_wos += _wos;\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos));\n            console.log('---level2 outgoings are 0---', '_wos::', _wos);\n            continue;\n          }\n\n          /* If stock balance is 0 then end loop and calculate Wos */\n          if (_stockBlnc == 0) {\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n            return;\n          }\n\n          _days = moment(this.distinctMonths[j]).daysInMonth();\n          let _stockRqdPerDay = level2_outgoings / _days;\n          let _canServeFor = _stockBlnc / _stockRqdPerDay;\n          _wos += _canServeFor / 7;\n          $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n          console.log('level2_days::', _days, '_canServeFor::', _canServeFor, '_wos:', _wos);\n          return;\n        }\n      }\n    } else {\n      console.log('---------I fell short for the first month---------');\n      let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n      let _requirement = _outgoingSum / _days;\n      let _canServe = _mnthStock / _requirement;\n      _wos = _canServe / 7;\n      $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n      console.log('_days:', _days, '_requirement per day:', _requirement, '_canServe:', _canServe, '_wos:', _wos);\n\n      /* Calculation for End of months */\n      if (_.isNaN(_wos)) {\n        $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n      }\n      console.log('----------Fell Short Done----------------');\n    }\n  }\n\n  poInPercent(value, i) {\n    if (value && value.indexOf('%') > -1) {\n      value = value == '' ? 0 : parseInt(value);\n      let _forecast = parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, ''));\n      let _og = (value / 100) * _forecast;\n      return _og;\n    } else {\n      return parseInt(value);\n    }\n  }\n\n  proposedCalc(i, type) {\n    let propO = $('#Proposed_Outgoing_' + i + ' input').val();\n    let propI = $('#Proposed_Incoming_' + i + ' input').val();\n    switch (type) {\n      case 'outgoing':\n        let _forecast = parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, ''));\n        if (propO) {\n          if ((propO.includes('%') && (propO.includes('-') || propO.includes('+'))) || propO.includes('%')) {\n            propO = propO == '' ? 0 : parseInt(propO);\n            return (propO / 100) * _forecast;\n          } else if (propO.includes('-') || propO.includes('+')) {\n            propO = propO == '' ? 0 : parseInt(propO);\n            return propO;\n          } else {\n            return parseInt(propO);\n          }\n        } else {\n          return parseInt(propO);\n        }\n      case 'incoming':\n        if (propI) {\n          if (propI.includes('-') || propI.includes('+')) {\n            propI = propI == '' ? 0 : parseInt(propI);\n            return propI;\n          } else {\n            return parseInt(propI);\n          }\n        } else {\n          return parseInt(propI);\n        }\n    }\n  }\n\n  /**\n   * @Description Function to handle New Qty On Hand Upon Proposed IO changes \n   */\n  calcQtyOnHand() {\n    let totlMnths = this.distinctMonths.length;\n    let proposedInv = '';\n    for (let i = 1; i < totlMnths; i++) {\n      proposedInv = $('#Proposed_Total_Inventory_Units_Net_' + (i - 1)).text();\n      $('#Qty_on_Hand___Stock_' + i).text(proposedInv);\n    }\n  }\n\n  formatWos(wos) {\n    return wos > 0 ? Math.round(wos) : 0;\n  }\n\n  formatNumbers(i) {\n    return Math.round(i).toLocaleString();\n  }\n\n  startEdit(id: string): void {\n    this.editId = id;\n  }\n\n  stopEdit(): void {\n    this.editId = null;\n    this._wosCalculations();\n  }\n\n  getWeekOfSupplies() {\n    let qtyOnHand = [];\n    let obj = [];\n    let source = [\n      { 'Qty on Hand - Stock': [] },\n      { 'Outgoing - Cust Order': [] },\n      { 'Outgoing - Net Fcst': [] },\n      { 'Outgoing - Kit Comp + Kit Item + Transfer + Rework': [] },\n      { 'Proposed Outgoing': [] },\n      { 'Incoming - PO-Confd + PO Balance + PO-Not Confd': [] },\n      { 'Incoming - PO-Pland': [] },\n      { 'Incoming - Kit Comp + Kit Item + Transfer + Rework': [] },\n      { 'Proposed Incoming': [] },\n      { 'Total Inventory Units-Net': [] },\n      { 'Total Inventory $-Net': [] },\n      { 'Net WOS': [] },\n      { 'Proposed Total Inventory Units-Net': [] },\n      { 'Proposed WOS': [] },\n      { 'Target Inventory Units': [] },\n      { 'Target Inventory $': [] },\n      { 'Inventory vs Target': [] },\n      { 'Proposed Events - Blue Sky': [] },\n      { 'Proposed Events': [] },\n      { 'Net Forecast - Blue Sky': [] }\n    ];\n\n    /* Handle QTY ON HAND */\n    let _filteredQty = [];\n    let _qtySumming = [];\n    let _finalQtyOnHand = [];\n\n    (() => {\n      _.filter(this.rawData, (item) => {\n        if (item['source'] == 'Qty on Hand - Stock') {\n          _filteredQty.push(item);\n        } else { return; }\n      });\n\n      let _group = _.groupBy(_filteredQty, 'date');\n      for (let i in _group) {\n        _qtySumming.push(_.sumBy(_group[i], 'incoming units'));\n      }\n\n      _qtySumming.forEach((i) => {\n        _finalQtyOnHand.push({ source: 'Qty on Hand - Stock', 'incoming units': i, 'incoming $': 0 });\n      });\n    })();\n\n    source.forEach((item, i) => {\n      let _keys = Object.keys(item)[0];\n      qtyOnHand = [];\n      _.filter(this.rawData, (item) => {\n        if (item.source == _keys && item.source != 'Qty on Hand - Stock') {\n          qtyOnHand.push(item);\n        } else if (item['source'] == 'Qty on Hand - Stock') {\n        } else { return; }\n      });\n\n      if (_keys == 'Qty on Hand - Stock') {\n        qtyOnHand = _finalQtyOnHand;\n      }\n\n      /* Removing empty fields for Qty on Hands */\n      /* let filtrQtyOnHand = [];\n      _.filter(qtyOnHand, (i) => {\n        if (i.source == 'Qty on Hand - Stock') {\n          let _date = new Date(i.date).getMonth() + 1;\n          if (_date == i.month) {\n            filtrQtyOnHand.push(i);\n            qtyOnHand = filtrQtyOnHand;\n          }\n        } else {\n          return;\n        }\n      }); */\n\n      qtyOnHand = _.orderBy(qtyOnHand, 'date', 'asc');\n      console.log('_keys::', _keys, 'qtyOnHand::', qtyOnHand);\n\n      /* When Qty On Hand is Higher than expected */\n      /* if (qtyOnHand.length > this.filterMdl.month) {\n        qtyOnHand = _.uniqBy(qtyOnHand, 'date');\n      } */\n\n      if (qtyOnHand.length < this.filterMdl.month) {\n        let missed = this.distinctMonths.filter(dt => !qtyOnHand.find(fnd => dt == fnd.date));\n        console.log('missed:', missed);\n        let isQtyOnHnd = qtyOnHand.length > 0 ? qtyOnHand[0] : '-'\n        missed.forEach(dt => {\n          qtyOnHand.push({\n            'incoming $': 0,\n            'incoming units': 0,\n            'outgoing $': 0,\n            'outgoing units': 0,\n            'source': isQtyOnHnd['source'],\n            'whs': isQtyOnHnd['whs'],\n            'item': isQtyOnHnd['item'],\n            date: dt\n          })\n        });\n\n        qtyOnHand.sort(function compare(a, b) {\n          var dateA: any = new Date(a.date);\n          var dateB: any = new Date(b.date);\n          return (dateA - dateB);\n        });\n      }\n\n      let _previousInfo: any = 0;\n      let _currentInfo: any = 0;\n      qtyOnHand.forEach(item => {\n        _currentInfo = new Date(item.date).getMonth() + 1;\n        if (_.isNull(item['incoming units'])) {\n          item['incoming units'] = 0;\n        }\n        if (_.isNull(item['outgoing units'])) {\n          item['outgoing units'] = 0;\n        }\n\n        if (_currentInfo != _previousInfo) {\n          if (_keys.indexOf('Outgoing') != -1) {\n            this.constructUnits(source, item, i, _keys, 'outgoing units');\n          } else {\n            this.constructUnits(source, item, i, _keys, 'incoming units');\n          }\n        } else {\n          if (_keys.indexOf('Outgoing') != -1) {\n            this.sumAllWhs(source, item, i, _keys, 'outgoing units');\n          } else {\n            this.sumAllWhs(source, item, i, _keys, 'incoming units');\n          }\n        }\n        _previousInfo = new Date(item.date).getMonth() + 1;\n      });\n\n      qtyOnHand = [];\n      if (i == 0) {\n        obj.push({\n          masterItem: this.rawData[0]['masteritem'],\n          whs: this.rawData[0]['whs'],\n          source: [item]\n        });\n      } else {\n        obj.push({\n          source: [item]\n        });\n      }\n    });\n\n    this.wosArr = obj;\n    console.log('Final::', obj);\n\n    setTimeout(() => {\n      this._wosCalculations();;\n    }, 1000);\n  }\n\n  /* Function to push units in to source */\n  constructUnits(source, item, i, _keys, units) {\n    source[i][_keys].push({\n      units: item[units],\n      whs: item['whs'],\n      date: item['date']\n    });\n  }\n\n  /* Function to sum all units in Warehouses */\n  sumAllWhs(source, item, i, _keys, units) {\n    source[i][_keys].find((obj) => {\n      if (obj.date == item['date']) {\n        obj['units'] += item[units];\n      }\n    });\n  }\n\n  getItemFromDataset(param) {\n    this.isLoading = true;\n    this.handleMultiselect(param);\n    let query = this.handleQuery();\n\n    domo.get(`/data/v1/wos?${query}`).then(data => {\n      this.isLoading = false;\n      this.distinctMonths = _.uniq(_.map(data, 'date'));\n      this.rawData = data;\n      param == 'GO' && this.toggleFilter();\n      this.getWeekOfSupplies();\n      setTimeout(() => {\n        this.calculateNetWos();\n      }, 2000);\n    }).catch(e => {\n      this.isLoading = false;\n      console.log('e::', e);\n    });\n  }\n\n  handleQuery() {\n    /* Handle Query */\n    let { month, masterItem } = this.filterMdl;\n    let query = '';\n    let currentDate = moment().startOf('month').format('MM/DD/YYYY');\n    let tillDate = moment().add(month - 1, 'months').startOf('month').format('MM/DD/YYYY');\n    if (this.WHSQry == '') {\n      query = `filter=masteritem=${masterItem}, date >= ${currentDate}, date < ${tillDate}, scenario = Actuals&orderby=date ascending`;\n    } else {\n      query = `filter=masteritem=${masterItem}, whs in [${this.WHSQry}], date >= ${currentDate}, date < ${tillDate}, scenario = Actuals&orderby=date ascending`;\n    }\n    return query;\n  }\n\n  toggleFilter() {\n    $('.filter').toggleClass('show-slider');\n  }\n\n  formatDate(date) {\n    return moment(date).format('MM/DD/YYYY');\n  }\n\n  roundupValues(val) {\n    return Math.round(val);\n  }\n\n  filterWareHouse() {\n    this.disableWHS = false;\n    let _whsList = [];\n    _.filter(this.listItems_WHS, (item) => {\n      if (item[0] == this.filterMdl.sku) {\n        _whsList.push(item);\n      } else {\n        return;\n      }\n    });\n\n    _whsList = _whsList.map(i => i[1]);\n    this.whsList = _whsList;\n  }\n\n  getMasterItem() {\n    domo.post('/sql/v1/wos', 'SELECT DISTINCT masteritem FROM wos WHERE masteritem IS NOT NULL ORDER BY masteritem', { contentType: 'text/plain' })\n      .then((data) => {\n        this.masterItemList = data['rows'].map(i => i[0]);\n        this.filteredSku = this.masterItemList;\n\n        if (this.filteredSku.length > 0) {\n          this.isMasterItemLoading = false;\n        }\n      }).catch(e => {\n        console.log('error::', e);\n      });\n  }\n\n  getWHS(item, bool) {\n    /* if (this.ItemMdl.length == 0 && !bool) {\n      return this.message('Item Not Selected !', 'Please select an item to get related warehouses', 'info');\n    } */\n    this.isWHSLoading = true;\n    this.disableWHS = true;\n    this.filterMdl.whs = '';\n\n    this.whsList = [];\n    this.WHSMdl = [];\n    let query = \"SELECT DISTINCT whs FROM wos WHERE masteritem='\" + this.filterMdl.masterItem + \"' ORDER BY whs\";\n\n    domo.post('/sql/v1/wos', query, { contentType: 'text/plain' })\n      .then((data) => {\n        this.listItems_WHS = data['rows'];\n        data['rows'].map(i => {\n          this.whsList.push({ label: i[0], value: i[0] })\n        });\n\n        if (this.whsList.length > 0) {\n          this.isWHSLoading = false;\n          this.disableWHS = false;\n          /* setTimeout(() => {\n            if (!bool) {\n              $('#warehouseEl .ant-select-selector').click();\n            }\n          }, 1000); */\n        }\n\n        if (bool) {\n          /* To show WHS in table row */\n          this.selectedWHS = data['rows'].map(i => i[0]);\n          //this.selectedWHS = this.selectedWHS.toString().replace(/,/g, ', ');\n        }\n\n      }).catch(e => {\n        console.log('error::', e);\n      });\n  }\n\n  handleItemForSQLQuery(item) {\n    let _item = [];\n    item.forEach(el => {\n      _item.push(`'${el}'`);\n    });\n    return _item;\n  }\n\n  handleItem() {\n    this.WHSFlag = 0;\n  }\n\n  allowNumerics(event, proposed, value) {\n    let allowedKeys = [45, 43, 107, 109];\n\n    if (proposed == 'OG') {\n      return (event.charCode == 8 || event.charCode == 0) ? null : (event.charCode >= 48 && event.charCode <= 57) || (event.charCode == 37 || allowedKeys.includes(event.charCode));\n    } else {\n      return (event.charCode == 8 || event.charCode == 0) ? null : (event.charCode >= 48 && event.charCode <= 57) || (allowedKeys.includes(event.charCode));\n    }\n  }\n\n  SQLQuery() {\n    /* \n      \"SELECT *, (SELECT SUM('incoming units'),SUM('outgoing units'),SUM('incoming $'),SUM('outgoing $') FROM wos) FROM wos WHERE item='\" + sku + \"' AND date BETWEEN '2020-10-01T00:00:00' AND '2020-11-01T00:00:00' GROUP BY masteritem,date,source ORDER BY whs\"\n    */\n  }\n\n  handleMultiselect(param) {\n    /* Set Selected WHS */\n    this.selectedWHS = this.WHSMdl//.toString().replace(/,/g, ', ');\n    // /this.selectedItem = this.ItemMdl;\n\n    /* Set whs on GO button click */\n    if (param == 'GO') {\n      this.WHSQry = this.selectedWHS;\n      // /this.ItemQry = this.selectedItem;\n\n      if (this.selectedWHS.length == 0) {\n        this.selectedWHS = this.listItems_WHS.map(i => i);\n      }\n      /* //if (this.selectedItem.length == 0) {\n        this.selectedItem = this.listItems_Items.map(i => i);\n      } */\n    }\n  }\n\n  message(title, msg, type) {\n    this._notify.create(\n      type,\n      title,\n      msg\n    );\n  }\n\n  downloadExcel() {\n    let xlObj = {\n      _dates: this.distinctMonths.map(i => moment(i).format('MM/DD/YYYY')),\n      netUnits: this.getNetUnits(),\n      rawData: this.constructRawData(),\n      whs: this.selectedWHS,\n      sheetName: 'WOS - Master Item Level Aggregation',\n      type: { header: 'Master Item', key: 'masterItem' }\n    };\n    this._toXl.toExcel(xlObj);\n  }\n\n  getNetUnits() {\n    let _units = [];\n    for (let i = 0; i < 20; i++) {\n      _units.push($('#netUnits_' + i).text());\n    }\n    return _units;\n  }\n\n  constructRawData() {\n    let _rawData = _.cloneDeep(this.wosArr);\n    let _size = this.distinctMonths.length;\n    let _pWOS = [];\n    let _pNet = [];\n    let _netWos = [];\n\n    for (let i = 0; i < _size; i++) {\n      _pWOS.push({\n        units: $('#Proposed_WOS_' + i).text().replace(/,/g, '')\n      });\n\n      _pNet.push({\n        units: $('#Proposed_Total_Inventory_Units_Net_' + i).text().replace(/,/g, '')\n      });\n\n      _netWos.push({\n        units: $('#Net_WOS_' + i).text()\n      });\n    }\n\n    _.filter(_rawData, (el) => {\n      if (Object.keys(el.source[0])[0] == 'Proposed WOS') {\n        el.source = [{\n          'Proposed WOS': _pWOS\n        }];\n      } else if (Object.keys(el.source[0])[0] == 'Proposed Total Inventory Units-Net') {\n        el.source = [{\n          'Proposed Total Inventory Units-Net\t': _pNet\n        }];\n      } else if (Object.keys(el.source[0])[0] == 'Net WOS') {\n        el.source = [{\n          'Net WOS\t': _netWos\n        }];\n      }\n    });\n\n    return _rawData;\n  }\n\n  calculateNetWos() {\n    let _pWOS = [];\n    for (let i = 0; i < this.distinctMonths.length; i++) {\n      let pWOS = $('#Proposed_WOS_' + i).text();\n      _pWOS.push(parseInt(pWOS));\n      $('#Net_WOS_' + i).text(pWOS);\n    }\n\n    /* NetWos Summing logic for Net Units Total */\n    let total = _pWOS.reduce((a, b) => a + b, 0).toLocaleString();\n    $('#netUnits_11').text(total);\n  }\n}\n","<div class=\"wos\">\n  <div class=\"table-wrapper\">\n    <nz-table #colSpanTable [nzData]=\"wosArr\" nzBordered nzSize=\"small\" [nzShowPagination]=\"false\"\n      [nzNoResult]=\"'No data to display'\" [nzLoading]=\"isLoading\">\n      <thead>\n        <tr>\n          <th rowspan=\"2\">Master Item</th>\n          <!-- <th rowspan=\"2\">Item</th> -->\n          <th rowspan=\"2\">Warehouse</th>\n          <th rowspan=\"2\">Source</th>\n          <th [colspan]=\"distinctMonths.length\" *ngIf=\"distinctMonths.length >0\">Net Units</th>\n          <th [colspan]=\"3\" *ngIf=\"distinctMonths.length ==0\">Net Units</th>\n          <th rowspan=\"2\">Net Units Total</th>\n        </tr>\n\n        <tr>\n          <th *ngIf=\"distinctMonths.length ==0\">01/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">02/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">03/01/2000</th>\n          <th *ngFor=\"let _months of distinctMonths\">{{formatDate(_months)}}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr *ngFor=\"let item of wosArr;let xIndex = index;\">\n          <ng-container [ngSwitch]=\"xIndex\">\n            <ng-container *ngSwitchCase=\"0\">\n              <td rowspan=\"20\" class=\"item-whs\">{{item.masterItem}}</td>\n              <!-- <td rowspan=\"20\" class=\"item-whs\">\n                <div class=\"warehouse\">\n                  <ul>\n                    <li *ngFor=\"let item of selectedItem\">{{item}}</li>\n                  </ul>\n                </div>\n              </td> -->\n              <td rowspan=\"20\" class=\"item-whs\">\n                <div class=\"warehouse\">\n                  <ul>\n                    <li *ngFor=\"let whs of selectedWHS\">{{whs}}</li>\n                  </ul>\n                </div>\n              </td>\n            </ng-container>\n          </ng-container>\n\n          <ng-container *ngFor=\"let source of item.source | keyvalue\">\n            <td class=\"source\">{{getSourceKey(source.value)}}</td>\n            <ng-container [ngSwitch]=\"getSourceKey(source.value)\">\n              <ng-container *ngSwitchCase=\"'Proposed Outgoing'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"td-ougoing\" (click)=\"oProposed.focus()\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value))\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #oProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\"\n                    (keypress)=\"allowNumerics($event,'OG',oProposed.value)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Incoming'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" (click)=\"iProposed.focus()\"\n                  [id]=\"setID(i, source.value)\" class=\"td-incoming\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value));\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #iProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\"\n                    (keypress)=\"allowNumerics($event,'IC',iProposed.value)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Total Inventory Units-Net'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">-</td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Total Inventory $-Net'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">\n                  $ {{sD.units | number: '1.0-0'}}\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchDefault>\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">\n                  {{sD.units | number: '1.0-0'}}\n                </td>\n              </ng-container>\n            </ng-container>\n            <td [id]=\"'netUnits_'+xIndex\" class=\"all-units\">{{sumSourceItems(source.value)}}</td>\n          </ng-container>\n        </tr>\n      </tbody>\n    </nz-table>\n  </div>\n\n  <section class=\"filter\">\n    <div class=\"slider\" (click)=\"toggleFilter()\">\n      <i nz-icon nzType=\"filter\" nzTheme=\"outline\"></i>\n    </div>\n\n    <div class=\"switch-app\">\n      <button nz-button nz-popover nzPopoverTitle=\"Switch WOS App\" [(nzPopoverVisible)]=\"wosVisible\"\n        nzPopoverTrigger=\"click\" [nzPopoverContent]=\"wosSwitcher\">\n        <i nz-icon nzType=\"menu-fold\" nzTheme=\"outline\"></i>\n      </button>\n      <ng-template #wosSwitcher>\n        <div routerLink=\"/warehouse-aggregation\" class=\"switcher\">WOS - Item Level</div>\n        <div routerLink=\"/master-item-aggregation\" class=\"switcher\">WOS - Master Item Level</div>\n        <div routerLink=\"/sub-category-aggregation\" class=\"switcher\">WOS - Sub Category Level</div>\n        <nz-divider></nz-divider>\n        <div class=\"switcher\" (click)=\"downloadExcel()\">Export To Excel</div>\n      </ng-template>\n    </div>\n\n    <div class=\"container-el\">\n      <form nz-form #filterForm=\"ngForm\">\n\n        <div class=\"sku-flex\">\n          <div class=\"input-el category\">\n            <label for=\"\">Master Item</label>\n            <nz-select name=\"masterItem\" nzShowSearch nzAllowClear [(ngModel)]=\"filterMdl.masterItem\"\n              (ngModelChange)=\"getWHS(filterMdl.masterItem, false)\" [nzLoading]=\"isMasterItemLoading\"\n              [nzDisabled]=\"isMasterItemLoading\" required>\n              <nz-option *ngFor=\"let category of masterItemList\" [nzLabel]=\"category\" [nzValue]=\"category\"></nz-option>\n            </nz-select>\n          </div>\n\n          <div class=\"input-el month\">\n            <label for=\"\">Month</label>\n            <nz-select name=\"month\" nzShowSearch nzAllowClear nzPlaceHolder=\"\" [(ngModel)]=\"filterMdl.month\" required>\n              <nz-option *ngFor=\"let m of month\" [nzLabel]=\"m\" [nzValue]=\"m\"></nz-option>\n            </nz-select>\n          </div>\n        </div>\n\n        <!-- <div class=\"sku-flex\">\n          <div class=\"input-el item\">\n            <label for=\"\">Item</label>\n            <nz-select nzShowSearch nzAllowClear name=\"itemMdl\" [(ngModel)]=\"ItemMdl\" nzMode=\"tags\"\n              [nzDisabled]=\"disableItem\" (nzFocus)=\"handleItem()\">\n              <nz-option *ngFor=\"let item of skuList\" [nzLabel]=\"item.label\" [nzValue]=\"item.value\"></nz-option>\n            </nz-select>\n\n            <div class=\"loader\" *ngIf=\"isSkuLoading\">\n              <ng-template #loader><i nz-icon nzType=\"loading\"></i></ng-template>\n              <nz-spin nzSimple [nzIndicator]=\"loader\"> </nz-spin>\n            </div>\n          </div>\n        </div> -->\n\n        <div class=\"sku-flex\">\n          <div class=\"input-el warehouse\">\n            <label for=\"\" class=\"warehouse-label\">Warehouse\n              <i nz-icon nzType=\"info-circle\" nzTheme=\"outline\" nz-tooltip\n                nzTooltipTitle=\"Hint: Leave warehouse selection empty to aggregate all warehouses\"></i>\n            </label>\n            <nz-select #warehouseEl id=\"warehouseEl\" nzShowSearch nzAllowClear name=\"whsMdl\" [(ngModel)]=\"WHSMdl\"\n              nzMode=\"tags\" [nzDisabled]=\"disableWHS\">\n              <nz-option *ngFor=\"let whs of whsList\" [nzLabel]=\"whs.label\" [nzValue]=\"whs.value\"></nz-option>\n            </nz-select>\n\n            <div class=\"loader\" *ngIf=\"isWHSLoading\">\n              <ng-template #loader><i nz-icon nzType=\"loading\"></i></ng-template>\n              <nz-spin nzSimple [nzIndicator]=\"loader\"> </nz-spin>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"input-el btn\">\n          <button nz-button nzType=\"primary\" nzDanger [disabled]=\"!filterForm.valid || isWHSLoading\"\n            (click)=\"getItemFromDataset('GO')\">Go</button>\n        </div>\n      </form>\n    </div>\n  </section>\n</div>\n<!-- <pre>{{rawData | json}}</pre> -->","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport * as _ from 'lodash';\nimport * as moment from 'moment';\nimport { ExcelExportComponent } from '../excel-export/excel-export.component';\n\ndeclare var $: any;\ndeclare var domo: any;\n\n@Component({\n  selector: 'app-wos-warehouse',\n  templateUrl: './wos-warehouse.component.html',\n  styleUrls: ['./wos-warehouse.component.scss']\n})\nexport class WosWarehouseComponent implements OnInit {\n\n  rawData = [];\n  editId: string | null = null;\n  wosArr = [];\n  listItems;\n  filteredSku: string[] = [];\n  skuList = [];\n  filteredWhs: string[] = [];\n  whsList: Array<{ label: string; value: string }> = [];\n  month = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\n  distinctMonths = [];\n  filterMdl = {\n    //sku: '1145FC',\n    sku: 'AG300',\n    whs: 'EP1ACC',\n    month: 3\n  };\n\n  WHSMdl = [];\n  WHSQry = '';\n  selectedWHS: any = [];\n\n  /* Loader Variable */\n  isSkuLoading = true;\n  isWHSLoading = true;\n  disableWHS = true;\n  isLoading = true;\n  wosVisible = false;\n\n  constructor(\n    private _toXl: ExcelExportComponent\n  ) {\n    this.filteredSku = this.skuList;\n  }\n\n  ngOnInit(): void {\n    //this.getWeekOfSupplies();\n    this.getSKU();\n    this.getItemFromDataset('onInit');\n    this.getWHS(this.filterMdl.sku, true);\n  }\n\n  getSourceKey(item) {\n    return Object.keys(item);\n  }\n\n  readSourceItems(item) {\n    let keyItems = Object.keys(item);\n    return item[keyItems[0]];\n  }\n\n  sumSourceItems(item) {\n    let keyItems = Object.keys(item);\n    keyItems = item[keyItems[0]];\n    let units = keyItems.map(i => {\n      return i['units'] == '' ? 0 : parseInt(i['units'])\n    });\n    return units.reduce((a, b) => a + b, 0).toLocaleString();\n  }\n\n  setID(i, item) {\n    return `${Object.keys(item)[0]\n      .replace(/[^\\w]/gi, '_')\n      }_${i}`;\n  }\n\n  _wosCalculations() {\n    for (let i = 0; i < this.distinctMonths.length; i++) {\n      let proposedO = this.proposedCalc(i, 'outgoing');\n      let proposedI = this.proposedCalc(i, 'incoming');\n      let outgoing = proposedO == '' ? 0 : parseInt(proposedO);\n      let incoming = proposedI == '' ? 0 : parseInt(proposedI);\n      \n      let _outgoingSum = parseInt($('#Outgoing___Cust_Order_' + i).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + i).text().replace(/,/g, '')) + (outgoing);\n      let _incomingSum = parseInt($('#Incoming___PO_Confd___PO_Balance___PO_Not_Confd_' + i).text().replace(/,/g, '')) + parseInt($('#Incoming___PO_Pland_' + i).text().replace(/,/g, '')) + parseInt($('#Incoming___Kit_Comp___Kit_Item___Transfer___Rework_' + i).text().replace(/,/g, '')) + parseInt($('#Qty_on_Hand___Stock_' + i).text().replace(/,/g, '')) + (incoming);\n\n      var sum = _incomingSum - _outgoingSum;\n      $('#Proposed_Total_Inventory_Units_Net_' + i).text(sum.toLocaleString());\n\n      this.calcQtyOnHand();\n      this.wosCalc_(i);\n    }\n  }\n\n  wosCalc_(i) {\n    let _mnthStock = parseInt($('#Proposed_Total_Inventory_Units_Net_' + i).text().replace(/,/g, ''));\n    let _pOutgoing = this.proposedCalc(i + 1, 'outgoing');\n\n    let _outgoingSum = parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')) + (_pOutgoing);\n    let _wos = 0;\n    let _stockBlnc = 0;\n    let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n    let _totlMnths = this.distinctMonths.length;\n\n    console.log('___________LOOP__________:', i);\n    console.log('mnthStock:', _mnthStock, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + (i + 1)).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + (i + 1)).text().replace(/,/g, '')), _pOutgoing, 'Outgoings Sum:', _outgoingSum, '_pOutgoing:', _pOutgoing, '_days:', _days, 'month:', this.distinctMonths[i + 1]);\n\n\n    /* If no stock in hand then calculate WOS */\n    if (_mnthStock == 0 || _mnthStock < 0) {\n      _wos = 0;\n      $('#Proposed_WOS_' + i).text(this.formatWos(_wos))\n      console.log('---I don\\'t have stock in my hand---');\n      return;\n    }\n    /* Check whether you can serve next month */\n\n    if (_mnthStock >= _outgoingSum) {\n      console.log('------I can serve------');\n      _wos = _days / 7;\n      _stockBlnc = _mnthStock - _outgoingSum;\n\n      /* Check if Outgoing for next month is negative */\n      if (Math.sign(_outgoingSum) == -1) {\n        _stockBlnc = _mnthStock;\n      }\n\n      console.log('_wos:', _wos, '_stockBlnc:', _stockBlnc);\n\n      /* Check whether the outgoings are 0 */\n      if (_outgoingSum == 0) {\n        _wos = 0;\n        console.log('---Next month Outgoings is 0---');\n      }\n\n      /* Calculations for End of Months */\n      if (_.isUndefined(this.distinctMonths[i + 2])) {\n        console.log('---There are no future months for end of year---');\n        $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n      }\n\n      //Next to next month calculations\n      for (let j = (i + 2); j < _totlMnths; j++) {\n        let _pOutgoing = this.proposedCalc(j, 'outgoing');\n        let level2_outgoings = parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')) + parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')) + (_pOutgoing);\n\n        console.log('level2_month:', this.distinctMonths[j], 'level2_outgoings:', level2_outgoings, 'Outgoings:', parseInt($('#Outgoing___Cust_Order_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Net_Fcst_' + j).text().replace(/,/g, '')), parseInt($('#Outgoing___Kit_Comp___Kit_Item___Transfer___Rework_' + j).text().replace(/,/g, '')), _pOutgoing);\n\n        /* Check whether the outgoings are 0 */\n        if (level2_outgoings == 0 && _wos == 0) {\n          _wos = 0;\n          console.log('---level2 months Outgoings are 0---');\n          continue;\n        }\n\n        if (_stockBlnc > level2_outgoings && level2_outgoings != 0) {\n          console.log('---------Yes I can serve next to next month---------');\n          _days = moment(this.distinctMonths[j]).daysInMonth();\n          _wos += _days / 7;\n          _stockBlnc = _stockBlnc - level2_outgoings;\n\n          console.log('level2_wos:', _wos, 'level2_stockBlnc:', _stockBlnc, 'level2_days', _days, 'month:', this.distinctMonths[j]);\n\n          console.log('level2----- I complete serving the month------', this.distinctMonths[j]);\n\n          /* If there are no other months to solve */\n          if (j == this.distinctMonths.length - 1) {\n            console.log('level2 end-----no more months available to serve----- ');\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n          } else {\n            $('#Proposed_WOS_' + i).removeClass('no-more-months');\n          }\n\n          continue;\n        } else {\n          console.log('---------No I can\\'t serve further---------');\n\n          /* Check if outgoings are 0 */\n          if (level2_outgoings == 0) {\n            //_wos += _wos;\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos));\n            console.log('---level2 outgoings are 0---', '_wos::', _wos);\n            continue;\n          }\n\n          /* If stock balance is 0 then end loop and calculate Wos */\n          if (_stockBlnc == 0) {\n            $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n            return;\n          }\n\n          _days = moment(this.distinctMonths[j]).daysInMonth();\n          let _stockRqdPerDay = level2_outgoings / _days;\n          let _canServeFor = _stockBlnc / _stockRqdPerDay;\n          _wos += _canServeFor / 7;\n          $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n          console.log('level2_days::', _days, '_canServeFor::', _canServeFor, '_wos:', _wos);\n          return;\n        }\n      }\n    } else {\n      console.log('---------I fell short for the first month---------');\n      let _days = moment(this.distinctMonths[i + 1]).daysInMonth();\n      let _requirement = _outgoingSum / _days;\n      let _canServe = _mnthStock / _requirement;\n      _wos = _canServe / 7;\n      $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).removeClass('no-more-months');\n      console.log('_days:', _days, '_requirement per day:', _requirement, '_canServe:', _canServe, '_wos:', _wos);\n\n      /* Calculation for End of months */\n      if (_.isNaN(_wos)) {\n        $('#Proposed_WOS_' + i).text(this.formatWos(_wos)).addClass('no-more-months');\n      }\n      console.log('----------Fell Short Done----------------');\n    }\n  }\n\n  poInPercent(value, i) {\n    if (value && value.indexOf('%') > -1) {\n      value = value == '' ? 0 : parseInt(value);\n      let _forecast = parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, ''));\n      let _og = (value / 100) * _forecast;\n      return _og;\n    } else {\n      return parseInt(value);\n    }\n  }\n\n  proposedCalc(i, type) {\n    let propO = $('#Proposed_Outgoing_' + i + ' input').val();\n    let propI = $('#Proposed_Incoming_' + i + ' input').val();\n    switch (type) {\n      case 'outgoing':\n        let _forecast = parseInt($('#Outgoing___Net_Fcst_' + i).text().replace(/,/g, ''));\n        if (propO) {\n          if ((propO.includes('%') && (propO.includes('-') || propO.includes('+'))) || propO.includes('%')) {\n            propO = propO == '' ? 0 : parseInt(propO);\n            return (propO / 100) * _forecast;\n          } else if (propO.includes('-') || propO.includes('+')) {\n            propO = propO == '' ? 0 : parseInt(propO);\n            return propO;\n          } else {\n            return parseInt(propO);\n          }\n        } else {\n          return parseInt(propO);\n        }\n      case 'incoming':\n        if (propI) {\n          if (propI.includes('-') || propI.includes('+')) {\n            propI = propI == '' ? 0 : parseInt(propI);\n            return propI;\n          } else {\n            return parseInt(propI);\n          }\n        } else {\n          return parseInt(propI);\n        }\n    }\n  }\n\n  /**\n   * @Description Function to handle New Qty On Hand Upon Proposed IO changes \n   */\n  calcQtyOnHand() {\n    let totlMnths = this.distinctMonths.length;\n    let proposedInv = '';\n    for (let i = 1; i < totlMnths; i++) {\n      proposedInv = $('#Proposed_Total_Inventory_Units_Net_' + (i - 1)).text();\n      $('#Qty_on_Hand___Stock_' + i).text(proposedInv);\n    }\n  }\n\n  formatWos(wos) {\n    return wos > 0 ? Math.round(wos) : 0;\n  }\n\n  formatNumbers(i) {\n    return Math.round(i).toLocaleString();\n  }\n\n  startEdit(id: string): void {\n    this.editId = id;\n  }\n\n  stopEdit(): void {\n    this.editId = null;\n    this._wosCalculations();\n  }\n\n  getWeekOfSupplies() {\n    let qtyOnHand = [];\n    let obj = [];\n    let source = [\n      { 'Qty on Hand - Stock': [] },\n      { 'Outgoing - Cust Order': [] },\n      { 'Outgoing - Net Fcst': [] },\n      { 'Outgoing - Kit Comp + Kit Item + Transfer + Rework': [] },\n      { 'Proposed Outgoing': [] },\n      { 'Incoming - PO-Confd + PO Balance + PO-Not Confd': [] },\n      { 'Incoming - PO-Pland': [] },\n      { 'Incoming - Kit Comp + Kit Item + Transfer + Rework': [] },\n      { 'Proposed Incoming': [] },\n      { 'Total Inventory Units-Net': [] },\n      { 'Total Inventory $-Net': [] },\n      { 'Net WOS': [] },\n      { 'Proposed Total Inventory Units-Net': [] },\n      { 'Proposed WOS': [] },\n      { 'Target Inventory Units': [] },\n      { 'Target Inventory $': [] },\n      { 'Inventory vs Target': [] },\n      { 'Proposed Events - Blue Sky': [] },\n      { 'Proposed Events': [] },\n      { 'Net Forecast - Blue Sky': [] }\n    ];\n\n    /* Handle QTY ON HAND */\n    let _filteredQty = [];\n    let _qtySumming = [];\n    let _finalQtyOnHand = [];\n\n    (() => {\n      _.filter(this.rawData, (item) => {\n        if (item['source'] == 'Qty on Hand - Stock') {\n          _filteredQty.push(item);\n        } else { return; }\n      });\n\n      let _group = _.groupBy(_filteredQty, 'date');\n      for (let i in _group) {\n        _qtySumming.push(_.sumBy(_group[i], 'incoming units'));\n      }\n\n      _qtySumming.forEach((i) => {\n        _finalQtyOnHand.push({ source: 'Qty on Hand - Stock', 'incoming units': i, 'incoming $': 0 });\n      });\n    })();\n\n    source.forEach((item, i) => {\n      let _keys = Object.keys(item)[0];\n      qtyOnHand = [];\n      _.filter(this.rawData, (item) => {\n        if (item.source == _keys && item.source != 'Qty on Hand - Stock') {\n          qtyOnHand.push(item);\n        } else if (item['source'] == 'Qty on Hand - Stock') {\n        } else { return; }\n      });\n\n      if (_keys == 'Qty on Hand - Stock') {\n        qtyOnHand = _finalQtyOnHand;\n      }\n\n      /* Removing empty fields for Qty on Hands */\n      /* let filtrQtyOnHand = [];\n      _.filter(qtyOnHand, (i) => {\n        if (i.source == 'Qty on Hand - Stock') {\n          let _date = new Date(i.date).getMonth() + 1;\n          if (_date == i.month) {\n            filtrQtyOnHand.push(i);\n            qtyOnHand = filtrQtyOnHand;\n          }          \n        } else {\n          return;\n        }\n      }); */\n\n      qtyOnHand = _.orderBy(qtyOnHand, 'whs', 'asc');\n      console.log('_keys::', _keys, 'qtyOnHand::', qtyOnHand);\n\n      /* When Qty On Hand is Higher than expected */\n      /* if (qtyOnHand.length > this.filterMdl.month) {\n        qtyOnHand = _.uniqBy(qtyOnHand, 'date');\n      } */\n\n      if (qtyOnHand.length < this.filterMdl.month) {\n        let missed = this.distinctMonths.filter(dt => !qtyOnHand.find(fnd => dt == fnd.date));\n        console.log('missed:', missed);\n        let isQtyOnHnd = qtyOnHand.length > 0 ? qtyOnHand[0] : '-'\n        missed.forEach(dt => {\n          qtyOnHand.push({\n            'incoming $': 0,\n            'incoming units': 0,\n            'outgoing $': 0,\n            'outgoing units': 0,\n            'source': isQtyOnHnd['source'],\n            'whs': isQtyOnHnd['whs'],\n            'item': isQtyOnHnd['item'],\n            date: dt\n          })\n        });\n\n        qtyOnHand.sort(function compare(a, b) {\n          var dateA: any = new Date(a.date);\n          var dateB: any = new Date(b.date);\n          return (dateA - dateB);\n        });\n      }\n\n      qtyOnHand.forEach(item => {\n        if (_.isNull(item['incoming units'])) {\n          item['incoming units'] = 0;\n        }\n        if (_.isNull(item['outgoing units'])) {\n          item['outgoing units'] = 0;\n        }\n\n        if (source[i][_keys].length < this.distinctMonths.length) {\n          if (_keys.indexOf('Outgoing') != -1) {\n            this.constructUnits(source, item, i, _keys, 'outgoing units');\n          } else {\n            this.constructUnits(source, item, i, _keys, 'incoming units');\n          }\n        } else {\n          if (_keys.indexOf('Outgoing') != -1) {\n            this.sumAllWhs(source, item, i, _keys, 'outgoing units');\n          } else {\n            this.sumAllWhs(source, item, i, _keys, 'incoming units');\n          }\n        }\n      });\n\n      qtyOnHand = [];\n      if (i == 0) {\n        obj.push({\n          item: this.rawData[0]['item'],\n          whs: this.selectedWHS,\n          source: [item]\n        });\n      } else {\n        obj.push({\n          source: [item]\n        });\n      }\n    });\n\n    this.wosArr = obj;\n    console.log('Final::', obj);\n\n    setTimeout(() => {\n      this._wosCalculations();;\n    }, 1000);\n  }\n\n  /* Function to push units in to source */\n  constructUnits(source, item, i, _keys, units) {\n    source[i][_keys].push({\n      units: item[units],\n      whs: item['whs'],\n      date: item['date']\n    });\n  }\n\n  /* Function to sum all units in Warehouses */\n  sumAllWhs(source, item, i, _keys, units) {\n    source[i][_keys].find((obj) => {\n      if (obj.date == item['date']) {\n        obj['units'] += item[units];\n      }\n    });\n  }\n\n  getItemFromDataset(param) {\n    let { sku, month } = this.filterMdl;\n    this.isLoading = true;\n\n    this.handleWHSList(param);\n\n    let currentDate = moment().startOf('month').format('MM/DD/YYYY');\n    let tillDate = moment().add(month - 1, 'months').startOf('month').format('MM/DD/YYYY');\n    let query = this.WHSQry == '' ? `filter=item = ${sku}, date >= ${currentDate}, date < ${tillDate}, scenario = Actuals&orderby=date ascending` : `filter=item=${sku}, whs in [${this.WHSQry}], date >= ${currentDate}, date < ${tillDate}, scenario = Actuals&orderby=date ascending`;\n\n    domo.get(`/data/v1/wos?${query}`).then(data => {\n      this.isLoading = false;\n      this.distinctMonths = _.uniq(_.map(data, 'date'));\n      this.rawData = data;\n      param == 'GO' && this.toggleFilter();\n      this.getWeekOfSupplies();\n      setTimeout(() => {\n        this.calculateNetWos();\n      }, 2000);\n    }).catch(e => { this.isLoading = false; });\n  }\n\n  toggleFilter() {\n    $('.filter').toggleClass('show-slider');\n  }\n\n  formatDate(date) {\n    return moment(date).format('MM/DD/YYYY');\n  }\n\n  roundupValues(val) {\n    return Math.round(val);\n  }\n\n  filterWareHouse() {\n    this.disableWHS = false;\n    let _whsList = [];\n    _.filter(this.listItems, (item) => {\n      if (item[0] == this.filterMdl.sku) {\n        _whsList.push(item);\n      } else {\n        return;\n      }\n    });\n\n    _whsList = _whsList.map(i => i[1]);\n    this.whsList = _whsList;\n  }\n\n  getSKU() {\n    domo.post('/sql/v1/wos', 'SELECT DISTINCT item FROM wos ORDER BY item', { contentType: 'text/plain' })\n      .then((data) => {\n        //this.listItems = data['rows'];\n        this.skuList = data['rows'].map(i => i[0]);\n        this.filteredSku = this.skuList;\n\n        if (this.filteredSku.length > 0) {\n          this.isSkuLoading = false;\n        }\n      }).catch(e => {\n        console.log('error::', e);\n      });\n  }\n\n  getWHS(item, bool) {\n    this.isWHSLoading = true;\n    this.disableWHS = true;\n    this.filterMdl.whs = '';\n\n    this.whsList = [];\n    this.WHSMdl = [];\n    domo.post('/sql/v1/wos', \"SELECT DISTINCT whs FROM wos WHERE item='\" + item + \"' ORDER BY whs\", { contentType: 'text/plain' })\n      .then((data) => {\n        this.listItems = data['rows'];\n        data['rows'].map(i => {\n          this.whsList.push({ label: i[0], value: i[0] })\n        });\n\n        if (this.whsList.length > 0) {\n          this.isWHSLoading = false;\n          this.disableWHS = false;\n        }\n\n        if (bool) {\n          /* To show WHS in table row */\n          this.selectedWHS = data['rows'].map(i => i[0]);\n          //this.selectedWHS = this.selectedWHS.toString().replace(/,/g, ', ');\n        }\n\n      }).catch(e => {\n        console.log('error::', e);\n      });\n  }\n\n  allowNumerics(event, proposed, value) {\n    let allowedKeys = [45, 43, 107, 109];\n\n    if (proposed == 'OG') {\n      return (event.charCode == 8 || event.charCode == 0) ? null : (event.charCode >= 48 && event.charCode <= 57) || (event.charCode == 37 || allowedKeys.includes(event.charCode));\n    } else {\n      return (event.charCode == 8 || event.charCode == 0) ? null : (event.charCode >= 48 && event.charCode <= 57) || (allowedKeys.includes(event.charCode));\n    }\n  }\n\n  SQLQuery() {\n    /* \n      \"SELECT *, (SELECT SUM('incoming units'),SUM('outgoing units'),SUM('incoming $'),SUM('outgoing $') FROM wos) FROM wos WHERE item='\" + sku + \"' AND date BETWEEN '2020-10-01T00:00:00' AND '2020-11-01T00:00:00' GROUP BY masteritem,date,source ORDER BY whs\"\n    */\n  }\n\n  handleWHSList(param) {\n    /* Set Selected WHS */\n    this.selectedWHS = this.WHSMdl//.toString().replace(/,/g, ', ');\n\n    /* Set whs on GO button click */\n    if (param == 'GO') {\n      this.WHSQry = this.selectedWHS;\n\n      if (this.selectedWHS.length == 0) {\n        this.selectedWHS = this.listItems.map(i => i);\n        //this.selectedWHS = this.selectedWHS.toString().replace(/,/g, ', ');\n      }\n    }\n  }\n\n  downloadExcel() {\n    let xlObj = {\n      _dates: this.distinctMonths.map(i => moment(i).format('MM/DD/YYYY')),\n      netUnits: this.getNetUnits(),\n      rawData: this.constructRawData(),\n      whs: this.selectedWHS,\n      sheetName: 'WOS - Item Level Aggregation',\n      type: { header: 'Item', key: 'item' }\n    };\n    this._toXl.toExcel(xlObj);\n  }\n\n  getNetUnits() {\n    let _units = [];\n    for (let i = 0; i < 20; i++) {\n      _units.push($('#netUnits_' + i).text());\n    }\n    return _units;\n  }\n\n  constructRawData() {\n    let _rawData = _.cloneDeep(this.wosArr);\n    let _size = this.distinctMonths.length;\n    let _pWOS = [];\n    let _pNet = [];\n    let _netWos = [];\n\n    for (let i = 0; i < _size; i++) {\n      _pWOS.push({\n        units: $('#Proposed_WOS_' + i).text().replace(/,/g, '')\n      });\n\n      _pNet.push({\n        units: $('#Proposed_Total_Inventory_Units_Net_' + i).text().replace(/,/g, '')\n      });\n\n      _netWos.push({\n        units: $('#Net_WOS_' + i).text()\n      });\n    }\n\n    _.filter(_rawData, (el) => {\n      if (Object.keys(el.source[0])[0] == 'Proposed WOS') {\n        el.source = [{\n          'Proposed WOS': _pWOS\n        }];\n      } else if (Object.keys(el.source[0])[0] == 'Proposed Total Inventory Units-Net') {\n        el.source = [{\n          'Proposed Total Inventory Units-Net\t': _pNet\n        }];\n      } else if (Object.keys(el.source[0])[0] == 'Net WOS') {\n        el.source = [{\n          'Net WOS\t': _netWos\n        }];\n      }\n    });\n\n    return _rawData;\n  }\n\n  calculateNetWos() {\n    let _pWOS = [];\n    for (let i = 0; i < this.distinctMonths.length; i++) {\n      let pWOS = $('#Proposed_WOS_' + i).text();\n      _pWOS.push(parseInt(pWOS));\n      $('#Net_WOS_' + i).text(pWOS);\n    }\n\n    /* NetWos Summing logic for Net Units Total */\n    let total = _pWOS.reduce((a, b) => a + b, 0).toLocaleString();\n    $('#netUnits_11').text(total);\n  }\n}","<div class=\"wos\">\n  <div class=\"table-wrapper\">\n    <nz-table #colSpanTable [nzData]=\"wosArr\" nzBordered nzSize=\"small\" [nzShowPagination]=\"false\"\n      [nzNoResult]=\"'No data to display'\" [nzLoading]=\"isLoading\">\n      <thead>\n        <tr>\n          <th rowspan=\"2\">Item</th>\n          <th rowspan=\"2\">Warehouse</th>\n          <th rowspan=\"2\">Source</th>\n          <th [colspan]=\"distinctMonths.length\" *ngIf=\"distinctMonths.length >0\">Net Units</th>\n          <th [colspan]=\"3\" *ngIf=\"distinctMonths.length ==0\">Net Units</th>\n          <th rowspan=\"2\">Net Units Total</th>\n        </tr>\n\n        <tr>\n          <th *ngIf=\"distinctMonths.length ==0\">01/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">02/01/2000</th>\n          <th *ngIf=\"distinctMonths.length ==0\">03/01/2000</th>\n          <th *ngFor=\"let _months of distinctMonths\">{{formatDate(_months)}}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr *ngFor=\"let item of wosArr;let xIndex = index;\">\n          <ng-container [ngSwitch]=\"xIndex\">\n            <ng-container *ngSwitchCase=\"0\">\n              <td rowspan=\"20\" class=\"item-whs\">{{item.item}}</td>\n              <td rowspan=\"20\" class=\"item-whs\">\n                <div class=\"warehouse\">\n                  <ul>\n                    <li *ngFor=\"let whs of selectedWHS\">{{whs}}</li>\n                  </ul>\n                </div>\n              </td>\n            </ng-container>\n          </ng-container>\n\n          <ng-container *ngFor=\"let source of item.source | keyvalue\">\n            <td class=\"source\">{{getSourceKey(source.value)}}</td>\n            <ng-container [ngSwitch]=\"getSourceKey(source.value)\">\n              <ng-container *ngSwitchCase=\"'Proposed Outgoing'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"td-ougoing\" (click)=\"oProposed.focus()\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value))\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #oProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\"\n                    (keypress)=\"allowNumerics($event,'OG',oProposed.value)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Incoming'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" (click)=\"iProposed.focus()\"\n                  [id]=\"setID(i, source.value)\" class=\"td-incoming\">\n                  <div class=\"editable-cell\" [hidden]=\"editId === setID(i, source.value)\"\n                    (click)=\"startEdit(setID(i, source.value));\">\n                    {{sD.units == '' ? 0: sD.units}}\n                  </div>\n                  <input class=\"proposed\" #iProposed [hidden]=\"editId !== setID(i, source.value)\" type=\"text\" nz-input\n                    [(ngModel)]=\"sD.units\" (blur)=\"stopEdit()\"\n                    (keypress)=\"allowNumerics($event,'IC',iProposed.value)\" />\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Proposed Total Inventory Units-Net'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">-\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchCase=\"'Total Inventory $-Net'\">\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">\n                  $ {{sD.units | number: '1.0-0'}}\n                </td>\n              </ng-container>\n\n              <ng-container *ngSwitchDefault>\n                <td *ngFor=\"let sD of readSourceItems(source.value);let i = index\" [id]=\"setID(i, source.value)\"\n                  class=\"all-units\">\n                  {{sD.units | number: '1.0-0'}}\n                </td>\n              </ng-container>\n            </ng-container>\n            <td [id]=\"'netUnits_'+xIndex\" class=\"all-units\">{{sumSourceItems(source.value)}}</td>\n          </ng-container>\n        </tr>\n      </tbody>\n    </nz-table>\n  </div>\n\n  <section class=\"filter\">\n    <div class=\"slider\" (click)=\"toggleFilter()\">\n      <i nz-icon nzType=\"filter\" nzTheme=\"outline\"></i>\n    </div>\n\n    <div class=\"switch-app\">\n      <button nz-button nz-popover nzPopoverTitle=\"Switch WOS App\" [(nzPopoverVisible)]=\"wosVisible\"\n        nzPopoverTrigger=\"click\" [nzPopoverContent]=\"wosSwitcher\">\n        <i nz-icon nzType=\"menu-fold\" nzTheme=\"outline\"></i>\n      </button>\n      <ng-template #wosSwitcher>\n        <div routerLink=\"/warehouse-aggregation\" class=\"switcher\">WOS - Item Level</div>\n        <div routerLink=\"/master-item-aggregation\" class=\"switcher\">WOS - Master Item Level</div>\n        <div routerLink=\"/sub-category-aggregation\" class=\"switcher\">WOS - Sub Category Level</div>\n        <nz-divider></nz-divider>\n        <div class=\"switcher\" (click)=\"downloadExcel()\">Export To Excel</div>\n      </ng-template>\n    </div>\n\n    <div class=\"container-el\">\n      <form nz-form #filterForm=\"ngForm\">\n\n        <div class=\"sku-flex\">\n          <div class=\"input-el item\">\n            <label for=\"\">Item</label>\n            <nz-select name=\"sku\" nzShowSearch nzAllowClear [(ngModel)]=\"filterMdl.sku\"\n              (ngModelChange)=\"getWHS(filterMdl.sku, false)\" [nzLoading]=\"isSkuLoading\" [nzDisabled]=\"isSkuLoading\"\n              required>\n              <nz-option *ngFor=\"let sku of skuList\" [nzLabel]=\"sku\" [nzValue]=\"sku\"></nz-option>\n            </nz-select>\n          </div>\n\n          <div class=\"input-el month\">\n            <label for=\"\">Month</label>\n            <nz-select name=\"month\" nzShowSearch nzAllowClear nzPlaceHolder=\"\" [(ngModel)]=\"filterMdl.month\" required>\n              <nz-option *ngFor=\"let m of month\" [nzLabel]=\"m\" [nzValue]=\"m\"></nz-option>\n            </nz-select>\n          </div>\n        </div>\n\n\n        <div class=\"sku-flex\">\n          <div class=\"input-el warehouse\">\n            <label for=\"\" class=\"warehouse-label\">Warehouse\n              <i nz-icon nzType=\"info-circle\" nzTheme=\"outline\" nz-tooltip\n                nzTooltipTitle=\"Hint: Leave warehouse selection empty to aggregate all warehouses\"></i>\n            </label>\n            <nz-select nzShowSearch nzAllowClear name=\"whsMdl\" [(ngModel)]=\"WHSMdl\" nzMode=\"tags\"\n              [nzDisabled]=\"disableWHS\" [nzLoading]=\"isWHSLoading\">\n              <nz-option *ngFor=\"let whs of whsList\" [nzLabel]=\"whs.label\" [nzValue]=\"whs.value\"></nz-option>\n            </nz-select>\n\n            <div class=\"loader\" *ngIf=\"isWHSLoading\">\n              <ng-template #loader><i nz-icon nzType=\"loading\"></i></ng-template>\n              <nz-spin nzSimple [nzIndicator]=\"loader\"> </nz-spin>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"input-el btn\">\n          <button nz-button nzType=\"primary\" nzDanger [disabled]=\"!filterForm.valid || isWHSLoading\"\n            (click)=\"getItemFromDataset('GO')\">Go</button>\n        </div>\n      </form>\n    </div>\n  </section>\n</div>\n<!-- <pre>{{wosArr | json}}</pre> -->","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}