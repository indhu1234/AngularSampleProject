{"_id":"@angular-builders/custom-webpack","_rev":"64-b07c20845330a60b8e1843e4c7143192","name":"@angular-builders/custom-webpack","dist-tags":{"latest":"10.0.1","next":"11.0.0-beta.1","lerna-try":"8.0.0-RC.0","7.x.x":"7.5.2","test":"9.0.0-beta.7"},"versions":{"2.2.0":{"name":"@angular-builders/custom-webpack","version":"2.2.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest jest e2e --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/architect":">=0.7.0","@angular-devkit/build-angular":">=0.7.0","@angular-devkit/core":"^0.7.0"},"_id":"@angular-builders/custom-webpack@2.2.0","dist":{"shasum":"8e154ac3db9ac5c6fa91864cb500da7a0cbf24a7","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.2.0.tgz","integrity":"sha512-mwbw50CAYzH382Zrn4WY/vj48BkDO8UoTlWrLOvGc2NpnDTXCdPWPKP/YC4U8x9+MroFxz18gXpBj5yPY3LtiQ==","fileCount":27,"unpackedSize":35452,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbeTL4CRA9TVsSAnZWagAAIqsP/idAWkPwq175NjaHmLVo\n4JQBWhUksczmmIAJkc5m3qpsLqS9OBt+2E7c6Q5gftA/oPiWVYnurUT/KKMG\nzcGqs1Ep/z+bLM3nlfD091dExJ7ERZoSL89di5DGgPfT9l9g4szKUiiI+PJ3\nHid3xNpP4jgQCuxAO5aloM/0XaXy9661nreNdM54GpsVKgrLkqtpRy/5mLJV\nJmBfSiXjH0KCuU81yaoSaUmJSqkk/zK0YvsdBMEYzwDu2rJuxS7Ma52ZCrJa\nyN+z8mmgfRMy+mQaKMWEsqXpJDDBWkufm7Dv9Q+3AK4vUlaGYSf2tl5xNE24\nxuQKys63XZyJPLSJI1EHhc2kdHGlY5weRINJW8Y2U9hyfj+J5cOlKktX674q\nf9a6ZCSGnvhwoAn4Qb8nEnagcdMZGAqhwyYTHy1OAlcv8IsQuWzstIxU29Xi\nWZzTESqzaPWV9XHeI/UqQzeVlYIj5GTWvfrAQJKW0zVooFZtHlWh2EFHfp7G\nnoJ/gnAQVYyITI8OExhjDVnUBS02lhyQSvy1yuoLWOh2oGUkmcoDMrpDr4YN\n2iJe05o4eZ6dMYjWENiFVSqvajxVo5vr0nJux9bVbqlZFDSKu+LCFraZfsYs\n5uxbKFRnYvp3loWcdnz5kOUcKdskr0mBdOnnEStv45LPY/8KAgO8gwE1Rg9u\nWgwK\r\n=8ZIr\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.2.0_1534669560150_0.48378670233475396"},"_hasShrinkwrap":false},"2.2.1":{"name":"@angular-builders/custom-webpack","version":"2.2.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest jest e2e --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/architect":">=0.7.0","@angular-devkit/build-angular":">=0.7.0","@angular-devkit/core":"^0.7.0"},"_id":"@angular-builders/custom-webpack@2.2.1","dist":{"shasum":"9c31e127273a1ed6f2e4a2120882429957dfe767","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.2.1.tgz","integrity":"sha512-2nkni5nHTFqSJW5T4Z50v1IxOFpk2EuXdIyFPnXTIyak5dw4qWMrG1dlAwSaRNfenlMM4pBuBvTkz1pUnebd9A==","fileCount":27,"unpackedSize":35472,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbeTO7CRA9TVsSAnZWagAAQAUQAKCcaW/nr3ZzNFrqaSKk\nGGSQkwp8Hh7HZoUP40HZf1dBy3R4IoLQW/F3twbS/R4URgaxWZ5gJX6TmqEM\nn/35Djar+/tXhLsG7lCcR20IjYtgkW8Hg/T72I6FBvHFMJmPiJLJAivdcrG+\nq5ob8Kwh+vKnskWgSv8rN6YMMasAmwX46PONCHX6ueN/iwZYdts6XXolP4PX\nWsn+E80/lPu/z3g8OaEx31NpMIWQ+Kj4UgdkUPHC8+beGSAKhJwiIOLisRAV\nxCdYYRReKDcY2iSyQvmfuVZZ2cH7+bB2F51t8trlPfAoOjFdqM6qs15XCylO\n+X6rAld/2MfzE4NvKmLw0wjSyKCZ1+b7OhDFPZCDGccTGTf+o0odcFG0f3U0\nNEjxpEYHcUrbbrvhnxvDeQ5t3K/9BiZHELsDliwfpHtDQjaoT5FRlFoK/6KA\neXES9T+fDRe2qDZO7HPeoxnFmbVbkbpRGJXRWU19KHWKuwrOAFb+MXU/1BVP\nnv9jMabGWDzsjpvbFGAWBzPAOwLYv8Y72K2DCoTzchvwI4cuK9Am1aQRdFkk\n5QDtS5AGi5dyQSakePbi/tNDTBs4XxpHILq+dhJ5/su2umCpQ1t2GMSBv7n1\nf+moDDLXXKrZjta8KRsuNWIF4c2MC0FLn+eQFrU0D+/6/uMdG0JH2FMNZR/g\nHO/1\r\n=l+S6\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.2.1_1534669754619_0.9297411787827696"},"_hasShrinkwrap":false},"2.3.0-beta.1":{"name":"@angular-builders/custom-webpack","version":"2.3.0-beta.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest jest e2e --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/architect":">=0.7.0","@angular-devkit/build-angular":">=0.7.0","@angular-devkit/core":"^0.7.0"},"readmeFilename":"README.md","readme":"# custom-webpack [![npm version](https://badge.fury.io/js/%40angular-builders%2Fcustom-webpack.svg)](https://badge.fury.io/js/%40angular-builders%2Fcustom-webpack)\nCustom webpack [builders](#builders) for Angular build facade.  \nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# Prerequisites:\n - [Angular CLI 6](https://www.npmjs.com/package/@angular/cli)\n - [@angular-devkit/architect](https://www.npmjs.com/package/@angular-devkit/architect) >= 0.7.0\n - [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.7.0\n - [@angular-devkit/core](https://npmjs.com/package/@angular-devkit/core) >= 0.7.0\n\n\n# Usage\n\n 1. ```npm i -D @angular-builders/custom-webpack```\n 2. In your `angular.json`:\n     ```\n     \"projects\": {\n         ...\n         \"[project]\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"[architect-target]\": {\n                               \"builder\": \"@angular-builders/custom-webpack:[browser|server]\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server] one of the supported builders - [browser](#Custom-webpack-browser) or [server](#Custom-webpack-server)\n 3. If `[architect-target]` is not one of the predefined targets (like build, serve etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it by `ng [architect-target]`\n\n ## For example\n\n  - angular.json:\n     ```\n     \"projects\": {\n         ...\n         \"example-app\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"build\": {\n                               \"builder\": \"@angular-builders/custom-webpack:browser\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n  - Run the build: `ng build`\n\n# Builders\n\n - [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n - [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration.\n\nOptions:\n - All the `@angular-devkit/build-angular:browser` options\n - `customWebpackConfig`: configuration object with the following properties:\n    - `path`: path to the extra webpack configuration, defaults to `webpack.config.js`\n    - `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n      - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n      - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n      - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n      See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n    - `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration.\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:browser\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        path: \"./extra-webpack.config.js\",\n                        mergeStrategies: { \"externals\": \"prepend\" },\n                     }\n                     \"outputPath\": \"dist/my-cool-client\",\n                     \"index\": \"src/index.html\",\n                     \"main\": \"src/main.ts\",\n                     \"polyfills\": \"src/polyfills.ts\",\n                     \"tsConfig\": \"src/tsconfig.app.json\"\n              }\n```\nIn this example `externals` entry from `extra-webpack.config.js` will be prepended to `externals` entry from Angular CLI underlying webpack config.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack\nconfiguration.\n\nOptions:\n - All the `@angular-devkit/build-angular:server` options\n - `customWebpackConfig`: configuration object with the following properties:\n    - `path`: path to the extra webpack configuration, defaults to `webpack.config.js`\n    - `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n      - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n      - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n      - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n      See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n    - `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration.\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:server\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        path: \"./extra-webpack.config.js\",\n                        mergeStrategies: { \"loaders\": \"replace\" },\n                        replaceDuplicatePlugins: true\n                     }\n                    \"outputPath\": \"dist/my-cool-server\",\n                    \"main\": \"src/main.server.ts\",\n                    \"tsConfig\": \"src/tsconfig.server.json\"\n              }\n```\n\nIn this example `loaders` entry from Angular CLI webpack config will be _replaced_ with loaders entry from `extra-webpack.config.js`. The plugins from `extra-webpack.config.js` will override the corresponding plugins from Angular CLI webpack config.\n\n# Further reading\n\n - [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21) \n","_id":"@angular-builders/custom-webpack@2.3.0-beta.1","dist":{"shasum":"74e330f222d55306e44c331e1af39b22f27db662","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.3.0-beta.1.tgz","integrity":"sha512-xTQ807HIhkK0MrNPJYAHlTdkEfUBLYmldx6gbqoRDGDJ7V2pFhbZQyYDeJq7x9Krt2Q+wSCs7txA6aQGJJsluQ==","fileCount":26,"unpackedSize":34180,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbgB1NCRA9TVsSAnZWagAA9RQP/RhtuWUC+J5RoVo1l+c/\nee5c2a8A1uEiVH3YxgTZNILovxiVD1zn/6HnpO6h/U+8kbfm5UeYTA4rSpWD\nzhqtf0/tvlNJLdUYSXVJo1m1TeYM4StVHJrbYLJU8nZ5wQNWVrGHlwK+y2H9\nxFCFZGXdllWWLT/pJbhwTUZaaYHguc3+aOaYQDk/QlYTG5XshlZg8SlcA2E/\nbOSY3dDRTC48nT9DqfnUgvspYChzD7uNSHmyIENT+NlHUYeEsYGhKVjKoXLB\nRO5pC+eYmiZlkCN0rTZcITr8UAzvbq7NMKQla5fuxB2jk2Ix1ea/53hYQgoS\nhOoNw8tWTr7OaXJ+CyT56znwmP6jynVrGp0w4SLxbVS+FCE3APh1y5Yhv4CP\ndtILgOrhOrA+Vv+wyrIlEh21JwfZkuaPXw0GjyiFwOeK/XrPhvl+tscVUBvq\nosjoM1fw5zIvInr8c1qk/uY+I7kwAr+r7L1OWAGgnpkN9+oW933CWzGFZHLs\nshCWAq0txVkTKHIKkwo+6SVZYY5A3/hDtszKHQnRrBZ+zffZsgcuv8je1A9R\n8f6EeBljL7Emhy2wB7DCpyVLnGvGUliNTvF//u7tKOqx5gczJBFl0ebJE2fd\nWBFC3P2trytesI+GQ1cChQKlYobMABTwuUg1J7256H5LT1DFQ3gA1qEqxwoP\nulz+\r\n=mdHf\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.3.0-beta.1_1535122764930_0.05656905577949156"},"_hasShrinkwrap":false},"2.3.0":{"name":"@angular-builders/custom-webpack","version":"2.3.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest jest e2e --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/architect":">=0.7.0","@angular-devkit/build-angular":">=0.7.0","@angular-devkit/core":"^0.7.0"},"_id":"@angular-builders/custom-webpack@2.3.0","dist":{"shasum":"94521dc8eb2a1bbae88832d562593ce4e421da5f","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.3.0.tgz","integrity":"sha512-5p1JHkFdJtHKyaFQaqV32kEjGZwJVhAydtvDmaqN3/hrKYEXj8eCa70Jcjg9lbQA32UUzvQ7OQD/vfBQufpnhw==","fileCount":26,"unpackedSize":34205,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbilD5CRA9TVsSAnZWagAARiEP/AwPKgGuHsj4gQgDsUZI\n3S2vCPPRMA6ejDlUSDDVZcVAseeCo2Z6ko45s6fLqoJB5vphlPsT+dvKPuoY\nEPbAM6OGIQZheOTI3wvu3/v5CnX1M+HxGcLBYaHUcWl337BWqLOhtlf9TGHM\n5IzDstMHskhQdXRohTNhFW2GpqLbpTzkbRR315LIb+jt3+YRrqVGHGtnTXDC\nQz7guPeSVeReknqvlbA0WiQCt9D/gPGW/sC2q9YSb31p6YVY/orhyK2hIEcx\nVjwWE9WSHuFwgVLQIttq5uBc4QWwj3C49N5QGxW7kbVql+YUOSLd8hWSSZBu\nFZgAz8Zsf7VWnxOf6AbUagnWYAxndSKOyz5afE3hao3x7eq6vhFugjCpNvcV\nbUGgkOCiv+QKCo/6zRGOGIWfzeETzLQW3g/0sVhQWlbbfYvmBqrqk0UGyRp9\nXXe6ahcFeiH+JS08UsiUaNs/VdfDbz9fyZQ+gIgNEMYPlt1pYIWs/KjpO+TA\nRq5ChTmrKWcuyl1MmkvRO8V6xPOEFBmA1iE0PkZxWPaAm7PDXRJuI6Vbu5gq\nqIjhNaLR0GlbWtD0J+uXzC2Yy0yDoe4T3Drj2wbDaW7djjDhQHrVhsD6Wwd7\nkczc53hDn8Qp3PQSs7nG6uIwdrcvCoQ/w8JL5g3hNhlRpUG6JzKdc+9qzimS\nGN1s\r\n=LTk1\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.3.0_1535791352988_0.09445909767926963"},"_hasShrinkwrap":false},"2.3.1":{"name":"@angular-builders/custom-webpack","version":"2.3.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.3.1","dist":{"shasum":"cb78ccd17f80d191b3750f1fe2607def7d56fb28","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.3.1.tgz","integrity":"sha512-ofvHWnodSOn7m1kWfiZqPRKP1CHlVjwSyIfSrIoqj2ZTT24dGZelQ+deHqUtAxYo7pMTOqp1vXyxxOcCCxkk+w==","fileCount":38,"unpackedSize":56402,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbknyUCRA9TVsSAnZWagAATHwP/iO6zRc4PlFizblr4Ddy\nk9Z4WWGhNL57DDsbte8x7FctedKmFZXus3pJkl32lh0ycy4i/Q/o5iqHEzBv\nYmnZb0IpJlbWrpPZ0pq/446M7dCFx48xeOkXGnq4u4f0DJ3TZPte+ig0GkE2\nS3wqST5s3LIzqAr2fdBgBbkDFza+WnwbxX9LNxkMNyUEga1mUMHCdQGeWjOo\na4kJTDlp3a3qgL0gntV9lj/StqURGr6RxUnloTyRtHcfX0jcxua+vE4YWh6X\nZsGEOONEg0etXQu5l7FD4sb9N9hamkEaqXSt1X9lThkRrkcEjiBzdk+GQd8h\n1MRZWnUdlvSGXkFRi9xTtOTDJMDRs9OPTSLmixZTtTVDN12BjFyysvEypxB1\nhvidVtFvUcydOZ7poUFNMQyDRSCK2V0rAd/Sy2Yo1Pxn03i7HVx14FUJBfqD\nGymruGScDMJ7Ou4UM1xDhW62gIy4tgF31UPHv2waoRWZWIFbLbj3d9r8FGyM\nnuvWRYsuPIKYVHMuv7pRrgrS94uMR03xUmryB/PUzfpELBwYFdJrSOsbiuzK\nEXX7e6DpCYbRXh5hUWiMyso4SEYddERQBV7YwZWKl1XBMFyNcQXfAoath2SS\n34fQ8pxgCrxX6RF/0mOXYXQOnjbgXlcz4ljrIIyYkJ/TR84yKDQnd5/nj0Af\nTA13\r\n=lUj5\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.3.1_1536326804005_0.8046471464220082"},"_hasShrinkwrap":false},"2.4.0":{"name":"@angular-builders/custom-webpack","version":"2.4.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.4.0","dist":{"shasum":"4f0d41b02c917dd81b23e55a47458356f1eb3df1","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.4.0.tgz","integrity":"sha512-hcgKCLTFjhbLqH9cjECzJPExyYaQTiTzjqcgaQ0dZiXd78X4l4XB8mTDxl8fVYVyYCGmGdjuE1YpjOOY+ENGIw==","fileCount":38,"unpackedSize":56279,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJblSF9CRA9TVsSAnZWagAAqgMP/jhrO8vLw2bwFzfJ020U\ndKH5xHv++mSKVysZVO6/q/NjN7Rqe5n+9WmUXiO9xa82oFsmA9NsY+wB6vf2\nu4rmkoBvC5FXTsLE+qTvVa5dx+zhpFPMqCPoPKZGEmwyPYJgDSFtB01nsi9S\nMjLeJuc/QjG6AFhsQ67eDVeco/i1JdlvlI81y1TdIxmrbFj0bGM6IN3teEHt\nnlPtZcaTYLqWg4hBr7bXwsOAixv3RRIKZJXWJRpW5r3wwQzBa3zlhmqoJxt3\nvSwEYM2icBnfzLQLVFpCQlWY0avt+codyAvEgfW/6j3D2dLbFyLX/HCaGeF1\nlAiHSFqFuhurTxzXvhEfog26SKB8h4TYr9N2RiOBFJ6//hOnBQN4P0pK3kCE\n5fzboCGO4eg52hYcSp+aJjwZFh71137uTpVSpBPo5Vyb/y2jrzxAEuyCBapM\nZaZkOZplWQwFenUgYSoBi+Cdh4BKZXD6JakcjlrBspTx5a8ASjqlnNOxsSZj\nEZmLWIA4rJa0vGGZUzLYqoj/oSAtEp+5DBvmKZjFGFxJ26UKqI2SZ3sdX6mi\nRoHI2GFRWnvCifvmJChDGL8ZbYJpwUND1Rk5fDznTejI3IR20SoBgbgNq8pK\nCub8qYQ94ALJ0AJ5t6n11SXPo0pFjDs2qYFIh/ucX6lhG7sGR4qksQIYvmsi\nq1O+\r\n=EHG3\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.4.0_1536500092705_0.39074004934820494"},"_hasShrinkwrap":false},"2.4.1":{"name":"@angular-builders/custom-webpack","version":"2.4.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.4.1","dist":{"shasum":"489818c50e639e7e5016155b5e8aa062a321563a","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.4.1.tgz","integrity":"sha512-PxablGNKVPq+Okin89L3nMK9xJ8VOIe4SPW2p4Nbal0xkVnUpkGFUfef7SZzhVQjfeCFNQyop+oXJgSq8SRCuA==","fileCount":34,"unpackedSize":35802,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbmDHSCRA9TVsSAnZWagAAoEMP/j7xeyXgYnzEEDIc9hBH\nB4HuRh1oi0ZtfKUS5BoiqsiHmcShJ/LpNsTDab0HpjOSSGi8n65dUmJI2uFO\nlY0rS1hKlbFJilPrq/E9Izl79gDPtFJ0tbG9Gef55pACoQzZ7mXaadQs1qvD\nwxxnoAh44VCgd1EmNN5HsDCW5rv7t7UwakbW9utPdFsm5SA7OK/tciX3/LQ+\nyoxgZvkh/UtcFkW4FW93U8xpD+NSfBb+QVU5IahO0OFRHjYZ75JLCNiAXEWR\nHG/PuVkmecQpql8v5+7qKsnt6/VckSTcz9uNnq5kK4IFwTI6692WfZu3rpVu\nClRK/JXTHBxS2Pdhq6d3/JHj+oyt7L1UcRyFMNF3h5g8meZIxq2kzC0Oi33s\n/Cyezl02BBzbISq+nNV0akiORYTUWZMvUO1KC/KF2w1lAf+guF5JOXTWe6YT\n0RGxyz0PKyCNjuDaYdXFJ8CVyrqza4qRbCBP/rD5DBmtfhvD2CRg6GwfZ/Jf\noEPnoawbZ7XVJqd3zV17TsWFLqOl0PlwFxFwdBF/0qyfJNLq0t4mGPs9hksx\nkLqjorsrQN/Eyj+2qhoC/AbXR1k7zTYgPVhDDSOsWV2eT+qSdSQ2zcuL1KGP\nbU6TLLp0wtE/f0mS01nkdeBZPMrrDcOkSD4k2QaDdXPVfhrIMl14lcYKbBTJ\ntW52\r\n=Wm05\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.4.1_1536700881508_0.2184295514119854"},"_hasShrinkwrap":false},"2.5.0":{"name":"@angular-builders/custom-webpack","version":"2.5.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.5.0","dist":{"shasum":"4978a30e5e76414672000760a4362aa830cf066a","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.5.0.tgz","integrity":"sha512-ki/ZtMw340kLqd3lZIqihSkwOGEZ4Ee1dvHUCmRqvyLs3JphH3nOQiQwTNqx6SwoZfWMHwhpWDaoEOhedpJgzw==","fileCount":32,"unpackedSize":41492,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbt6PvCRA9TVsSAnZWagAAorMP/iGTKPdqEP/C/oJ4fpyM\nEuWJsiWy5N5piUMHXbhQWkBqYrS7x7bviYZB2u/tgi/iWui+1jcVpyJpFX/n\nSlY0yzZWlxroG7o5DOWJ1fHvBzj6n04Ww9mJ2MFkS97pZpP81xcUvZpV0a2l\n5AoFWikDaRAN3HSv5kR+yJNvfKnAfcp6hHb1ixFVuNT8CiBIDlxWxC1HS6oE\nbVjJrMbsaPnhrMrge/9KV0B8Jx93lMpRfjCLxI/9P39V2qlRztzD3OU0F6os\nRZp2ZZkFRM7sAU25sWfm88gBet6W9ScdFvkXZaj+9mj+uQlOgnIQ+5Vgj7xw\nu5dUzHEoL+g7+GUvjo5Qlp61gP0Ib2RarRP/QungsftDUUZw6fdBmZCEP4nP\n1Aaf5MQ0YDPWJpU32nXgJDD93NrSbnqtQSh4BHJsfGok64KDYFYLJscxOYdX\ng6aAR5wKspIq8zvycLvZYCufJm+vnCWhEUZoBEhoZ5CRC0TSs/DaqRtvDxYJ\n+plIr4o7RLcTlMFuu/s/CBeOQJMZxn7bwm+3E9vcjR/5O2blw58Z2nRI78IO\nG5OLiXFqxy10VLRDSUn3urJ9USb9c35qrp8CUFsKCWlsj5QR4ZWTDE7iauPA\n49l0bAsNQoUn2w0RloHXks520OkRbxmd1ZYBmrnxCqNOUSQz4b+wWNUPkqZg\njtiY\r\n=QJqC\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.5.0_1538761710308_0.7154429859159046"},"_hasShrinkwrap":false},"2.5.1":{"name":"@angular-builders/custom-webpack","version":"2.5.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.5.1","dist":{"shasum":"f4c38249053a9361e29ca2bbf0feff91c348adc8","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.5.1.tgz","integrity":"sha512-bxCJZiYtVJJqh7eDjsWNcG727tDWPUQx69Aiql75PpEKG8i2qOQ8R/aAcobCSChWRzm36HhqRwXuc5cl1OgmGw==","fileCount":32,"unpackedSize":41560,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbt6TSCRA9TVsSAnZWagAAHAEP/jMkH9ldlSnRYBu9KWZi\n/aP/M8uLdhxelCAR6zQ52+AN/XerJTZD4iQCT7bhCcnK8cnoP+V/04soj2n+\ndNSSDtGXI5Rd5QZtO++AVzLnOAhuuIByNC2xh+efy9nYkj4M8Wi323Zvw9uo\nnAkmE+jOwy0bGiaW1lNXc2Nvd9EwqRhWGDMpHy+llc45Z0aFkdze2zpBTV29\nRu+oCbaiVgJVqP2I0hrcCBv3IcOElTDDKdjCxxmjeBNohv/ViJz4RLLnktfD\nOkfJE7Kl6HoHuoy+PLSRwciE4pNa2+yhUceFXHyVmD2fhPuuq2pBYIa3yFmv\nl2l86ZTCzV5vPPK20N+wxQJ1iozXj9QYY9bHa4cZPBy4g011by1J0dG1pn5s\nzJrEmJeNDGTTiSGtlLXybDpPVa8ZCwx6rKDEbT3+Gg7For5IJMUGFFbdN47f\nmKt+ImfYftsEEpFhra2Qwzuwr1geH6v9KoGYwtwOnu6LqXJTJn4PKA3mvPV3\n9zL6HfetqXn5fF/qlwNUJe6mdyASLwpr4zVGiybrshQX8WR+/DKjxDuw+u3I\npO8VVUbXtsyjZIt22USQUArGBNWHrxFRyA5jhG6+1t1sDvUSjmzCFUyHt03y\nNCw11VzEGq9UP0+5d8QS6MN4Fj751bHSzf6gg6uETLpJPkLA26AGZE4ZOaxn\nsi0O\r\n=38j/\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.5.1_1538761937686_0.7250487208477205"},"_hasShrinkwrap":false},"2.5.2":{"name":"@angular-builders/custom-webpack","version":"2.5.2","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.5.2","dist":{"shasum":"ca5b1042a5db0cf6e0a893f0656f1c9c397cd348","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.5.2.tgz","integrity":"sha512-NV0UErbtRETmbM2s9wBHU5Qt5K4YlJqvjFe97CLstA0q8smKIa2c6Q+CjDWid4RIyhD5h5x3vmQAthfJis5D4Q==","fileCount":32,"unpackedSize":41606,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbt64bCRA9TVsSAnZWagAAwecP/3Oi+DlOg75i7eTlWa7K\nmVRPJigBbwBKOYt7bbGmaGF4Vx6Tab0cZgCyXG46A4/P+LCfGx/WCPIb5rOB\nTFEW7ndVQtVulm6H9SslIfFvzZfpJX9ar/iLyL+rtGBf3ncCot5NbeHS/IPz\nnrXuTQB8kURpqKEJ0Tc299BvaGBdlXBKDmMB19cXgVzqPrQFs9UlJgCco6OV\n5Rx56/NhH1vtCaTajTPCr3O8OgQo/UkuGle0cVmg6rCHiO97BP+KDl+K+1H7\nw3LsLcxj1KcknsY1IHjzf+VdNlkb3Qa4KOT7+3qlX3gReMla5UTCwdWSiU1Y\n++rl8nEtB01+VvAV1GlA+4UBApqHymODxO0id83g4Fv8FD5HS3qi0SzJtrjo\nKZ+TE4fBw6mqBS5ZVGja/d/9qCjgycnIhALZkxCKftW2y64QLJEdDwtt5dMN\njMOyLC9IR3rUrlhAh1hh0tfEfpB3BOnZiEfxFyyEQmcZDiKoxHKlp+HUf2Th\nz+AXus12U+OpU1Q5fzlpVZNbrox1SJU9m6gj04afJgkaJpoZsprxan5obpaR\ndWJvFg9fNOc4q/IaIdZ7Nt+t1FWqSVEHPp9zwqfnFEQaJSsXk546jntOlJ7D\nn2oswGp+i5YaXsoi7wSbFlQjeanZINGmHf/iIH6BM0dRZhIJ2qvidqSHi+Od\nOUIT\r\n=XS0H\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.5.2_1538764314657_0.851212005953055"},"_hasShrinkwrap":false},"2.5.3":{"name":"@angular-builders/custom-webpack","version":"2.5.3","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.5.3","dist":{"shasum":"6bd1ffd801e0c9c0833cbb75c829fae41414bd68","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.5.3.tgz","integrity":"sha512-10dFGDT057SXlxIKmyl8QfwWQ3Zmt4xNc7HkCDJd+mh+65Dq96PH9qOGOI2adV9GPdnYi044FKEOKKJbim5gaA==","fileCount":32,"unpackedSize":41612,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbt66QCRA9TVsSAnZWagAAhA0P/0vi+hU0XdPTDEdYfq09\nbeDHgJfBVn6B1i4c1/7L7r2dq4XguAsKPX4SnFSKa7RNH8bWSb4a0hgT1uDw\nvzKQcspIAdy5pxbwqBMq4qIu0+A+Qe/DlCLwQWfLJlVROEN9sfbEBOLG84Vr\npUv0mAaGcvVcCEtpDeoHhlqMxaJtolv4sQWI1mh41espWZa1taUoOpHEzbLj\ncOHcy4o6muThXUkiwAqYzbw/aAbIgD5beLrP2W6Bo92rhGhsqzUslt/T4eP+\nMgHg8u9HZbJGenGkB663qCBJoVBH1r43d8LaaxrJa+QyMNY2mPk/UsJx+WIP\nlKqzJz4LCkMQI7UiA3+cXt7z6hb3oKY2KgK0VVfoM1VEBGZsjZvcc/pO7ExL\nFpMDpmtwUr0SYBnD0GBFxb+inzjHHCn1P992T1UAWeZTqHZMOFnP9L+DAI55\nQu47NqwonL2mS/9QsX/7l1MZPryU7lzfX/RuQJ+zCiqBEayDABwlASSz5LDF\nk51KTLk2fIKOd7xItttNDZ2vmRjgpMPh12g9FWTmD6xX6/YtKxjZmCd0vIQj\nD+Kw5Ea1ICXJoEeN/ae98Edb37hnaH3Loij2LVaCsnvI2124suUO0eA9tYvv\nu1xMLWdXDDPGtPw+BSWcCoKDZKHdy1xPzXSEdkqaQClaecUImMYmdlDEoTXL\n9moG\r\n=YFjf\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.5.3_1538764431852_0.1512637026984287"},"_hasShrinkwrap":false},"2.5.4":{"name":"@angular-builders/custom-webpack","version":"2.5.4","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@2.5.4","dist":{"shasum":"7ecffc226f59b56d3d28e0d839f66c247e8abb51","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-2.5.4.tgz","integrity":"sha512-aMFemC2BXY4oKChg0pFN6J6IOpwS6AtVZJYhftI7SNZyUIp+IVT/hUIglVaUgnvAdcPHYM3iqOLCkjwspDZvOA==","fileCount":36,"unpackedSize":43758,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbuzBXCRA9TVsSAnZWagAAUaIP/Rq5Zak2jEM0h0eAulF7\nlwDZoUe4q/X2nG2MxRW5OY+icDM4xlZamlF97k/seLrjiYdeb2NX7/hiXSds\nxD3uf6LUkK2rNTK5GNV/I5BYh4otOFj5BRF3eBH+LYG91YpMofZgobQxoS0t\nw48QbqmWuaIw7H9BuYtkZFhbMjCMLu6wx4fL48JiHXN0EBeQuZjAfi7j1KQX\noj2o0HctpYrytTRPnLlzZah2l0L4mSgd6dLzZaAOw6Dx+BjXbJpVfRjkUaZX\nXUa4Bi1ehnnR8KfH0b2ocKta17DrVaV+gHzmt0/W1j+fHuHpbUaQkNFUzk8q\nkOTz8tqgiwyUmvuOlfPrP6myDRbE0qZm/whjz4YBOarp1zCJ6DrmDIjU7CLN\nljSBR2YvjLGXGTOf6ABMoj0vdRRdNpF0/S+HYrOo+Xy+MnAvTLuhVnZXVsXD\nT4kClzvuPBY/+UcZCh4JeQbIwIIpF3mIQsWIkGzCmxGNj4yN0dN0hAgBrnlc\nh2L9P+Kh3YhOTVBZXUT1T/Spa0hVHTTlSTjmqpUKobaOmyevPZPq+Z5Fa84Z\n1Ozm9Ml5ASmCch2mnvvJGOLjYAA34aZGAA8SFxEDYaFyHfFr0xsDGCoBkLYb\nGXbuuuOk+jlm7Wc+BQgWHEQ5hoSuo7dDed5KFyWJmou00z2DVKV+J5GDp33a\n5Y0e\r\n=zQi2\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_2.5.4_1538994263234_0.6531731198952502"},"_hasShrinkwrap":false},"6.0.0":{"name":"@angular-builders/custom-webpack","version":"6.0.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.7.0"},"_id":"@angular-builders/custom-webpack@6.0.0","dist":{"shasum":"69fcba9986eb9c7785fdd1e4c13939f521623afb","integrity":"sha512-Rl5zVdwY2m9hTztf/SyGi1gaTDC1gKswmhcppBXg6z0jmFRm8oNaN0O7i0jCDh/Es0aLK6q8YA7EhPjZKdYcrQ==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-6.0.0.tgz","fileCount":32,"unpackedSize":41060,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJb1NinCRA9TVsSAnZWagAAYiUP/jRl6JWZQpmPo78UDD4n\nLLbv8jDRlxExo0Den7zpa4uzWDerGOc/USfajotlka6u/A3e+VHh95KqtFYr\nIf+UrvdpFWvJssSmdUamWhXyiu7aZRdqYEXa2CE+3+DHwF8LItGAY+bM3C4D\nWQq2NvcicnQ/SKYSwwhT3argZZ9RV9jg5bDl2Tm9SthLPa684mURBgUcxj2d\nAdUXcX4ckjTzOJxW56hCBSkk4v97/UzNnm4/lyZKiCG3mrJFiI3mbZnNg9wR\nAM23+mDrpErpUlo7My9RXIfz41OxOCMiISQrWSk7Orxv7az1yCKRLNQE7xfL\nru32T2yItaLjva/CmUKc1psY5AxperkzuElZ5lP//rQDkik91TWbkjJEvTAe\nMA7xq4eqNMD9f4PIvoe/vWFncJmsjJdire0kRIspdtl0OGFHc5+8+nhxn59i\nk3LGc3SCl9zqvyWoq4VXZlHrZQMhVcnnWrkpRQBWXJAbolIi5G9z9ozhzUjl\naFPK8iulGVtoQQjlvrOm/U+SrEZqMRT5nO5kEI+HBePN1DvVVqN2/JPrisVm\n+xOrjktSA63wLM8jnro9k1J8syxDtENPtlSOmgx07VUeDdJFogg2Ib578maX\ngVZCw3SKhGLqynnOqFn7WOTpD9u61dfvUQVUmrl0taBz8IfNmL633ueQb3aM\nUQT/\r\n=bD5I\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_6.0.0_1540675750385_0.7703451875231808"},"_hasShrinkwrap":false},"7.0.0":{"name":"@angular-builders/custom-webpack","version":"7.0.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.10.0"},"_id":"@angular-builders/custom-webpack@7.0.0","dist":{"shasum":"f2bbb7e998597d2deb29dd40183fd7446b3a9274","integrity":"sha512-oqVrkY+xrTO2fp8cE2XaFAMLtharYlBkFE49eacYDXfB+hIMPPXO+hogVor53wOsFVygExgpGvbmF6OqwAc9Gw==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.0.0.tgz","fileCount":32,"unpackedSize":42075,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJb1N9CCRA9TVsSAnZWagAA7IsP/3cJzL3oOub+mBNf4NsD\n7hMlpGadG0UuYLZUrjQT2056g+TyAUsp7YH8YbU7lxj3Ultxr0jFRwRzrzZp\n/rZZQsnxehB2J9EsK/xV5eDh16pY/xOABwki4olniKZZ4INIARJDUsGQHmVu\nIRNpU20MqFtHEglE0qmetZnk83TCR+n5wg5IkA4/e0bMafbcBFRGWAb6is66\nLx7TEhJrsY8fRd0RU7CfjDcEyV2zz21b1HWNjLsFVeXXZryuPdUuRT6umTdV\n9oJqyJonU2Fi0zlwUMaeDuvwoArmo4hdUcMomugmfn5U/JqSh4kJtoKj/jK/\n/TxmTe7evvB8gLDtfYEXBXMe1BYpCijjnGyfpQJjvjjbx7FkwqNmiyePSslQ\nx9tp9sEYDabc7ayCzPL3aYfbBBvXHatLmspW/57xx21dW9y6B+M60ABF4Ii3\n9bsj9E4dNgfAZfC7KaryAHlNEzoZZ4VmlxcwHUOnWzI142UKpWcNZbSe2U23\newITSoe+qLCwM1355/UkQsvfqZlwL9hVUu6ccco6lJD8h8F62n4MhoxCSr0C\ngdf1G1b90Ds8Uwiv1RsRkK9QIYSF4p9vTB8lv1Yf4tlIapZ8xZ+M93IPjjSw\nHLcS449nj1hrEJZpc8ZrBXqu+pCLJma9AhPAbHLTd9KOEsKEPrvL6BZf6aGV\npriZ\r\n=4RJb\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.0.0_1540677441970_0.19851451166614176"},"_hasShrinkwrap":false},"7.1.1":{"name":"@angular-builders/custom-webpack","version":"7.1.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">= 0.11.1"},"_id":"@angular-builders/custom-webpack@7.1.1","dist":{"shasum":"29d78573500ebf7b8a37bdccaeb398d593aa40da","integrity":"sha512-FRRV8JVs765PjAKjy30rAH7gXNgZjXbyYqtLyv3C9MQLvdjRAkwIUwGvhJXggYlPvjab4OQdWo815YNcdECFcg==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.1.1.tgz","fileCount":32,"unpackedSize":42065,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcBqdJCRA9TVsSAnZWagAAbckP/3KeGZhdB/ut81YtVQdB\n+lnV220Iya+O8oEpmBPx5iJgDnzJgcQOxz2vCBE2ZPfMt0MG7bWpZwJ8z7h4\nTZgA/vR4oMrgY6RfpYLdbg8n0yK3zM0O2BUqoWVX7PcQ8n6o7h1DtPaz5xB+\npRft0ZfwNC+y6Y72xQh3Wlg6P1jbNmlhKxQ3PbgpDHwMb0UJvpQo2G2I/5eB\nXhUXa0AeJYlN0VhSQyydV2l2Wh0Cd57Txt/YnZM3k01PShq+b3OkkKb+K3bK\ndePjgG+phCAbAPBVtTQcK2UMB3scl+bGx4UkwDTIWk1BCmxRQdseFC5uXHQO\ndiB9jbhaW/lJKs4lyMkiY8eKyP0T6bZ5s7p+HwL+qfQXEqVfrkyHEU3PThqV\n4XlwIUxMQ1l9S3prmKhNGIP47QfIJyYt5JqW3zVz2QtvoUeuWQfdHMBCy7f5\nLRYSb61CkaWoZO0sKN2aewdd6YdRwCLU1dcpipymDAwrYztZ1f2qQiRdiHMO\nLxjoTUzL2bHvDYijTJ7qHnfCz+CjWhuNhxN5YxTZuWqCRFB9tTXT1nPGyke1\nGJXrVpOumNU3ZO1bSFYHwAb/ooQGv7GiefeLzk33hxhCXnGiiR/k70hRLEur\nJiHzffGVqUiRCcOuTPX662yv4Y7jAgAhVV/p32wQFrUqdL6mzLmO+CjAnV2x\nhS5Y\r\n=mxCX\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.1.1_1543939912689_0.5337282206801939"},"_hasShrinkwrap":false},"7.2.0":{"name":"@angular-builders/custom-webpack","version":"7.2.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.12.0"},"_id":"@angular-builders/custom-webpack@7.2.0","dist":{"shasum":"1a5d44560435d1efff4dea98f3e1880a192b952f","integrity":"sha512-m6K1T7rDofyxxxgRdAHEUfjbvu8G3RL3XKeAieDbbHSRhsptEAgYdBx5BpkW+xrrfgX5TWG6AZaEgfPNlJtbAA==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.2.0.tgz","fileCount":32,"unpackedSize":47212,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcNhbvCRA9TVsSAnZWagAAh7AP/AkTe96PnMlPtv1MJRPQ\nRjoZFZTynmOfaXgHLjFxgqoH7eYg3e8UPxKw9OVBXK24rIhVYb7j8/OF0X6p\nawDBRZt++uUk5ASXAQfxzkCv2Em81GAzBP3WisXZsBHenOS/T46VwCedGtSq\nPxO3NNplqj+SoMY5X75OKj8E6QQ3Ok9Pu+ab95kyGazmx/9inwzH1h9vwSxe\nM8QkpJFuuFRGB4ra0SAmrrrXOK9eLWTPEogh+OfqvJptpS6HpvxV6F/USpKj\n6rgWP1gcT5tIoKrYHmJEoSHpXF706L//FQR7CLIrIXw5mfYR80OM8pBIrfcR\nI+GpSY2Pj7aGPd3FOG1r+7HT3Wi1IVkPwMHkaRq1uZkU9Kxauh5jaQmBxlGg\nk30KJCyP3N7x0feYeBl5imYuTLUhovALpSRKDLcXb2ssMU+FlxCLymmE/Ggm\nsEYQ0kHdautvQnzyk0vw/szSmASTq/cPxICd4LB56WErKybZRUDycruHAIoY\nRmRipFmmAVQLQALzKLAT+u5JndbprN4lDeaEECLoCBupmLmuzqsgKavupWvf\nBBOege9tsfoNTCQ5K4m8Lq0Zku5Ohdg0r6qe++Zwy8Em7zKsN7wVSS9XurGp\nDHX2uL5WYLvcuVswh3G2yELSAvx9QktlpTq6oFm/98bdapKZ3NIt7aTFifIT\nDcBh\r\n=obZx\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.2.0_1547048686552_0.8121156143370052"},"_hasShrinkwrap":false},"7.3.0":{"name":"@angular-builders/custom-webpack","version":"7.3.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.12.4"},"_id":"@angular-builders/custom-webpack@7.3.0","dist":{"shasum":"5e43b3108af8132100a9c50ec3d5a8e733669db8","integrity":"sha512-79opPTLxNEq30LRX3hAPvYjhqjTD0nJtD/DpZRUSXRdqvPJc3ZGXQXhH0Ksg/w4Cd7T5lOjtsH9PejwJXUWtsw==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.3.0.tgz","fileCount":32,"unpackedSize":47382,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcWDivCRA9TVsSAnZWagAA+M0QAJUUCKKAQJm+BAtNkpnq\nzTSMkFjywq7VYo8ellVkZOiIS8ZbuQIr/7VcAXVx2LnN3gkPs1tCm6ptOxhF\n9TkKfzfctT4EvLvQSYxxkpQzzy9eKR/4kLMzFU7Ilbi5F3/w4or1mr8r6g+0\nSQcIIJ/HZCPGBHUfm9HGDxf5BiqbiS5Ef8SLO7l3fkkrqza516Di1URItuqN\nAnNwwzp9LPwFKaagsfiDvO7xpkw9MCX4bi9gbhVP5bs1QUVvCwz4kS3StMO5\n6ZbMpNfEcIu7UJGUMWd3ZBDlEM2jPagrxYQlbVpZ6ZQDlgOldZpJY1Zgi9yu\nfBSDdpUudEUFZOyFTXa/edGiMifFiybQdNvB4oA7ViBFiFbulCxlrtOdKZSz\nIyZMiiwanOjRBoe1/R/JVdkAejV4a8c/1nKuZ9O697BLkRPH/H+qgcmNP7kc\nPbkGQuIpcCWjjk2oqVO0zrvYvg6TdtLq5Eqza20m+UzDDSFfzs8T7Nj0sBT9\ntxCGvmfmu487OUjf22tCVShLWZaG9+pigodVOFs7X7DNHvUWaxFfy+rOb9hX\nsnwUI0OmK42zpd8T4Z475w7mbEF7kTcPb4inAiMWafbKxjGO2KHne1Oe0uDv\nJ6XSQzyEHnIUzQNku9sm7UR3eELejkRbtjZ0OL35oGAsUQxGEUm4FoIqMB9H\nByCF\r\n=ntXC\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.3.0_1549285550482_0.6941570853330974"},"_hasShrinkwrap":false},"7.3.1":{"name":"@angular-builders/custom-webpack","version":"7.3.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.12.4"},"_id":"@angular-builders/custom-webpack@7.3.1","dist":{"shasum":"50073e38fa1a52ff181adc1c03f045a3376ab496","integrity":"sha512-vZEvltO7YIX1OhQHDDkGK8QVHbAc0f7U/kpO1w7qpG1eUIGC7Ov1zemwVAia8D8Ug7cWcx/gaKJPHCMdjiCzpQ==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.3.1.tgz","fileCount":35,"unpackedSize":50471,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcWe2RCRA9TVsSAnZWagAAjCAP/0F++Eg/O3JjrGZLIDBO\nLik8pOsywvoYjl1ekm7lrqc1J44YFM8fiOnkdw6PJOWOAgK47vGb31p65XKP\nXbtDu9amNZl6obrIZMS+sskoAw4mRrZPa+imh2N9b8He2TQ2jLlvAtoLHw0t\nmHMpkWIDA6RHBlJfiNHoOGGByI4Oya1C9Kl4S597LKUcAIyVb/ff9f+3BJqr\nGviAKMLkbwki19J6dRdLuCBV78sR5V9tqLorHnfnwQoZRJ6I/2lB3LbhJ98w\nODvi/T7s4D0zqDChXWdjcFLhNKVLK/FyvHdhBAa55kBt0keKrOz7jVrKnaNC\nKC1KbiMQRpVkFkXyOtsF3TtQiGJ0pxIH9Gj5zhZDmqGRoFgpHNWlpfoe8H1p\nzCMqtobpEaprf9PcLJvIhCGi3DjVcG+m8wWU2IApOKT1Q0f5vTm3IBX9u6sz\nOX+zFsDpzgaskkDv9xx35YP3aRv30Y91Fv4AIhSUEnKMouBA3gwt02oP4fKo\nwuxOg7jD7IVhvhBWDoRfmwWTf+/4Ig/yAF37ey5clLj+OCemNtnq8lFgLCZ5\n/MGnCKHRAcORbRDO+2wHBr5MGilGwkDDAW2I17sFnYze7v64UP8H0BGPVCn+\nbJD3TU0TRAB2AiCm2zzwbp6kv9gNCIp7HFAGMB4cJ4DMToZ8vn+zzFz8v3Si\nAXok\r\n=tMll\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.3.1_1549397392933_0.3002206385510493"},"_hasShrinkwrap":false},"7.4.1":{"name":"@angular-builders/custom-webpack","version":"7.4.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.13.2"},"_id":"@angular-builders/custom-webpack@7.4.1","dist":{"shasum":"80d053b512ad02472b2c4d83d5be1b36ef418c9b","integrity":"sha512-nBJmJ1F5EWK3AEcChqEwrmQYIpuQSGBy4WCaAESRF2UwsN4DTu3I6+R6QC+xi47I9AH3Q+rbM3oz92jNVS8/wQ==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.4.1.tgz","fileCount":36,"unpackedSize":51756,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcfYtjCRA9TVsSAnZWagAA9sUQAJYJCqoXsgGH2IN2yzel\nvO1EtrGLWCuTVdbPeezNBv3AV5wa/FfjdfgSA71/yUDMJHchF3v1uiZ9Jrpx\n3KLdzq/ClJRXJOcF9b1gLYxVJJ7Nr8YoxlJAYy2EzncS1pPK9Lpfe/nmtLRg\nWmsEU/mLQqSlnG+8vQnJwdYi5sbsy9GGn9ZAux2YC7kZi/61CzDzlkwe3VAi\nhXK0ggJsyMcgmLutJybrOCZg64ClkCL4vki8V68TbFHHBFy0V5jM8xFBMV5e\nUxqHSXqNI84ZpBWPFv4lAnZVLDueIzZQG1kKTXpU9pcNF/4pYHJDFDMYvKY/\nedZqloviakvkZSfHcFZEpWJkpi98gEqy+6k5J2MhZ60zXqZwvBV6ro5qAhYO\nUkHXLXrfED3EY4T2sP75ZnxYCiu0rNlMpblzOSRT9N1T6jtCcTmcIZFwwWHE\nnltLBcf9q+ANGcLQv1uE1q5ipztDwF7/AqBWHLIaWDZngZm8Q8AuYzcDEoIC\nMjcMnnrXFIRfQoTKvag3BHmzLjdElkVBbTkMa5uWIIOMx7dV9TPdvKXYa7Nv\nW8qWVGI0/6ku6vMISwXbKwUWd19IAM3iupl/VLGy27bX62i/z0FGC0hdAOVG\nHnWsqvWOis+hfPnj6n5Y2rB+AWvFrvdyFexR3tU1iCp4dXY7YdiINBlzewmQ\nwvxE\r\n=eTzr\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.4.1_1551731554499_0.36789346199609074"},"_hasShrinkwrap":false},"7.4.2":{"name":"@angular-builders/custom-webpack","version":"7.4.2","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.13.2"},"_id":"@angular-builders/custom-webpack@7.4.2","dist":{"shasum":"3317440a8e833eff37df34792cda772c97a4d725","integrity":"sha512-+ZR7sDm1wLaOvR8giE+b/2FfUA4RL+Gz2q058ceVBjrPG41dTeh9orK8H1xATWuCkTcIvqxBUqVIZjGvsEdpwg==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.4.2.tgz","fileCount":36,"unpackedSize":51403,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcgYI6CRA9TVsSAnZWagAA6SsP/0dGIzS72VAIR6MHQlja\n0e8vw5LlWa4i2hRUa3AgsHh+uEdXmIIbzaT04sr7o678W2uYXsMpblyVPtcN\nBxJpGMcGRUu3FWhhWHtvDXPsHP1dZ1E+SGKxLCm0a3nBYFcnB5wAoYP7M7LO\nU2VCeHih3kncQSDa7mKrac9ylpNxMGtX1/Wu9HO+TcHbIAuZRe8mJ28PoVpG\nSd78N0KioJOCN1lsiq5mjtIR1mPaMpX2/+D2hDiAD/adWSfg94ZnP3ALdQpb\nyOSdp0Zl9WX29/VsS5vVNFcGijQ63y74TlU8IyQGkGTdvJd6brx23p7jX0xA\nYjpRXukm0By/hhYb3VH/5nzbOxPiP76ShXzsi+8lJEv4FuQm59Mz7ZRzkx6E\nYQbt3xtIlTq8JyAd43qd/oqDKbtwhVhbsQY3Y6IVqLbZvKcHYlIfhkvyg0T0\nMZ2W92AVfPNeCf2NoeildUizj4u5vymsfRnr+5VTYcFEs1jL/9bEOv/Y1Gec\nsKu335cZ/C99Cy65gYbNDu+gfk/fE3C0S7HFrhsmme77nglVW1eyV21ynJeZ\nerUq856Bvi5HRCvZkDskXaUoyB05C/BCGTFsJTzXYFRTKGU//v6RxSKD7iyh\nPBvud4xeWJf8PMtKgL5xttjq+qZIjewx6fTwBW4DTZRIVDg0Dq1F04Ji/3kO\nxW8c\r\n=IrqG\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.4.2_1551991353701_0.972410562767182"},"_hasShrinkwrap":false},"7.4.3":{"name":"@angular-builders/custom-webpack","version":"7.4.3","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.13.2"},"_id":"@angular-builders/custom-webpack@7.4.3","dist":{"shasum":"c95e32f007ca956cbeac703206f7c3b573029aee","integrity":"sha512-dizPcKBSdgM8ztVbhOdVxHnfV/FBkTi1ZirsxWaw1B0S0KuPTESnsJaZA15i8Y2l202hCPs5fJfqy5aCoRrs1Q==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.4.3.tgz","fileCount":36,"unpackedSize":51957,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcg+XsCRA9TVsSAnZWagAAoc4QAIF0RCtC2PJ2WtZWNDch\neerZKIh33RaKOZAx3PqP6tTWTPfxeLyjoS9Xps0tcNmyDKohLqt7a5UsGEDz\nqxC2xoF9lOcoYuVlw0rCeCAWW+AV+iUOFdOUlVEQg2k96Z9X9QU3bk4tUpD9\nzaMOEhGKHUwIuKGDSL+9hVnNjkZ2FreIMMkduPK4Z7PZC3ZjWAGs0bASNZHO\n/ASqiE8nY3csoTCiQnA7lSF6zr5IdyzhKsjEfn7OJkeOmhMnDuDVSCKBFarQ\nTNOhw2SlUjOvnLniBalhwZ1+Wj4GAnoT253kjxdXukNTk1T4qFvRnJFu0/x5\nF6sILF+0fgwNuACtN85VI8dmOA0WmUJyJK4V3oOoR3XAT5hgnt7FCbhdMkdW\nQjn0Hx+HWQXucQZBm5kYK51h0foLz3gypbTCx/PtLZpRVwGWFO98yeUfEegM\nq1XZR8ErvMMeZ17grKN0UW37H22egtT3Gi8KzM+woNtJr5aDk72SVIvBm95H\nG/MepWeOQya0LHAln8wAKj3AErwqNSLFK1YdVkc5+naG6wT3sgpKw62eYJ7Q\n/inkaE+BNShRKRC+bEieB13nHitv0CUsx0VtLSeGzVz4ZXhuX7ROdDCqT/Hr\nQkudayOfgaehsHWeGCcvrJ6TZblZwo4uFia/Pa9ulp2otpjoRLs9xu8TxWMl\nGups\r\n=8JnN\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.4.3_1552147948342_0.21761947145276395"},"_hasShrinkwrap":false},"8.0.0-beta.1":{"name":"@angular-builders/custom-webpack","version":"8.0.0-beta.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/packages/custom-webpack"},"author":{"name":"Evgeny Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.13.2"},"devDependencies":{},"readmeFilename":"README.md","readme":"# Custom webpack [builders](#builders) for Angular build facade\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# Prerequisites:\n - [Angular CLI 6](https://www.npmjs.com/package/@angular/cli)\n - [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.10.0\n\n# Usage\n\n 1. ```npm i -D @angular-builders/custom-webpack```\n 2. In your `angular.json`:\n     ```\n     \"projects\": {\n         ...\n         \"[project]\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"[architect-target]\": {\n                               \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma]\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server) or [karma](#Custom-webpack-Karma)\n 3. If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n ## For example\n  - angular.json:\n     ```\n     \"projects\": {\n         ...\n         \"example-app\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"build\": {\n                               \"builder\": \"@angular-builders/custom-webpack:browser\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n  - Run the build: `ng build`\n\n# Builders\n\n - [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n - [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n - [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:browser` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:browser\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"externals\": \"replace\" }\n                     }\n                     \"outputPath\": \"dist/my-cool-client\",\n                     \"index\": \"src/index.html\",\n                     \"main\": \"src/main.ts\",\n                     \"polyfills\": \"src/polyfills.ts\",\n                     \"tsConfig\": \"src/tsconfig.app.json\"\n              }\n```\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:server` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:server\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"module.rules\": \"prepend\" },\n                        \"replaceDuplicatePlugins\": true\n                     }\n                    \"outputPath\": \"dist/my-cool-server\",\n                    \"main\": \"src/main.server.ts\",\n                    \"tsConfig\": \"src/tsconfig.server.json\"\n              }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config.  \nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom webpack Karma\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:karma` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"test\": {\n              \"builder\": \"@angular-builders/custom-webpack:karma\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\"\n                     }\n                    \"main\": \"src/test.ts\",\n                    \"polyfills\": \"src/polyfills.ts\",\n                    \"tsConfig\": \"src/tsconfig.spec.json\",\n                    \"karmaConfig\": \"src/karma.conf.js\",\n                    ...\n              }\n```\n\n# Custom webpack config object\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n - `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n    The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n    Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:  \n\n        {\n          test: /\\.css$/,\n          use: [\n            {loader: 'style-loader', options: {...}}\n          ]\n        }\n\n    The builder will take care of merging the delta with the existing configuration provided by Angular.  \n    In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n - `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n    - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n    - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n    - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n      See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n - `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n    **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\n## Merging plugins configuration:\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the *delta* you want to change.  \nFor example, if you'd like to add an additional entry in `excludeChunks` list of `HtmlWebpackPlugin` you only have to specify this single entry:\n\n```js\n new HtmlWebpackPlugin({\n    \"excludeChunks\": [\n      \"webworker\"\n    ]\n })\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/meltedspark/angular-builders/issues/13) issue.\n\n## Custom Webpack config function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      'APP_VERSION': JSON.stringify(pkg.version),\n    }),\n  );\n\n  return config;\n};\n```\n\n# Further reading\n\n - [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","_id":"@angular-builders/custom-webpack@8.0.0-beta.1","dist":{"shasum":"ad48b9da59ab8abc600d554841b6299bb5d2b034","integrity":"sha512-o5hGSZLemf0Njv6BVesqiiOYJ7IvmSfK9Z9s8vwrmxZqbEYbd4oMhv/rUcUNzdumMJQP9G1YXI/HRbUc10YLDA==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.0.0-beta.1.tgz","fileCount":41,"unpackedSize":61873,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcsi4dCRA9TVsSAnZWagAAUWMP+QCEW9RJtDjTpY8T0iq5\nyrtMfAcAk9+rhujgNxqyeKkQWQpGHjQR60QojvgIsPYJstQlAC5U0asKU36E\nYbt+9mNReSLM7s3pY3KKb56XmFk5Te1uso9vR30MxwvpRYCnzV7hWZayj7sL\n4lYxLmCGrLtVtu95znf3cHIYFapyMDcHzNpxMEipRfRPz8k3wFgxXAe2ByYM\nbUbXL62TdOmAQ0bdZbuaVJMto7lHlgY/pieU79s2few/cgve5XPY12vIRLtY\nnJGQ9fbDm9fxBc5oAZ/t38/CittLeKL0FU1cI9l9X82Cr4O/9t25GADGeyDW\nnYnfHm20p0Xy4Anjol/M7MRNm9wfEf6YLUP2rzP93yILdjS5FTvibfdi4bot\n5jUennLEYyHQnV9wETaP+jzMy7VQiKlWuZYSsyeKJ7SPHHf6t4Phul5yi6FE\nZ4tKT6mYwDOrpMwxcRZOdXT1oFVhYfzbKoNacJm5v8jk0Ef2ZbXywcTZfiLk\nZ6+sqsoRy9C0g95Bd+d7VnCnFjXu2LaLrkWbViADr+CQ9tOyQyCL8FDBNCNq\npO/gv5teoeUJLvB5BiFg35sKfzzfoG0BZGS4D2wmqH76JieYDLF6rTKUtDRy\nINRTEbmH0fRkajJu+wPbtMqzL2a76YF+F4nPh0iCJvZkexpAs+zeUD6mTAbG\nPxCc\r\n=/h5U\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.0.0-beta.1_1555181084940_0.2221536123617993"},"_hasShrinkwrap":false},"8.0.0-beta.2":{"name":"@angular-builders/custom-webpack","version":"8.0.0-beta.2","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{},"devDependencies":{"@angular-builders/custom-webpack":"file:../../angular-builders-custom-webpack-v8.0.0-beta.2.tgz"},"readmeFilename":"README.md","readme":"# Custom webpack [builders](#builders) for Angular build facade\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# Prerequisites:\n - [Angular CLI 6](https://www.npmjs.com/package/@angular/cli)\n - [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.10.0\n\n# Usage\n\n 1. ```npm i -D @angular-builders/custom-webpack```\n 2. In your `angular.json`:\n     ```\n     \"projects\": {\n         ...\n         \"[project]\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"[architect-target]\": {\n                               \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma]\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server) or [karma](#Custom-webpack-Karma)\n 3. If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n ## For example\n  - angular.json:\n     ```\n     \"projects\": {\n         ...\n         \"example-app\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"build\": {\n                               \"builder\": \"@angular-builders/custom-webpack:browser\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n  - Run the build: `ng build`\n\n# Builders\n\n - [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n - [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n - [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:browser` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:browser\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"externals\": \"replace\" }\n                     }\n                     \"outputPath\": \"dist/my-cool-client\",\n                     \"index\": \"src/index.html\",\n                     \"main\": \"src/main.ts\",\n                     \"polyfills\": \"src/polyfills.ts\",\n                     \"tsConfig\": \"src/tsconfig.app.json\"\n              }\n```\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:server` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:server\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"module.rules\": \"prepend\" },\n                        \"replaceDuplicatePlugins\": true\n                     }\n                    \"outputPath\": \"dist/my-cool-server\",\n                    \"main\": \"src/main.server.ts\",\n                    \"tsConfig\": \"src/tsconfig.server.json\"\n              }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config.  \nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom webpack Karma\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:karma` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"test\": {\n              \"builder\": \"@angular-builders/custom-webpack:karma\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\"\n                     }\n                    \"main\": \"src/test.ts\",\n                    \"polyfills\": \"src/polyfills.ts\",\n                    \"tsConfig\": \"src/tsconfig.spec.json\",\n                    \"karmaConfig\": \"src/karma.conf.js\",\n                    ...\n              }\n```\n\n# Custom webpack config object\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n - `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n    The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n    Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:  \n\n        {\n          test: /\\.css$/,\n          use: [\n            {loader: 'style-loader', options: {...}}\n          ]\n        }\n\n    The builder will take care of merging the delta with the existing configuration provided by Angular.  \n    In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n - `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n    - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n    - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n    - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n      See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n - `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n    **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\n## Merging plugins configuration:\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the *delta* you want to change.  \nFor example, if you'd like to add an additional entry in `excludeChunks` list of `HtmlWebpackPlugin` you only have to specify this single entry:\n\n```js\n new HtmlWebpackPlugin({\n    \"excludeChunks\": [\n      \"webworker\"\n    ]\n })\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/meltedspark/angular-builders/issues/13) issue.\n\n## Custom Webpack config function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      'APP_VERSION': JSON.stringify(pkg.version),\n    }),\n  );\n\n  return config;\n};\n```\n\n# Further reading\n\n - [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","_id":"@angular-builders/custom-webpack@8.0.0-beta.2","dist":{"shasum":"0fde8eb632ffb89e67c058aa48ee462725abee84","integrity":"sha512-FsvQd2OOfVAi9m193dm10djs9aJcymxyWiBlU/OIDXhSBTKbg16DBzz8zuGkmnD4UVGS/IB8tzZTqHz6lNOP0g==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.0.0-beta.2.tgz","fileCount":39,"unpackedSize":60772,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcvMypCRA9TVsSAnZWagAA33wP/RSea45z8SLlP+eI0Pfj\nz/zfe/wOPnybou6R2ZHnMmrhO/K08snuKtXrAVlZ7flV54I1Zr/S1MJ7qrsh\nmiXP3xlrFuCIN8M0M3qx3g9Ndxo22LE9+ILHF4ppgCZpbRLsYOa77pnMBa9T\nsBQpsLKebMKd5tMtb0Bxy3pEkwjWG2BjhbV4qRTYdDZhuBagjB6g8mZjNjez\ngMy/Y0O3tvCyyXs22CPiNhgzsLA5EIAqwWzy3T9pAWRzk0yknhf455CoSNZr\nyCQkXhhKG+aZDji3iEHj4cpMYSnLLgkOa9sJaeuU3qLx8yRwbyh9/MuxksZd\nIpngoGVW3smEfjDPIxc0hCxEYcKMDFTvLogamkYABv8LtcJ9eG8Y8udT//c3\ngJpm3Df8a0gHQ8gYi6u1XQo4PAP3gIra3bIJERQ8a82KhKktec4C68vDqkPD\nKYqMMAJPsOR5j6tZAZ6WrbYgpjWqZGxfeaQKmdmGe4x0xeWtbi4kddrmQUl7\nYNguE6yc9qDrVrv5DqNsTUxd7OrGHh0E4foeFyAEC/MUmrOfBFAXs6qb/bdG\nhT/05ssfvbBzK69wpiELFyQSoxtogg5W1HdW5KFPuLx3eeeZhzaY4MwtAP0c\nVOn8pFjUepc2+4AOw0/N48TdrqoArNWap5GsKoUKB8LNFml836EsAvM+onAl\niyqc\r\n=dg1Z\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.0.0-beta.2_1555877032619_0.1254598317905975"},"_hasShrinkwrap":false},"8.0.0-RC.0":{"name":"@angular-builders/custom-webpack","version":"8.0.0-RC.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"gitHead":"bc91887575fb0474b1796620375a4df3d4c764bb","readme":"# Custom webpack [builders](#builders) for Angular build facade\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# Prerequisites:\n - [Angular CLI 6](https://www.npmjs.com/package/@angular/cli)\n - [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.10.0\n\n# Usage\n\n 1. ```npm i -D @angular-builders/custom-webpack```\n 2. In your `angular.json`:\n     ```\n     \"projects\": {\n         ...\n         \"[project]\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"[architect-target]\": {\n                               \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma]\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server) or [karma](#Custom-webpack-Karma)\n 3. If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n ## For example\n  - angular.json:\n     ```\n     \"projects\": {\n         ...\n         \"example-app\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"build\": {\n                               \"builder\": \"@angular-builders/custom-webpack:browser\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n  - Run the build: `ng build`\n\n# Builders\n\n - [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n - [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n - [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:browser` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:browser\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"externals\": \"replace\" }\n                     }\n                     \"outputPath\": \"dist/my-cool-client\",\n                     \"index\": \"src/index.html\",\n                     \"main\": \"src/main.ts\",\n                     \"polyfills\": \"src/polyfills.ts\",\n                     \"tsConfig\": \"src/tsconfig.app.json\"\n              }\n```\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:server` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:server\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"module.rules\": \"prepend\" },\n                        \"replaceDuplicatePlugins\": true\n                     }\n                    \"outputPath\": \"dist/my-cool-server\",\n                    \"main\": \"src/main.server.ts\",\n                    \"tsConfig\": \"src/tsconfig.server.json\"\n              }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config.  \nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom webpack Karma\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:karma` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"test\": {\n              \"builder\": \"@angular-builders/custom-webpack:karma\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\"\n                     }\n                    \"main\": \"src/test.ts\",\n                    \"polyfills\": \"src/polyfills.ts\",\n                    \"tsConfig\": \"src/tsconfig.spec.json\",\n                    \"karmaConfig\": \"src/karma.conf.js\",\n                    ...\n              }\n```\n\n# Custom webpack config object\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n - `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n    The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n    Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:  \n\n        {\n          test: /\\.css$/,\n          use: [\n            {loader: 'style-loader', options: {...}}\n          ]\n        }\n\n    The builder will take care of merging the delta with the existing configuration provided by Angular.  \n    In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n - `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n    - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n    - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n    - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n      See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n - `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n    **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\n## Merging plugins configuration:\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the *delta* you want to change.  \nFor example, if you'd like to add an additional entry in `excludeChunks` list of `HtmlWebpackPlugin` you only have to specify this single entry:\n\n```js\n new HtmlWebpackPlugin({\n    \"excludeChunks\": [\n      \"webworker\"\n    ]\n })\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/meltedspark/angular-builders/issues/13) issue.\n\n## Custom Webpack config function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      'APP_VERSION': JSON.stringify(pkg.version),\n    }),\n  );\n\n  return config;\n};\n```\n\n# Further reading\n\n - [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@8.0.0-RC.0","_nodeVersion":"10.15.0","_npmVersion":"lerna/3.13.4/node@v10.15.0+x64 (darwin)","dist":{"integrity":"sha512-cLCgVxQOskKaPvkG5GaeyaAyTREHNFXM/0kvDhisGrTuO45LNc2K3gaKo2v57FELL9ekWo6aLAar/Z+UJwdS3w==","shasum":"d8edcc780b28c4949480423370fdaae279d67fd5","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.0.0-RC.0.tgz","fileCount":96,"unpackedSize":661464,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcyFMsCRA9TVsSAnZWagAAMuIP/1hGpkreTK/zVueByby6\nUP6DQeggzkO3yo1cw/BNQO6/x9W66HEkJz9nJwjtO/6+xHzGwPCxtZGKKvKb\n9B1S//TRCqSm8NXHr7gC5Rz9DuEgukdBHOA0G9GXSAQo8lnjqDr9Hs+mDpxw\ni0QiQQdfc9WXY+O82Sei+pzKhMd0DGLkGxr6q1sh6Md1c/vbFtpWv5phmpj9\nVEqxwSDKJeIqXrYWKsWP7Wn4ioIIiw4BQ5mCAkkZ8MW1Wf9gzzkHkQBzskzR\nXEMQiDFyD0tW6UKb6ephTvIGG6YX+VMzTSmDCefDaYhlHQQKVA13DU0zlT3i\n+WXNYiNPojRYmEWJ+fFiI7tnxpKEI0pIndVs2VHc+FRXB+KWbM36kF/X+VcX\nYTE/7JeJOSxj2KeECzyXhOF2dzXJQ7WksCIzeC1/Nh8TdbfmqkJOd8mYmeEE\nsJjpnzCi0DnWnX033Rb/2p3vJ6a0xLREbWfpJ7UB3PkBj0BYDCgF3cdpHl3s\ncmeWeXXtQt6ll4f6syd4z4K0ABcBf3nm+N7K2zzh4AhV6eGjbmYFByAXczyF\n7SNQ3GP60pJRHqCuJvSUT7LlpMlL4Uqa0L3CZDTor7dfRILv0SFDHOtwaQqh\nNMBLVaBtGtLEYLs0JDL5g23aukE6PGWBXwwKelr1JOJuSl8CiClFfFWuKXic\nZT70\r\n=KxZ+\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.0.0-RC.0_1556632363395_0.8591787338950192"},"_hasShrinkwrap":false},"8.0.0-RC.1":{"name":"@angular-builders/custom-webpack","version":"8.0.0-RC.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.800.0"},"gitHead":"9cee9b876560322d6fb67b80fc6facdf18c7b536","readme":"# Custom webpack [builders](#builders) for Angular build facade\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# Prerequisites:\n - [Angular CLI 6](https://www.npmjs.com/package/@angular/cli)\n - [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.10.0\n\n# Usage\n\n 1. ```npm i -D @angular-builders/custom-webpack```\n 2. In your `angular.json`:\n     ```\n     \"projects\": {\n         ...\n         \"[project]\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"[architect-target]\": {\n                               \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma]\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server) or [karma](#Custom-webpack-Karma)\n 3. If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n ## For example\n  - angular.json:\n     ```\n     \"projects\": {\n         ...\n         \"example-app\": {\n              ...\n              \"architect\": {\n                     ...\n                     \"build\": {\n                               \"builder\": \"@angular-builders/custom-webpack:browser\"\n                               \"options\": {\n                                     ...\n                               }\n      ```\n  - Run the build: `ng build`\n\n# Builders\n\n - [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n - [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n - [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:browser` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:browser\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"externals\": \"replace\" }\n                     }\n                     \"outputPath\": \"dist/my-cool-client\",\n                     \"index\": \"src/index.html\",\n                     \"main\": \"src/main.ts\",\n                     \"polyfills\": \"src/polyfills.ts\",\n                     \"tsConfig\": \"src/tsconfig.app.json\"\n              }\n```\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:server` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:server\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"module.rules\": \"prepend\" },\n                        \"replaceDuplicatePlugins\": true\n                     }\n                    \"outputPath\": \"dist/my-cool-server\",\n                    \"main\": \"src/main.server.ts\",\n                    \"tsConfig\": \"src/tsconfig.server.json\"\n              }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config.  \nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom webpack Karma\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood).\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:karma` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n```\n\"architect\": {\n    ...\n    \"test\": {\n              \"builder\": \"@angular-builders/custom-webpack:karma\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\"\n                     }\n                    \"main\": \"src/test.ts\",\n                    \"polyfills\": \"src/polyfills.ts\",\n                    \"tsConfig\": \"src/tsconfig.spec.json\",\n                    \"karmaConfig\": \"src/karma.conf.js\",\n                    ...\n              }\n```\n\n# Custom webpack config object\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n - `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n    The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n    Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:  \n\n        {\n          test: /\\.css$/,\n          use: [\n            {loader: 'style-loader', options: {...}}\n          ]\n        }\n\n    The builder will take care of merging the delta with the existing configuration provided by Angular.  \n    In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n - `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n    - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n    - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n    - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n      See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n - `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n    **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\n## Merging plugins configuration:\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the *delta* you want to change.  \nFor example, if you'd like to add an additional entry in `excludeChunks` list of `HtmlWebpackPlugin` you only have to specify this single entry:\n\n```js\n new HtmlWebpackPlugin({\n    \"excludeChunks\": [\n      \"webworker\"\n    ]\n })\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/meltedspark/angular-builders/issues/13) issue.\n\n## Custom Webpack config function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      'APP_VERSION': JSON.stringify(pkg.version),\n    }),\n  );\n\n  return config;\n};\n```\n\n# Further reading\n\n - [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@8.0.0-RC.1","_nodeVersion":"10.15.0","_npmVersion":"lerna/3.13.4/node@v10.15.0+x64 (darwin)","dist":{"integrity":"sha512-ALO5/GA18CA5cNCLJ3a0PQfV4rWrnXvCJk5LQksfhSIsdbCRvpSwIzwqYAQmiIO3Y781OxL061Al6M9f9jEqaQ==","shasum":"17b1da0027b451397b73e6494ee31e9749b52ab3","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.0.0-RC.1.tgz","fileCount":38,"unpackedSize":65843,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcyHEsCRA9TVsSAnZWagAAYx0P/0k0zS6sCeyjH11YN1je\nbyOChgaPK6G1jUflZNfw3Emx07orxNiPFnUauq3vskpksdEGdnTu0jCQpfK2\nsdSdmF67XAeidK8AFc311R3jzE7VklqAGOwLdPbiMS+CqDh5txWfGZ19x/yz\n77nbNVogzLLAUM/h94xQYvppm2Y6wKTdRpCq1Qvfu17wqWoAA9ijlCM4jPR+\nT+hIrEA34iOsADVD/LpXIBdnP20gX3RpsaS2ncx1MuQO6iKBL3hrdKRFKbiQ\nOcoUw5pTV6csNTA+gsgwJ1KZu2hETkRv3puidqSerE1HZUrw0r5yHGGoxStB\nNceiIBuTG6fxKQcWyeMASgy2OZET4i+2EYuaK2iuZBxQeDGCDRnr+lhqD6Sj\nr/Gfya04pO/B+FGyPOkOGx6KpW3jEWOP36qk/FYD+MCXvauIzjDIXd2bPA3X\nHVuhpebsG8URGjmO1DG4tKJmHkIqSBqVgzsE5TBWs9/EwNXZEMTXmR8iTWYS\ntg83P3HHDA0a5rJnK1gyu+P2pAL/0PrXXVpLObhJ5R8ir8vQNOFNdkivluhu\nlNopZLKJhzJEKu4Zep6yEx3NDgEO1tmocj/VW+9L1QYEts+3BfNG7OlXi4FO\ncePROLW2tJ0MyQeOP+2S9MInoccx13BZqfrSy5TXEWJZYmWEzEKSx70umr9l\nsxwx\r\n=DP46\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.0.0-RC.1_1556640043034_0.885648308798654"},"_hasShrinkwrap":false},"8.0.0":{"name":"@angular-builders/custom-webpack","version":"8.0.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.800.0"},"gitHead":"d424b12c8356c2ac7f3d5fa92568f3c422a7531f","_id":"@angular-builders/custom-webpack@8.0.0","_nodeVersion":"10.15.3","_npmVersion":"lerna/3.14.1/node@v10.15.3+x64 (linux)","dist":{"integrity":"sha512-cTiH1RWZ9bBJGVJBLCx1xjHCckOL0C9BfB4P5uXPcEAN/IKtQ+rhRicF82OpcP5O3Fm5iygUr/e2wSW3a4ABwg==","shasum":"ab2a8a17c10550b159e1d5510d3484a46555755e","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.0.0.tgz","fileCount":4,"unpackedSize":14248,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJc7kdOCRA9TVsSAnZWagAAT7gP/j5Qjc9GaoeBGRjdgHBf\noADN9Z8/XBapjZSzTv5MvJbr67wY9rGTk1kyfkWc4Ed3G4paNd2aCxcLN1oC\njZ3IYg5gmgj3vhxgRoX/q/U7XVcPpFal5uhSla/H0GKBpYHaF8lqHVUgviV/\nFk3fOoL8F4X4hGRQ6VMkuK2T+uM8j/4MnvQJrMc3pWQ7tD6ydiBFXPz/KI6h\n82GErTgfAR6XmJyxE1yRVV5aT6iFhRmUkIIHieZTP5f7g3EVIE9Jwp8PG6UD\nL3kZlu9Or+ubONMH7wZWJOn/fUVBZL2O6GmJos+W0im69T+M8CT5bZSFV3Li\nNRZ+ffOFij1pc5xMPyCeawX1KUVRK8kxbWgWRNNvaP1lpabLACl/CEbvvroZ\nAM/M6UBdFNUGZRgwWAUcQs1/CHwZIA/rW0LfT3cqDMj7YQtmX9Ku12PTC2O2\nqFWyf8PGtYfGdYYHgJOnS8edcmpWboWVSUIcg+Dgb/vP2Z/12ecxrtCErjMd\nzIqW7plihQ9t9q0RgfCvKYrhFfZ54iO1yG3GStW7ohG9xIY4SoYH9Z/GWkTc\nGidQqcPGofywAjjWk3JmD+DTp0J25WdI8ut1hiI5yjvsCsocWtW/glRNEMpM\n5JIYa9ipEBa8EVqqUx/c5yM9yoDFaREeXO+ZHiQykNFtjNxLGutiTXG2wbs2\nQdqk\r\n=z+l2\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.0.0_1559119692403_0.19460381206284727"},"_hasShrinkwrap":false},"8.0.1":{"name":"@angular-builders/custom-webpack","version":"8.0.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.800.0"},"gitHead":"42ac84cc28e778fe7127f79763d28039a886fc4b","_id":"@angular-builders/custom-webpack@8.0.1","_nodeVersion":"10.15.3","_npmVersion":"lerna/3.14.1/node@v10.15.3+x64 (linux)","dist":{"integrity":"sha512-gijT9xjGj1Y95yHG5iaaaIxi2vnBnAqGKtfmy0ptrHNu0yc+7oiPGvhoC6FyW1meMaSrbDCxpD1vcKfeZOhDxQ==","shasum":"1048373f0b8039f4a823c66ac542a096d8313768","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.0.1.tgz","fileCount":38,"unpackedSize":66585,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJc7lH/CRA9TVsSAnZWagAAlsYP/0zK0vex2+07vJopFhuZ\nse5lEumSoa5kfrhNL+ULjnZPNg7cx0qw5cvzyiUqIhxD7HjqdAcF8ESdO6PK\nQK5mNHsFXSCUX+AtaxmELwFtpmCdlj0CBXEFlRjLeqRxnnfv33IVOwxAegiy\nDZ2cd8+fl5nQlxYLFMkKgsmkqjqSF8r8LrJTszP6Fk6dYi4fuKZp2m7hnV43\nQrkQYmvNS5m+BPVl+b3HFg4ZVf/UuFnvD1hB6BGI8vOBdoVRiU+LYA5xKkK7\nkbYpxF1G84n9bUHiN8O6FUjSvKa5DtpouRhTVRXQDhFJfdfK1WbJdsH2+z/9\niROvPCmYSJ8ilYMlk05YotcQA10A7LgqIsiv5tYYLmq/rSoKpf4fTQZQVCtg\n+4fU56rRnL4LuAlEhi7cP9Q6s4xCOki/szgDLfvj6mZ7XKw/3ZGYHHYMMbvV\nNTmvBoyyfD/eviRAQSOLOdFq6gS87Ef1es6FyrsBzOrPglOVwSwtuOV/2jJf\nZGWA+U4BlPAF4N/RZyAraBhlA/XmxmW4xUpPfg1LjKeFTjI5DUuHTC2c7pDO\nNWsgEmGYJBc7f5O39cqA0CgK23z609RDValJrwZYVsn5AYFSLTAWrD/AC9NT\nYoBoaUFw6rKB7pE895hIwVjsjBsLi/yfy8exmLYhoB5M1MOt0IMDvRfrNrR6\n2ZKf\r\n=HRev\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.0.1_1559122430720_0.010960021667424602"},"_hasShrinkwrap":false},"7.5.0":{"name":"@angular-builders/custom-webpack","version":"7.5.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/7.x.x/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.13.2"},"_id":"@angular-builders/custom-webpack@7.5.0","dist":{"shasum":"a998fe869882f4605abd28e1a7917030e3f57545","integrity":"sha512-BaNCvDG+BYsStF6l6OrR8jPnjyNhx40jF5UHAwobBIZh7d0u8GbydL4uw823rayCk/TUENunZSsvwg7epy0N/A==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.5.0.tgz","fileCount":42,"unpackedSize":58466,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJc88fQCRA9TVsSAnZWagAAG0YP/3S7Rj05Mv8nKpcFBeYe\n63jFK57qjbELgltT1D8BZXD20csyYaBh+TiMvaDw/AJQm38OZoduwIx4D9w3\n8KYXnmyhiLDLisnaofIyzfb0awozrTv1SJJUBAg3fyDUL6VBeca8rPY4hv3C\nd7L+ci+Pcz3CVVkYr4J6UcT5k0HFJ78qjGTcTw5VVxsOrZvXpHDvFo+3l9fw\n4J3BeXJMMyVcKbto+naK3k107a5a6QFVxmSxlVxteHFlf857euqLkSvnqorI\n21bUW0azAnPyj1irD1txurwPTvaH5XnLkQ+5Yx273fCL4WHbkcEvcmRGieF7\nf2LRIZ+J99anedq24euFQZUsuN8l5PcDi31NzOox2aobuo34Qaf+Y2gDoBNk\nqTAgKFm39BXamv32PnR4ZsP8HJfbIn8IYhCfl32lqmX7IPcSH1LfH92dyMBD\naGIWntON+ntXD5ROewXNdDvcdjsWztDsRFCZJ5uwG8quxAoBxdsL6hytVtdS\nHjFagP21TJNrbVtrJaNv9TwhIBkfh+MtkTZEF/TPkBJ9HZH6kGGL+bXnTQCn\n9gTTjICafGQXLuCAbCKMiC4KpU2rHiiAfTlSkeZonM8cFpmRh0CXLqD7pX6w\nq43U7tbWrEKTWnru6brxS/pWcgYIVlxdZtD3QduHe1XxxMmTNXZI+mymRGmR\n8VTZ\r\n=qT/O\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.5.0_1559480271614_0.769074786792175"},"_hasShrinkwrap":false},"7.5.1":{"name":"@angular-builders/custom-webpack","version":"7.5.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/7.x.x/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.13.2"},"readmeFilename":"README.md","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# Prerequisites:\n\n- [Angular CLI 6](https://www.npmjs.com/package/@angular/cli)\n- [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.10.0\n\n# Usage\n\n1. `npm i -D @angular-builders/custom-webpack`\n2. In your `angular.json`:\n\n```\n\"projects\": {\n    ...\n    \"[project]\": {\n         ...\n         \"architect\": {\n                ...\n                \"[architect-target]\": {\n                          \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|extract-i18n]\"\n                          \"options\": {\n                                ...\n                          }\n```\n\nWhere:\n\n- [project] is the name of the project to which you want to add the builder\n- [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n- [browser|server|karma|extract-i18n] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [extract-i18n](#Custom-webpack-extract-i18n)\n\n- If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:<br>\n  `ng run [project]:[architect-target]`<br>\n  If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For example\n\n- angular.json:\n\n  ```\n  \"projects\": {\n      ...\n      \"example-app\": {\n           ...\n           \"architect\": {\n                  ...\n                  \"build\": {\n                            \"builder\": \"@angular-builders/custom-webpack:browser\"\n                            \"options\": {\n                                  ...\n                            }\n  ```\n\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:extract-i18n](#Custom-webpack-Extract-i18n)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood). The builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:browser\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"externals\": \"replace\" }\n                     }\n                     \"outputPath\": \"dist/my-cool-client\",\n                     \"index\": \"src/index.html\",\n                     \"main\": \"src/main.ts\",\n                     \"polyfills\": \"src/polyfills.ts\",\n                     \"tsConfig\": \"src/tsconfig.app.json\"\n              }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood). The builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:server\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"module.rules\": \"prepend\" },\n                        \"replaceDuplicatePlugins\": true\n                     }\n                    \"outputPath\": \"dist/my-cool-server\",\n                    \"main\": \"src/main.server.ts\",\n                    \"tsConfig\": \"src/tsconfig.server.json\"\n              }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config.<br>\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom webpack Karma\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood). The builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n\"architect\": {\n    ...\n    \"test\": {\n              \"builder\": \"@angular-builders/custom-webpack:karma\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\"\n                     }\n                    \"main\": \"src/test.ts\",\n                    \"polyfills\": \"src/polyfills.ts\",\n                    \"tsConfig\": \"src/tsconfig.spec.json\",\n                    \"karmaConfig\": \"src/karma.conf.js\",\n                    ...\n              }\n```\n\n## Custom webpack Extract i18n\n\nThe Angular CLI provides tooling to manage [Internationalization & Localization](https://angular.io/guide/i18n) via the command `ng xi18n`. Under the hood this uses a separate builder `@angular-devkit/build-angular:extract-i18n` to extract `i18n` attributes from the source code and generate translation files in various translation file formats (XLIFF 1.2, XLIFF 2 or XML Message Bundle (XMB)). Quite often the out-of-the-box tooling falls short for real world i18n workloads which necessiates augmenting the tooling with a library such as [@ngx-i18nsupport/tooling](https://www.npmjs.com/package/@ngx-i18nsupport/tooling). This type of library provides schematics and architect builders to support a dynamic i18n workflow, primarily adding merge capability to the translation files.\n\nIf this library is employed to provide a Custom webpack config these architect and builder targets will fail to observe the custom webpack configuration. Analogous to why one would need to use the [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma) builder to generate a custom webpack build and have the `ng test` function correctly one would need to use the `@angular-builders/custom-webpack:extract-i18n` target to use the Custom webpack configuration and have the translation files generated accordingly.\n\nAn example of this is whereby additional loaders/plugins are specificed in the \"extra-webpack.config.js\", which, when not present would yield a broken build.\n\nThe builder will run the same build as `@angular-devkit/build-angular:extract-i18n` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:extract-i18n` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n{\n    \"architect\": {\n        \"build\": {\n            \"builder\": \"@angular-builders/custom-webpack:extract-i18n\",\n            \"options\": {\n              \"browserTarget\": \"my-cool-angular-app-arch:build\",\n              \"customWebpackConfig\": {\n                \"path\": \"./extra-webpack.config.js\",\n                \"mergeStrategies\": {\n                  \"module.rules\": \"append\"\n                },\n                \"replaceDuplicatePlugins\": true\n              }\n      }\n    }\n  }\n}\n```\n\nSupplemented by the `extra-webpack.config.js` Example:\n\n```\nconst I18nXlfAnnotateAppVersionPlugin = require('./build/i18n-xlf-annotate-app-version.plugin.js');\n\n/**\n * This is where you define your additional webpack configuration items to be appended to\n * the end of the webpack config.\n */\nmodule.exports = {\n  plugins: [\n    new I18nXlfAnnotateAppVersionPlugin()\n  ]\n};\n```\n\nIn this example our custom Webpack plugin (I18nXlfAnnotateAppVersionPlugin) will be appended to the Angular CLI's underlying webpack config.  When run will attribute the translations `file` node in the xml with the app version contained in the `package.json`.\n\n# Custom webpack config object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.<br>\nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`. The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.<br>\n  Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n\n  ```\n  {\n     test: /\\.css$/,\n     use: [\n       {loader: 'style-loader', options: {...}}\n     ]\n   }\n  ```\n\n  The builder will take care of merging the delta with the existing configuration provided by Angular.<br>\n  In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry). See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied. **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\n## Merging plugins configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.<br>\nIn case of the conflicts your configuration will override the existing one.<br>\nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.<br>\nFor example, if you'd like to add an additional entry in `excludeChunks` list of `HtmlWebpackPlugin` you only have to specify this single entry:\n\n```javascript\nnew HtmlWebpackPlugin({\n  excludeChunks: [\"webworker\"]\n});\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.<br>\nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/meltedspark/angular-builders/issues/13) issue.\n\n## Custom Webpack config function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function is called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```javascript\nconst webpack = require(\"webpack\");\nconst pkg = require(\"./package.json\");\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version)\n    })\n  );\n\n  return config;\n};\n```\n\n# Further reading\n\n- [Customizing Angular CLI 6 build - an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","_id":"@angular-builders/custom-webpack@7.5.1","dist":{"shasum":"e6b6298f6b9b5cc3a64879d86dd3d1c84cdde312","integrity":"sha512-lHj7nUfxALgzPKj7MQGBYCqLm1NrOCkABWkvWUp0+hUhmQuwtPJp+Ea7rSh30vjUoZ9aXN+9vRtR1yOrWgMtRQ==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.5.1.tgz","fileCount":42,"unpackedSize":58466,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJc88ggCRA9TVsSAnZWagAAQ/0P/0T4x0EqlswY6JZbTLJ+\nydWp0TFcr/rckKCadJdCJkVRY3ghB0iwRb+39nGE/UF5tmolgxtSm0ky5EoT\nlP5iZuU5JzEykkOCOrI8tkrTHSeAIjsPgFxIybHBjNSsJ5XLAAczbhTAwqac\ngiE/UkJJ0jnaOLu6yAAjFqanCvT2DhzNVClAmCeWiItkGwaxg+HmjoU6ohbI\nvlbH95Kd5cWAi4YqqkQXuZwGGt2siCMe15D3DroPSlsE0p3j8YdcULgkSMhI\ntrnKD4geugQi00MwZycXwuACTnPWUKmKmsBjtwM8VJkqSkm1GSiz5rIUYIEn\nw2L6ABp6+UfUyKSlAtmF3ML6mMpubv8FcYB8FXYEl8a/cGlNndnIUv7cUSCH\nS6G34O8hb/SL7l5HP/vn55zDPyxNIOyI9fRsFFmV1+GWLC/Q7RpR1w1u9Cl9\neoQLFXYU+R67/zLsK3IGRpidiHDuptelC76hf2sdwHfLrdphv/Wy+PZhlgri\nszjn+FaXLtXvz1Epe4alG6XOxvORmzfhdoTpqhMN5FORpvmfk9dzZJJy8CV3\nL2Es5fc1DzJTJB6ZYQu+YL6cQRWls1wYEjubhuUl1xQ7hNML2cFv56+qto8a\n//eu5BEqO2uj/5tmNJPVo5bBKbbh7eB1dNJv8OHCy4khb1ZO5qKmHAe2GP26\nSgju\r\n=2lrb\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.5.1_1559480352314_0.7829997558565096"},"_hasShrinkwrap":false},"7.5.2":{"name":"@angular-builders/custom-webpack","version":"7.5.2","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"src/index.js","typings":"typings/index.d.ts","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/7.x.x/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=8.9"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"postbuild":"yarn test && yarn run e2e","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10"},"peerDependencies":{"@angular-devkit/build-angular":">=0.13.2"},"readmeFilename":"README.md","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/7.x.x.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n## This documentation is for version 7, which is compatible with Angular CLI 7 and incompatible with higher versions.\n## [Documentation for latest version](https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack)\n\n# Prerequisites:\n\n- [Angular CLI 7](https://www.npmjs.com/package/@angular/cli)\n- [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.13.0\n\n# Usage\n\n1. `npm i -D @angular-builders/custom-webpack`\n2. In your `angular.json`:\n\n```\n\"projects\": {\n    ...\n    \"[project]\": {\n         ...\n         \"architect\": {\n                ...\n                \"[architect-target]\": {\n                          \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|extract-i18n]\"\n                          \"options\": {\n                                ...\n                          }\n```\n\nWhere:\n\n- [project] is the name of the project to which you want to add the builder\n- [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n- [browser|server|karma|extract-i18n] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [extract-i18n](#Custom-webpack-extract-i18n)\n\n- If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:<br>\n  `ng run [project]:[architect-target]`<br>\n  If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For example\n\n- angular.json:\n\n  ```\n  \"projects\": {\n      ...\n      \"example-app\": {\n           ...\n           \"architect\": {\n                  ...\n                  \"build\": {\n                            \"builder\": \"@angular-builders/custom-webpack:browser\"\n                            \"options\": {\n                                  ...\n                            }\n  ```\n\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:extract-i18n](#Custom-webpack-Extract-i18n)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood). The builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:browser\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"externals\": \"replace\" }\n                     }\n                     \"outputPath\": \"dist/my-cool-client\",\n                     \"index\": \"src/index.html\",\n                     \"main\": \"src/main.ts\",\n                     \"polyfills\": \"src/polyfills.ts\",\n                     \"tsConfig\": \"src/tsconfig.app.json\"\n              }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood). The builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n\"architect\": {\n    ...\n    \"build\": {\n              \"builder\": \"@angular-builders/custom-webpack:server\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\",\n                        \"mergeStrategies\": { \"module.rules\": \"prepend\" },\n                        \"replaceDuplicatePlugins\": true\n                     }\n                    \"outputPath\": \"dist/my-cool-server\",\n                    \"main\": \"src/main.server.ts\",\n                    \"tsConfig\": \"src/tsconfig.server.json\"\n              }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config.<br>\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom webpack Karma\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood). The builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n\"architect\": {\n    ...\n    \"test\": {\n              \"builder\": \"@angular-builders/custom-webpack:karma\"\n              \"options\": {\n                     \"customWebpackConfig\": {\n                        \"path\": \"./extra-webpack.config.js\"\n                     }\n                    \"main\": \"src/test.ts\",\n                    \"polyfills\": \"src/polyfills.ts\",\n                    \"tsConfig\": \"src/tsconfig.spec.json\",\n                    \"karmaConfig\": \"src/karma.conf.js\",\n                    ...\n              }\n```\n\n## Custom webpack Extract i18n\n\nThe Angular CLI provides tooling to manage [Internationalization & Localization](https://angular.io/guide/i18n) via the command `ng xi18n`. Under the hood this uses a separate builder `@angular-devkit/build-angular:extract-i18n` to extract `i18n` attributes from the source code and generate translation files in various translation file formats (XLIFF 1.2, XLIFF 2 or XML Message Bundle (XMB)). Quite often the out-of-the-box tooling falls short for real world i18n workloads which necessiates augmenting the tooling with a library such as [@ngx-i18nsupport/tooling](https://www.npmjs.com/package/@ngx-i18nsupport/tooling). This type of library provides schematics and architect builders to support a dynamic i18n workflow, primarily adding merge capability to the translation files.\n\nIf this library is employed to provide a Custom webpack config these architect and builder targets will fail to observe the custom webpack configuration. Analogous to why one would need to use the [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma) builder to generate a custom webpack build and have the `ng test` function correctly one would need to use the `@angular-builders/custom-webpack:extract-i18n` target to use the Custom webpack configuration and have the translation files generated accordingly.\n\nAn example of this is whereby additional loaders/plugins are specificed in the \"extra-webpack.config.js\", which, when not present would yield a broken build.\n\nThe builder will run the same build as `@angular-devkit/build-angular:extract-i18n` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:extract-i18n` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```\n{\n    \"architect\": {\n        \"build\": {\n            \"builder\": \"@angular-builders/custom-webpack:extract-i18n\",\n            \"options\": {\n              \"browserTarget\": \"my-cool-angular-app-arch:build\",\n              \"customWebpackConfig\": {\n                \"path\": \"./extra-webpack.config.js\",\n                \"mergeStrategies\": {\n                  \"module.rules\": \"append\"\n                },\n                \"replaceDuplicatePlugins\": true\n              }\n      }\n    }\n  }\n}\n```\n\nSupplemented by the `extra-webpack.config.js` Example:\n\n```\nconst I18nXlfAnnotateAppVersionPlugin = require('./build/i18n-xlf-annotate-app-version.plugin.js');\n\n/**\n * This is where you define your additional webpack configuration items to be appended to\n * the end of the webpack config.\n */\nmodule.exports = {\n  plugins: [\n    new I18nXlfAnnotateAppVersionPlugin()\n  ]\n};\n```\n\nIn this example our custom Webpack plugin (I18nXlfAnnotateAppVersionPlugin) will be appended to the Angular CLI's underlying webpack config.  When run will attribute the translations `file` node in the xml with the app version contained in the `package.json`.\n\n# Custom webpack config object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.<br>\nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`. The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.<br>\n  Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n\n  ```\n  {\n     test: /\\.css$/,\n     use: [\n       {loader: 'style-loader', options: {...}}\n     ]\n   }\n  ```\n\n  The builder will take care of merging the delta with the existing configuration provided by Angular.<br>\n  In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry). See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied. **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\n## Merging plugins configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.<br>\nIn case of the conflicts your configuration will override the existing one.<br>\nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.<br>\nFor example, if you'd like to add an additional entry in `excludeChunks` list of `HtmlWebpackPlugin` you only have to specify this single entry:\n\n```javascript\nnew HtmlWebpackPlugin({\n  excludeChunks: [\"webworker\"]\n});\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.<br>\nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/meltedspark/angular-builders/issues/13) issue.\n\n## Custom Webpack config function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function is called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```javascript\nconst webpack = require(\"webpack\");\nconst pkg = require(\"./package.json\");\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version)\n    })\n  );\n\n  return config;\n};\n```\n\n# Further reading\n\n- [Customizing Angular CLI 6 build - an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","_id":"@angular-builders/custom-webpack@7.5.2","dist":{"shasum":"de475d211bbb2838cbdee5744432f2eaaab787b0","integrity":"sha512-QvH/4cr8RYC7+A67/ASCoizrFdnMDhs05ZZ+3wrkWlj+nbKI9eKTJIdfBsDm0qP+zEx1d9Hr6oz6CXNNwuMA9g==","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-7.5.2.tgz","fileCount":42,"unpackedSize":58712,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJc88zACRA9TVsSAnZWagAA4LIP/i+5kkwvcFlDJTr28eXs\nJvTaPdd0Q7SQNbyqKJUMAExYSIwcdqsJ6gVz1xpoMBp00sQ5NrK1MUzFbGZB\n8HLf+qf3i0e/eAUl6pI4j4ryPl6mr62TlsrB/MHqD7OQvnY5ixG+nX09gOqA\nEeWQppDO3WfpFXba10190QmYRMdLOc6GViggI1/uwnl8HRPDL2eeTXHRmWwZ\nvpvOVIA6sCvzNMb5ebsO4X3m/7idokmno544A7YyBLrCQ7Ekghb9YJ8B7v+D\nXJirN9cljDVNaa3xtShHrkxb8Mx/QvfjtNP2RK+ekLvYup/Ugv2jbfddj0k+\nf9VaVqWKnCcui2NmH1muqK8yVjS6EsGlrJKsfy6wngXCQZAQe9s4ZRRK4v/Q\n6j93mu/eoNK5C+4xkzDqR0RFq3TkfdLs7SlP2JNGnt6FbQaH0yZRTXfevt9q\nSx+KizMdLilqZsJYD+jkWVkAWFdmtHvJOF8sZKRkT2kpHoJX4RPct30WO5rl\nMmyG8xBZPlUxo0ZR6H/a5INE2YT8IDUjhNz7+5ebix1u+eNUD1odxmMMQUFU\nRjVbChjOMn2qDmG5ZLMdUTHIQPxmsQGXkFWYc5dj1xhNP7KW7RbMgvuGDtRR\n5Vg4Wuz/DRUbkvh/+TDJDk27Bli6exxmfaQQPIbdhVp0Yx/ybvZN7W8VAu81\ngPAt\r\n=b+Zn\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_7.5.2_1559481535642_0.17175998054461483"},"_hasShrinkwrap":false},"8.0.2":{"name":"@angular-builders/custom-webpack","version":"8.0.2","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.800.0"},"gitHead":"b3e62214c1190f5d5609cad5a14cd58637d660a1","_id":"@angular-builders/custom-webpack@8.0.2","_nodeVersion":"10.15.0","_npmVersion":"lerna/3.13.4/node@v10.15.0+x64 (darwin)","dist":{"integrity":"sha512-ZxR931h0FX/5YZC6RBBczeMkgwOO0eD83EoOtjcshK2mw6jBarONlifhr6Ud0ALyU7fGueOCTgqgGaVwT1QEbw==","shasum":"0303d87e13f3fe3336098875ed109e093ab0c49b","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.0.2.tgz","fileCount":38,"unpackedSize":66585,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJc886sCRA9TVsSAnZWagAABVwP/Aq/juVoMfE+MyqANIe1\n/0JumGHg+rxE+8VowIEw7xNrfOyTIxcOoU2sTA19WIumi1xMUcrGCVJP3Hs8\nxJcV/M/w5my6ZzIdkiHkxEynL2nXONKItRAVONcmYSBK4IRP8S7vNU2xFzQH\n3sw6ap3mOgmi8LsMiqII6zLBc2vtPzRRufYgvSYQFrTgoYbUJ0g4p5isWPGh\nmZhQG9hoTXT1+JHpCVEb6dElTwMVdcBQc1CKHKviQ4pn7XoR+7lpd3lLtjG1\npqH2jiqPU6mB9UUrlY6YZzAAOsL2RF57QndTmjf7Tzddgk3VPHwr/3Du+ktI\nQki0eifSYGXzXtMZLfUXRVz9wkceH0Apa7qJXhS64CLNbZQdgeFyBRurOuXu\nZCnQUeuE8HSZ1ZPFTpxRQiNY3O3yDe59JiJm4u280Ra3VKou5ExiJLYvBHjH\nOq4jCZh1903SrF5HFq3DbhVAEPIgl4o1DnMXDguVkwbJ866tsBSVmk9pqhI1\nv0dBrYrkoAmhTU2g7GGEEkLKRLtPhQ6O8d3Nk5yfNnCoRv1oqXH+AP62k10x\njhiABGesNZ2jDMwQaWNY3jyAN11xVc4Uh5ao7n9R6zC7KzrB6LSzZ+u9eCum\nWxLI77QPkgmeWwzYvSCIkPRNHH6wKVefCrh9zTYId4i+Vo3X1xBvV83nVhtU\n9bLB\r\n=2tNF\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.0.2_1559482027436_0.7530002711901633"},"_hasShrinkwrap":false},"8.1.0-beta.0":{"name":"@angular-builders/custom-webpack","version":"8.1.0-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.800.0"},"gitHead":"db0e23a755152e3d9fc4d4b203c52c4f83d14394","readme":"# Custom webpack [builders](#builders) for Angular build facade\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 8 only. Find documentation for version 7 [here](https://github.com/meltedspark/angular-builders/blob/7.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n - [Angular CLI 8](https://www.npmjs.com/package/@angular/cli)\n - [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.800.0\n\n# Usage\n\n 1. ```npm i -D @angular-builders/custom-webpack```\n 2. In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n                  ...\n            }\n     ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n 3. If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n ## For example\n  - angular.json:\n    ```js\n    \"projects\": {\n      ...\n      \"example-app\": {\n        ...\n        \"architect\": {\n          ...\n          \"build\": {\n            \"builder\": \"@angular-builders/custom-webpack:browser\"\n            \"options\": {\n                  ...\n            }\n     ```\n  - Run the build: `ng build`\n\n# Builders\n\n - [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n - [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n - [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n - [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom webpack browser\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:browser` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n - `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": { \"externals\": \"replace\" }\n      }\n      \"indexTransform\": \"./index-html-transform.js\"\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom webpack server\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:server` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n - `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": { \"module.rules\": \"prepend\" },\n        \"replaceDuplicatePlugins\": true\n      }\n     \"outputPath\": \"dist/my-cool-server\",\n     \"main\": \"src/main.server.ts\",\n     \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended. \nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom webpack Karma\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n - All the `@angular-devkit/build-angular:karma` options\n - `customWebpackConfig`: [see below](#custom-webpack-config-object)\n - `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      }\n     \"main\": \"src/test.ts\",\n     \"polyfills\": \"src/polyfills.ts\",\n     \"tsConfig\": \"src/tsconfig.spec.json\",\n     \"karmaConfig\": \"src/karma.conf.js\",\n     ...\n    }\n```\n\n## Custom webpack dev-server\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.  \n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.  \n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n`angular.json`:\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n         path: \"./extra-webpack.config.js\"\n      }\n      ...\n    } \n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n        \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n# Custom webpack config object\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n - `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n    The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n    Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:  \n    ```js\n    {\n      test: /\\.css$/,\n      use: [\n        {loader: 'style-loader', options: {...}}\n      ]\n    }\n    ```\n    The builder will take care of merging the delta with the existing configuration provided by Angular.  \n    In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n - `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n    - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n    - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n    - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n      See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n - `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n    **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n    \n## Merging plugins configuration:\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the *delta* you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nnew CircularDependencyPlugin({\n  allowAsyncCycles: true,\n})\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/meltedspark/angular-builders/issues/13) issue.\n\n## Custom Webpack config function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      'APP_VERSION': JSON.stringify(pkg.version),\n    }),\n  );\n\n  return config;\n};\n```\n\n# Index transform\n\n### Important:  \n___Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`.___\n\n___Until these versions are officially released you can install them by running:  \n`npm i -D @angular-devkit/build-angular@next @angular-builders/custom-webpack@next`.___\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n```typescript\nexport interface Target {\n    configuration?: string;\n    project: string;\n    target: string;\n}\n```\nIt is useful when you want to transform your `index.html` according to the build options. \n## Example\n`angular.json`:\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n`index-html-transform.js`:\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n    const i = indexHtml.indexOf('</body>');\n    const config = `<p>Configuration: ${targetOptions.configuration}</p>`\n    return `${indexHtml.slice(0,i)}\n            ${config}\n            ${indexHtml.slice(i)}`\n}\n```\nThe example adds paragraph with build configuration to your `index.html` .It is very simple without any asynchronous code but you can also return a `Promise` from this function.  \n\nFull example [here](https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further reading\n\n - [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@meltedspark/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@8.1.0-beta.0","_nodeVersion":"10.15.3","_npmVersion":"lerna/3.13.4/node@v10.15.3+x64 (linux)","dist":{"integrity":"sha512-tSgJvDnIS9yxDflW8Iz49JDDZlAGUS2ufrpuFWogGRVYkYn5DLv98aP5R8DcO2lINdXu8fCXTXA1Qnt8eGxxOA==","shasum":"ee6495421b5afd58a575be43a3efe916bf66efbb","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.1.0-beta.0.tgz","fileCount":38,"unpackedSize":72094,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJdD/gvCRA9TVsSAnZWagAARFgP/3JtC0Ue9bQudJjjpAfv\nfnv2ZsomVypXgqattgJiiSHwYJ3vAAsKAkNz+/tWnaZ1ZACHjCPVqVBpJWlQ\n6F5BoDmDYzmCi7taNlWrXR+IWwwgSlUITcGRpHv3Jimc7uW/n5UFPYabf9K9\nWmb/dYh03I76IWLXznJqKZvG9l/YNvvk9SJAxUz4poEEP7mpdbgM+AEO3T12\nIWLMHECSOPGG6GJACBOdDl2U7iPMdgMGhmyPSvwStlY+DUBhbei1a0waQMbk\nXjWBQs1Bjmf0qt3XYeQPWP0AavGYQSCm0GDyKjkg5R7SoMMDGZ8/l+3RLYcW\nJfRmiztwd0TOrLgK3v1ktj9miFDii5ia1SlaZWeGVAV/L3CGbzgwsI8QaqCo\nStbCnRF0ck3BUO2Dqj8L8Gq9Niv0RnxCGRUf74rf2I+Nm5DqOJyOLgSP64Jn\nniq1HHPmTp7lbU9ymIUC61vCn+0R37kdxzJW1jxI8jwQB70JDVuClOk7/jk0\nCtXB9sUudyicV/A4pI3GB/zVnWIHKVjzEDvJPlCLA5W3Pn4Ngdwa4I90Tykv\n9+PjVSVIXGwd39vrG0z2fO8RZ2RGaeeZc4XbsQMD1/HoQlGl8VU0GCpjALn5\nS0UfuBzATY+y+pHSpWBm43+PDP+fN1Z5Sc1tjqVzH4wA5L6TRBo8YhYjjjSV\nodfJ\r\n=U0yd\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.1.0-beta.0_1561327662372_0.8931524429204667"},"_hasShrinkwrap":false},"8.1.0":{"name":"@angular-builders/custom-webpack","version":"8.1.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.801.0"},"gitHead":"26e00c3b9a08b3cc81552e85637a0173143d84da","_id":"@angular-builders/custom-webpack@8.1.0","_nodeVersion":"10.15.0","_npmVersion":"lerna/3.13.4/node@v10.15.0+x64 (darwin)","dist":{"integrity":"sha512-5JOrq+J6BhCG8VK8R4vdWfEFXBeNfH32U/3CfAzb3YxnKpPJgNmyPMy+wnK0byLJKIp3IsF5rkpq43d/ZyPRaw==","shasum":"63a3b7ada2cd01a0c02db4e7d18f52cfbaa62678","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.1.0.tgz","fileCount":38,"unpackedSize":73179,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJdJfI2CRA9TVsSAnZWagAAqNUP/1CgAshJPX7Ggrrfcv9Y\n8Pmld6H2uqKOqVmbKBGXWMe5omgVrA2fMTVy/BEE0fkm8dAl0Tw9VlIwuXSw\nattBNoC4oxzcTflCV/7UHY05qSAVWgVM5TY0EvIjxT7Wx5HkAWKpxvjZDlbp\nCnZqA6WjJARJDBJnLEgmGZvM+yNdJOb4LGdIvKmydmu97mfr6daGDR7Y5b22\n5mBr0XU39OTILVfioQdXtlUBevcoXIKv8ssa1S8dy4pb8R/NYS5FR/R0uvDu\nlraaDgFXjIED912q51HTS9MiqtigC3a/Ip0JNgUvdb5vstKrVUHeGYwdv8RH\nHGFIsNxQE//X37I2EgwqxAgdChJy25Q9EGsb8QySyJ0ve3v39oNox87fiinC\nmvpY0/d+On8TM03d2VJAd30vnHNLiDwKhGNkEh2bc0edxrIx9eQgr0BqbZ1y\nA5ALMd4nBDR3jPg9fUGT2lAcdmQlI0/ECa/T8SID7yK9ty20i+yrqH0KmkQz\nhjsl1efCleEfkAv2Trf2jpcnWeXIs1kWR0If9CSFSfO7//0N9pBh+nlFGCP4\nPvunTc+NXJ2Y4qidJjjT7puMM1/TItG4YIUL5MVddy30GDDoTwMPM8uAMU8Q\nltX55Cps2MVxSQCFro5bi8vqwot3m+e8ysO5/S6zlgcq5+2ODADe2fwQBqhR\nBPFK\r\n=vi1N\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"meltedspark","email":"meltedspark@gmail.com"}],"_npmUser":{"name":"meltedspark","email":"meltedspark@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.1.0_1562767926215_0.08829354091651487"},"_hasShrinkwrap":false},"8.2.0":{"name":"@angular-builders/custom-webpack","version":"8.2.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.801.0"},"gitHead":"0fc642eceb4672b1c17565afec8a3c411adaaf1d","_id":"@angular-builders/custom-webpack@8.2.0","_nodeVersion":"10.15.3","_npmVersion":"lerna/3.16.4/node@v10.15.3+x64 (linux)","dist":{"integrity":"sha512-6654RfyqhTGhCI0edC9YU/iMn1UJnzX01bxYJbDWFgvReCqXdlgy+Fe9tp1MeqKweX6BQ1d0gRroR/WjY1aX0A==","shasum":"e0aa6237d62f709823c4930ca04f22244d1202ba","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.2.0.tgz","fileCount":38,"unpackedSize":74008,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJdWBuLCRA9TVsSAnZWagAA4zUP/3VoRKa4wYq2WEHfi446\nfpy6M+lJhujH4lhfyddGE7V/5BALBY5pUhRFG+XYaJHEJ4y9dFD57cbjS7As\n8MtUDTP/QCBk32yhhq4Yzr1N4/z1/LcxgD4p6TJI+fD+pjfsvKmmrKC5K4pO\nL/PorOd8SDatZ60ihi9Y4WXElktszoZiRTs3WdKfG9Dk4bmm4Rvs8P5ZsRCT\n/gR9ntFjVKe+bZqc1odEYSpBPhwLsKzFzpd+JdzXexq/8hbYlF4lwfZ7Nq0a\nzbY+4fDyctz8XECpW70aneYRO7MxfW+HqkyIk9HCrRrTa2m4ttguUMIicf8S\nNfyZDBYI33zOLPT6nOmy2BaePorrn08SkDSMjeR5speJxRYn/mcjrVZGeRfv\nQve2nShe+Cefjf/aRgl8zS3FFYVefcLo8NUKCJerZRWBLJ+0ho2KjPxMYlFw\n9ey0eXseUspResVrNZrtP6LrEh5zeq1vBBEEpaPSUWYSea+wUz6li0/gk3T/\nRlETM7GL9xy4rWoLtEvE4qFUG+9vQ9hzI7OjOe3zCeMmHFffe2IuiYsR0EkJ\noUKcp6h4hx/F8yinzP7y7mzdGgjq6ZM+dJBvkamkOougV3AGPHxbGUMfTw29\nzcY/VtRYTW7r3pOnsm7XQ4U9M9v/O9f2L4isjERkB7gKud71XAvw3IAgJZ3U\nuGO6\r\n=pC9X\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.2.0_1566055306284_0.21410774296694246"},"_hasShrinkwrap":false},"8.3.0":{"name":"@angular-builders/custom-webpack","version":"8.3.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.801.0"},"gitHead":"04b5c69a2b02bc69b45440c4b861f4039ba68600","_id":"@angular-builders/custom-webpack@8.3.0","_nodeVersion":"12.6.0","_npmVersion":"lerna/3.18.4/node@v12.6.0+x64 (darwin)","dist":{"integrity":"sha512-gkXuZ7h1cm7U4q/PxgkMAn6fjQpPihydZR1nmEQmbU1oIPWVRwfrrNlauzCRjMj4GRpVZgs7mPE+GAVdPZYatg==","shasum":"84b4335bf8e91e94ac1751b7d263d94b15e2a174","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.3.0.tgz","fileCount":38,"unpackedSize":76638,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJd0auoCRA9TVsSAnZWagAACDEP/3N3xnQU7l3io7UPCPkO\nDL8FaxRos2LzfdvW/NqiFmTeRjMEYogtc63Y8Ht57IgceaOeIeMPIwAP1pqg\nvQbkIr+R1UfWNppfxMPczffEpLBfgqUNl8h7Qqfi3Jh5riaKFmR5AKriZkiZ\nKjAFa0e3devsUqfaM5WeAYdqFG2cwJqj8j9Ei68bH406J/8oopiM3dmGAPzN\nxKU0uUc65OJWJWEmGchUUyXnlW2evEJlvSvoMNLfUZfBi2JxptyK0rTH50SI\nixVFVkMSvv1JdsHokY6MniBBj/d/xSQkA8PlQ4nM0yfVZA2SmcBH3bSGQFmd\nOlCoahHURqP337AhQaBaMRnw+Z4ZtcvltfRHGeLt0dfQp8MZGvIs2e9/y+/m\nqsv0GJbNrEqeaVMm2h2Diqqie4OFOscHUVVOM8+87A4Kvc5VsJyGfB5E0p48\nF/JHw1Os/QutqCUd6eTgB/X9KZkJa9PV3ePVRdcWR4JFdaxGoT1ld/34C2xS\ncrx/QPh2Uq+0zCu1XOJeni87ddtwkdMYRfLYRBDXQ35RPRaR48z30sGNygNo\nhUZaXhouqvOSuV33vtF876AZy/sMxmi0SKGrp7xKcplF1sjeypIERytTCIAp\n4m2CElakKbp2CUKMIen+/Aw4EwH5ya9BLpfk7ARkU+9vc6muTd3XLd5gt6a4\nDS7K\r\n=ZT3O\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.3.0_1574022056316_0.8515092774279818"},"_hasShrinkwrap":false},"8.4.0":{"name":"@angular-builders/custom-webpack","version":"8.4.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.801.0"},"gitHead":"857f092d7491cceadf183f804f409a9cd18f5e01","_id":"@angular-builders/custom-webpack@8.4.0","_nodeVersion":"12.6.0","_npmVersion":"lerna/3.18.4/node@v12.6.0+x64 (darwin)","dist":{"integrity":"sha512-I/U0zOwVAzBO1RRcF4zmX7enOruvfnHjXvxv5YQ4SkQaNtMo34xuX/8g+HQ4mMvY1/aH3sfBh8k8qzXqp4xD+A==","shasum":"7fb00b3caa12b0464849fba7da02015d8197025f","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.4.0.tgz","fileCount":39,"unpackedSize":79064,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJd1CQtCRA9TVsSAnZWagAA9/sQAJTo55RWcVqGHjghmtYu\n15qe8EObCjHT0vmeAvWkrEsr53h+C1ZJ/RacUxf4AeZExpWYxyXI3Ii3msg4\n0eo6n/DTRgJE9x0vho3U5jdIB4h0M77yZIfmC85PhWf98NCEiTVfaln3c9FM\nBZ0yPiaHbNKQwzAjmNXX7n/HjTs89L/+oJk5LFPXThQ3CwixaNyHReB6/vg5\n8Gnd5oCt3k/Vy/kt34s3+ZD6WAuPXXTWCXqCZ18zNplxpZSFYHsk9o6mM3ql\nn+UarB0lo+cPjxRqGgwhqz/Rto59ohDE41V6emgcoHtyfNDSGf7gLPk43uB1\nFSpK6WuFVmMdfsoKWVONyL6SG8m7VMEL95ozkEsJt+DOiMyaMtwelyP5M1Qq\ncbYvZWejUSPW5dm+iOCcf9ejFvYfmk4iv/wqhYdo2tnTgu6ek3P5YD1qRFsf\nWqRfzagAv3Cvinz1t74jnrMCVZhyo6Mn+g4s6dsgl493pHX3TH8R971r+NJB\n95cDFByHXrkmtvM/L9wE1Vx8AB5fPu9Gwj1F1NBrEujELoVNDL19H3FnEpZF\nJ0rcLApvoOVdYPYVYu/uZ2qwnXj33vSvrzBbf3Yk7LTsQh7gqvk/F3SK53ob\nFLnCyDK1RTszscWfx9BWHQ94h/G6la7yiq5+Q9f0IEgn7bpv3bFclX+0CKjL\n7brP\r\n=Puiw\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.4.0_1574183980963_0.2265352002231782"},"_hasShrinkwrap":false},"8.4.1":{"name":"@angular-builders/custom-webpack","version":"8.4.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"peerDependencies":{"@angular-devkit/build-angular":">=0.801.0"},"gitHead":"1f5f484ea0dcbeb1a900fc0bc20b135963b003e0","_id":"@angular-builders/custom-webpack@8.4.1","_nodeVersion":"10.15.3","_npmVersion":"lerna/3.19.0/node@v10.15.3+x64 (linux)","dist":{"integrity":"sha512-FbBt4mFbAxETdYLb6tTX869pIpm8nMiCpT34jROejuqLtsljymdqXhSCEWogWlel8ULAYus6BNdzZyRLyAkfqQ==","shasum":"f16583afe78e104d408c263dcb0d4345ce0be570","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-8.4.1.tgz","fileCount":39,"unpackedSize":80115,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJd4YrxCRA9TVsSAnZWagAAVfoP/35zZWj5Qowq4ZCu5Qui\nPR6WJUSFyLjzi9G/3k90O9vZPCdsv/oEK18OQlZ81Rg778cgW0d9W7Jrw+7d\nJVy47wqd10Jy2gr2posUGW/Ql2fUNMJJlvPY5ocjsqJZGMiystCeKB0zzbtD\nkg2tgYtV6K8SDaMlqHRaPb1gUZl7TOU0NKInfh92jb+21HWAPUGgCTk3O+tr\nOqctE5j425vpk1+NSuFgBgm038d4gA5EvnxKxswtz+8gT1IRnLUrK2qeLEg4\nGy3yXc/D1EoQOY2QZp11DM7FDpqYxX0+T0GWQ2NC9ccIx9K5o8IdJiQcSyod\nK8lKofY6N1adD6DdbFBiQVhiYgw92bJVFUYNtZRcEgM16XONblQckDH6YMWe\nbveR2oZeMDrO2mCVKx0kh14nk1lbKnrc7Y1bOuzvvkzxDZPr2nppHDU+NJnh\nQ6j4nE8UmbFckYEzGXOiS4fU1zDoHkHXKliINfSV+1sH38ZFBH0rA9U5JLoK\n+PM7iOz0icDrhWtIwd7YFpqneNioVjJgmMFZmKniE37raRQ6fRzZK7iadk3P\nwo3j2WdHkhycsk5m2NrYO8qwS1jrvLGH2+geO86TOSwP/1++MiNhz3BtNNX/\nQ8vT0Fsq02xkN/i5xbJhb6JEZLcGcDkkSlT9ZTfP3wJ/qq1m3tvdaXyqBVqH\nK/WS\r\n=fbh5\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_8.4.1_1575062256480_0.2935197444761388"},"_hasShrinkwrap":false},"9.0.0-beta.0":{"name":"@angular-builders/custom-webpack","version":"9.0.0-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0-rc.2","@angular-devkit/build-angular":"^0.900.0-rc.2","@angular-devkit/core":"^9.0.0-rc.2","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"cba4c2db6d719cc231b466195369bf6480b33b34","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) <!--![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg)--> ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 8 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 8](https://www.npmjs.com/package/@angular/cli)\n- [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.801.0\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.0.0-beta.0","_nodeVersion":"12.6.0","_npmVersion":"lerna/3.20.2/node@v12.6.0+x64 (darwin)","dist":{"integrity":"sha512-1HWNNlhQN7R93ApAz1WRSQjkG6YoLbsYu2tvzfNNS97gCcAfcs1bmWbL6eCF0miEv719ezRHtDf8uWaRyo+Yyg==","shasum":"039b9c3e574457c4be9a8665ab833a14523d1a55","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.0.0-beta.0.tgz","fileCount":39,"unpackedSize":83310,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeEPmvCRA9TVsSAnZWagAATa4P/2j/fD99Kk7/n5l471x8\nPRs4TlJ5yMQ3ankyZqnie50ui++D+dUzS+q22dOUdsybXmuZnP7fcgmKQPUV\n5Iq8U8KJthA62TqA/T6BisXKpNSkMc827f+Q//vn0BMT0Vn50TlWIKmCApwj\nxCTK4NK9frRpR7wCvYUP8EX5lPPZ37oWahUJSm1AuG93IpgqOHShmwV01rUP\nzsYIyhEAPDO9UwTeiEr7FmYcFKUNsAF7BB0K2UdfY7BiKsQ7F7Rb/MQPLV9e\nYOPDF4VgAvE5xWCx13RkzwG5uspDv9iDAp1uDJnIgsiTqAulbkW29UEj8blB\nyyCcpL2egA5IhB2ipQeCS++T/p4tmTVFTKjQiFoJpiJ2HMif1PRS982sVrto\nxWe9YhsToHa+y0n8hGivSTuwbNhld5jdqxtboSZgKn3GOvHrzZ/YwC1OFyV1\nqp6qBUGcctvz/ILGfXm+z1I1CMhA35GpV5MvI1Y9mcVwx9gFNAUUmU2l5gj0\n1AhmJJuckaMQZDUQHiwLSxpB5GIZL4TbU5+Mn+gW+bOPTBn2WZLiFfuGGkK4\nDrgnf3QJMZy/VcDvOGHHsdTqWaf+V5fT/TLVoTt3rAQQeh5/Au7N8fErvRWJ\nk38clDZ0zNUw2nNW/Sdi2roq7T/UzdxlEl+DTmNEuiJxcWt1CNEcstFt7lyF\n56LB\r\n=USrE\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.0.0-beta.0_1578170799381_0.6045121622853362"},"_hasShrinkwrap":false},"9.0.0-beta.6":{"name":"@angular-builders/custom-webpack","version":"9.0.0-beta.6","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0-rc.2","@angular-devkit/build-angular":"^0.900.0-rc.2","@angular-devkit/core":"^9.0.0-rc.2","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"3b685a32bfdc9fbd882f479a4fd4e7a3fb9a2ab3","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) <!--![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg)--> ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 8 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 8](https://www.npmjs.com/package/@angular/cli)\n- [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.801.0\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.0.0-beta.6","_nodeVersion":"12.14.1","_npmVersion":"lerna/3.20.2/node@v12.14.1+x64 (linux)","dist":{"integrity":"sha512-2r840MTd1XgvrkmN/CgRfLB0HM5woNm70CDnHTaft+IwEpKWF1OURPTdPXBHM0vXs985V69hhbsBViNvR0TItQ==","shasum":"75884035e9d1ccb2f960be26a67a597abdd72bec","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.0.0-beta.6.tgz","fileCount":39,"unpackedSize":84656,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeK2+WCRA9TVsSAnZWagAACV4P/33hsc82PijvQtFBrlBg\nNYFpDJXPuZGPKGP6cSKmV6IXt9Yujf4K5CR7Xn0pHK/XygveNkF4INYnrQSr\npIoyft/Rea7/JwFw6KLj4mlZVrFOg0vn82HFfrKez1X0DAfoNc0V8wMq7s51\nabDU3RA4vbH705awp+cS46D7huxD+LJO1jH8x73p80e/lB3I//ghPy88y5BB\nbUXsfmbhplex2gFU/1l6Mx7XGXhDrUB3Yx+zdcCNsFXETj6GMWdXSIstiewx\nME1ls24goazmrkOj18KIx8ZjKPVYunoO5buNxNtjEUZJuEbgLM9/HlQaxgma\ndF4wJAwLjC0KM8muVOCadV6ryTS5WbxpgAgRQpcnazaQRCll5dXlMlfvLooA\nfwPsdtgFfCcODypUTmhzpkBS0rXHPu4mryuFIksNwucifVjYCV8HQ24fdaI9\nRtqHPmMX/3m+6PBDR0tHvrMqvun/mEkCiypyMVfQAh3pKNE5FixqwPoZRSf5\nqKEoIVuwCEd06CrWQM8AMsqi3Lte0Gc6DeeExo4pvWGceHeOtV8LP5gNFbY6\n+8prRlGg4fiJ19Gg+R9Qjx9wwEZmXaj9zJ0iLKr8qy3wnAb9bcYf1TKz8ieO\nlDWbQBghfeZhJSAUXLQKQ6KwTToypMJWwDbwLtKrR8YuyL0WHy3hrb72Vecz\nJ3Rb\r\n=EbhW\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.0.0-beta.6_1579904917813_0.27331146888447866"},"_hasShrinkwrap":false},"9.0.0-beta.7":{"name":"@angular-builders/custom-webpack","version":"9.0.0-beta.7","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0-rc.2","@angular-devkit/build-angular":"^0.900.0-rc.2","@angular-devkit/core":"^9.0.0-rc.2","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"911e409432e5565ada681431c92c2fd0010e8a8a","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) <!--![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg)--> ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 8 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 8](https://www.npmjs.com/package/@angular/cli)\n- [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.801.0\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.0.0-beta.7","_nodeVersion":"12.14.1","_npmVersion":"lerna/3.20.2/node@v12.14.1+x64 (linux)","dist":{"integrity":"sha512-4TkeHIJIczuikLWpVu9MJ449zSCge6qC4sWV9vWwisD/Wr6YmkF4iNSeq7vmBkxHDbLsiZm5mZsbR0ItHZO/OA==","shasum":"5866f84b47a2ae9312a372d4c9f41a962da128d4","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.0.0-beta.7.tgz","fileCount":39,"unpackedSize":85004,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeLJYgCRA9TVsSAnZWagAAjY4P/0C4sFArb+a+BjJaUNuS\nc0WdP4LnIzvONGx1CaiIMxZLjQJO/Z2ygF/ARjQDg/QsUZwClh4MezMQX0lS\n5ouHfbNrVMdyTAkGGExo8Z1mdx8HmWgnk+n+yWuzqTk5z2gQzJhehzDCe0v9\nwYOmwHQ34NncO1ECk9DVraKHm6MZ7gkG63nn2bH7cF0AI4Sw5ycZi2NwVI1S\ntlI6J6prmNoBpS4/fslzhTpgvpOTx2vpYUmFFKJv4XcvAtmMs9ypbW1QqsvJ\n2nNStUxUrkCUCFMEQx0BmyxsW3zyCrZWn9BI/GfSe0npB8EVXwC7FEKI1lny\nz1WwBUKympTemu/BW2wnUkw+kX/IATFfTIsmCLEhq6NTPLnYGAljWiY5M/Lp\nwcRq4X9W/N9u6YDLmlXgM2nfHkZFl46biTnirY9ULiFlbrexXsD5fWkjaO9z\n3J6eSvT/+4Veg0OWxRrg7vqv5HARkOIaHT2OlmYoX8KiZrxKZgeFPKfvQrHn\nplZrofl2E+jTXHVMn0bcVjhg7KM1eriPg/KNlLAknGpMn7+zV7VfWPnTH6BO\ny4E5Uh+0xyoaVb+vk7kylRuyhdQysCJ0hFIzA+HaORWRsOy7//8Y48oXZ3UV\nyO7fjj9/MC8ybte5Nj52+EuJdPz1C9aOOOlEps0i/DDGslLDZe8gQrHZ7WOt\nEoO1\r\n=UHSm\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.0.0-beta.7_1579980320269_0.8724456170107553"},"_hasShrinkwrap":false},"9.0.0-beta.1":{"name":"@angular-builders/custom-webpack","version":"9.0.0-beta.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0-rc.2","@angular-devkit/build-angular":"^0.900.0-rc.2","@angular-devkit/core":"^9.0.0-rc.2","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"1060d09ad765ab66df002330261569ee82e79148","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 8 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 8](https://www.npmjs.com/package/@angular/cli)\n- [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.801.0\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.0.0-beta.1","_nodeVersion":"12.14.1","_npmVersion":"lerna/3.20.2/node@v12.14.1+x64 (linux)","dist":{"integrity":"sha512-xdY5TupLVKS/VfzKo6ytjFznO7yc/8Bybw2kPNyGVHVs3nIsL/WxWoZWo/nLYkGWUxx1bauYoH81csDMhdFtzQ==","shasum":"f10cc8e6cb13f55d1fc46856a7e73deeafa6f6c2","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.0.0-beta.1.tgz","fileCount":39,"unpackedSize":83592,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeMKwaCRA9TVsSAnZWagAAXDIQAJ5Ev/6rGzZMM1SS3JA8\nJwjwvimp21QTas1HfWMvl26eX4nK2gFzS5cc31/TJnjkkgpX4Km15YAtRAaj\ndlKaG31mVsnA2ylQSfDrxyUeJS2cxoonVHU8emsqIWwtGQiyJ7T1djZzcNR4\nhXh3xmDjV55pdJzyGJ8Kn2Q9ohrlj5AmPwOKLCFLCoYtRM8w5LOwfjhD4khW\n/wKZvW0raHJAXp52/eHzlu63gXqgI2USh8qrYJyJj7D9CfNxoJbLJfOvQIsX\nIooLfGYdnAVcrsy3afZCVn0RsszRfsf37e3v5RwVV2vUJq6b1leSoE80f8o6\nUSSEvcrVpSmYGE8qWRBEZB79CpbvHyzmA8hMoK8lZcWBpZusq+al9lBSgmPe\nH1mqCpKA50+IdElF+1rFTzynSeX9C/5DyCajGVN9wegJc4IGO4+4EV8A8KG7\neqQzSqRBxzLaTsoNfBZFZXThstVq54Y5h+A5VwgZWdgkonF002205rZ9qGDR\nbcOEZ4/rYoNCF0IOfUqFL48BCHr8MrdXeR6Q3rSburLs8sWO9xhL1ZVFIUPo\nCXLTfk2kA1S5jEG69QQ6YmUL2ZtSpP6Q0QnxRGXQueByLDxMom+JYlBgnFNC\nalrNWuBNVfAgwxacoXIVzA0CedEOcajMtGDOBtJT30RwfxAzw/+m8beTiNmz\nLv7u\r\n=W5w+\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.0.0-beta.1_1580248090022_0.3686297375210603"},"_hasShrinkwrap":false},"9.0.0-beta.2":{"name":"@angular-builders/custom-webpack","version":"9.0.0-beta.2","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0","@angular-devkit/build-angular":"^0.900.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"f0ce8bcdbd77ecc274dd939a4e4a36daa5809c0c","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 8 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 8](https://www.npmjs.com/package/@angular/cli)\n- [@angular-devkit/build-angular](https://npmjs.com/package/@angular-devkit/build-angular) >= 0.801.0\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.0.0-beta.2","_nodeVersion":"12.16.1","_npmVersion":"lerna/3.20.2/node@v12.16.1+x64 (linux)","dist":{"integrity":"sha512-T2RPiDLF6WbRlV7S7PQdExIpeD3gufQ4ATxi2Bm2KAWPlD+NkiLEuFivjxuDEbcDVviam3idixCloVSxIc5nuA==","shasum":"897859ceab1f7690b024cbdab784f5eafa3134a9","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.0.0-beta.2.tgz","fileCount":39,"unpackedSize":83879,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeUrATCRA9TVsSAnZWagAARdQQAIPHAQDaIhvTxTPJosYY\nemI1lxIZz3Op7UjMbPTbjYQ2rhKzEIasM5lTFZ9xIdAkmhDzG8oNTyYxXYQE\no5a5o6yDkrweeOog3InFLsb3jHpbC1ScUXKe9yXEMwDLAbwP/CMGROKGcSQz\nGh6wq65qiirXrwv9KPxT2a2ri2KuFjKog2Z7ttE1pM4y0XFSoOOrvsg7Q/GE\n0ETrToE1fldQ31j5uQBEq7900TKim9Xladc2UQSkY+nTWWpP8va0c8T1k03i\nixz2WesHpQ9Lnbs6b61EI7ZCQk8t4hI8PHaEWQPKFn/pQpafpAEKJNiAX6lU\nrFerNnKjfwj8CWAnvrUcQASmP8FAisSAaXznwH7q+0Uj4OCq84Lcwr83F2ww\nN8ssT2k0ahB2AgYY/1TmaNUwote8JSi+OFTkzcNEVkS3P7/ZAYx+8gQcrpAs\n34s1UBD3plIAhamvM/87RicSoVHCqngzdDpHfNQiivQQfSUCw/p5EMx/S4Kr\nxfo8NfOqSD9vekDoIjQDvrPLZ4NwLsRbBig7M9eoBoQy47KWhbPiHAb8oT/C\nidliUP6B8WJWoUZPaxLcWrl83sel8e6h/mwl2zDXFlrIFL0p9FTh+RqBejHD\nQofHgSjpARt0JAW0Xe6xCD+Y/+hTY1Bq0qmL7GQDoYrlC19AJXTvTUvD03AP\ny7Bd\r\n=CkEr\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.0.0-beta.2_1582477330585_0.844562085195985"},"_hasShrinkwrap":false},"9.0.0":{"name":"@angular-builders/custom-webpack","version":"9.0.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0","@angular-devkit/build-angular":"^0.900.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"c148f8cc3072727f8e1719d65ab610dac7fadf1c","_id":"@angular-builders/custom-webpack@9.0.0","_nodeVersion":"12.14.1","_npmVersion":"lerna/3.20.2/node@v12.14.1+x64 (win32)","dist":{"integrity":"sha512-L69pCiYGG3NGX0yLi5P88Nw8Nm9jg8RiurwrAzcf9WBKIloHJtFDZJdznrncL+baB++mAcpahIZGz9WGOH9ByQ==","shasum":"210ffd3a8faa93551ed63c04d48b3a03d67f770a","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.0.0.tgz","fileCount":39,"unpackedSize":84974,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeUrfqCRA9TVsSAnZWagAAFxAP/1aaFoet1o44WcZAnbrx\nk0OJAMba+w64rlL07Wv4FtEYxuA2GoH2yIXfIYSzhQDFUbureSplVvrvFbG3\ngAKyXXMqzd51UXHtKwgS/XTV66FeqRfOXl3mYxbH46pEaUfAI4h9vTiV0Mfm\nB926yi4f8aRS3c/63hh6c+tKSNXx8ByCrftwJ+S6amfJh1ZQDvpyrcO4o1Ea\nJK5UUNfsMeB0sn+4EQHzRKj72X64pDIPfgFiFRjPEH6NAuQHydwO7dcrOOiw\nXst+46cWpBFW8IAxLW9AiBWBpz2xvdThNWoNiy0ulRftgaZw+GWrsvCbkcku\n0B2zr/ZOG26L+VqGWS5nDtkrsiDBJKod6tMO8+W7PejZa8T6e10v15ga2s+s\nMg7wiEwypmsTzsphcqyF88EO4KH365M12hunO3H3Uzga3eOgpeDSyfKEGYQD\nfgL051PD57Hue3iWeAGC3JfYDV6WdJWb//A3AlAY7ecBgqgyjwG9SoSmFDR0\nFMKbXT1PY82hwObQhl3FZKR4M5+d6cvNDFG4+wCw8A3PjbGaXOtWx4mn0LWm\ngOEHEAqRP7mKqr1yRbrfRdrO37gj9RsE/R/wGJ/uVUzc7WkCARbMfiJBLd08\nfu0gOWivBzbLQotmCzRunGXl7y0C16i6Y5xJviILv5GvV1l/1mqSCMXIdKyp\nNqPr\r\n=L3Nc\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.0.0_1582479338394_0.45582501615014537"},"_hasShrinkwrap":false},"9.0.1-beta.0":{"name":"@angular-builders/custom-webpack","version":"9.0.1-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0","@angular-devkit/build-angular":"^0.900.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"de633f7ccd9dffb519860a4f6d0e9d5c31c58740","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 9 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md) and for version 8 [here](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 9](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.0.1-beta.0","_nodeVersion":"12.16.1","_npmVersion":"lerna/3.20.2/node@v12.16.1+x64 (linux)","dist":{"integrity":"sha512-UX93+8aIw5+waay5gmrTSlLoV4AE5N0kVGrIiJOJ+rHVj2Wb8YjngYdVPNgamLxyjvXCRKJzPYFA+AZP7xFfdw==","shasum":"36346f5976f80f32bc74f4b4bf8aa5d6e94da0fc","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.0.1-beta.0.tgz","fileCount":39,"unpackedSize":84602,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeUsM1CRA9TVsSAnZWagAAr6IP/iymh2XMeyAR0zw3tfQr\npDrYcb8sT+7MTQReZN3ymNTlIf8PBzt6Lh4aShG0Iaiqt0vr3GJnr6erP82g\nYrkfYhJ0ApoY59VZ6nq7IJtUSP1btRyP4JnOCoqbKuBjJhW54wWsePsKoeey\nPjWoccVoVckcB104bYJ00OuvQoZVIQGOngt5moATi6kNt5TpVqR9Abb8GSnh\ndLEvI4GDNEtdt/rGkgpO/WBWd0j3h/paRJX8xNpk3N9aOq4uzqyCrUKqymSV\nwwnRQzApu03YJVIhhM1Q7cIBOQWUiPQt8ditKI99J8urERVEbFFqzNChs25y\n3/5pOg1HZU8nii0KdWR4l/NRh8p/9FcIEtvP2TUviQCM9j4hOuGhmKvpROyA\nUYH81w3cPACM/rdFi/FU0CByUpcPBIFmYBnKIDzVZImu9mdIBbLtrY0YC6gR\nAkftZW2Etbjc4Ep14heqB/vF+s3TeHEGRvuTQ3J9p7ZmFxZLeuJZc3ba1Orc\nvDqb0afvQG1Fftwchv+IoBBGIpDacY+cebkipdym+f22xMRKSmcBD3GtwRDd\nSnr8JmHOI8GadyNpWn5tU6G9N7tTsE2Aym1JJoFFtT6MDg6ovlVV+jjNQuww\nyolklR9HhymEru+EwrkTxIYgW/xr98AYBc6fgu8UsCVxEHX89pSkVRmi+hUl\nAYrN\r\n=V5B6\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.0.1-beta.0_1582482228894_0.4400571417873118"},"_hasShrinkwrap":false},"9.1.0-beta.0":{"name":"@angular-builders/custom-webpack","version":"9.1.0-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":"^0.900.0","@angular-devkit/build-angular":"^0.900.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"e71fc385844041f44e08a30c1e1077de0abe2b26","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 9 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md) and for version 8 [here](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 9](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.1.0-beta.0","_nodeVersion":"12.16.1","_npmVersion":"lerna/3.20.2/node@v12.16.1+x64 (linux)","dist":{"integrity":"sha512-kNqRecrZ2g/m/ZiO9HMadrEne7VAHQG1UywflLNo9F4+XUICAQkEUFRpVRrM8PiE/D6hvVcB7aoU5HJHP9mnqA==","shasum":"0c63d7186223508d03eb92682ef1a937fba523a2","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.1.0-beta.0.tgz","fileCount":45,"unpackedSize":86925,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeV5exCRA9TVsSAnZWagAATxQQAIj9nZ5CxN4/BOcHjOxK\nz2i7uR188zq7IHxyXsOCKwwGRGTy2x8WUQ4nfzR5sVleZgd+rFALya3pZxQk\nXxt1W8Jxwmpk6MzoLXDiIkPOsvl8gxWQmz9j5F35Rtui56EXxJuwbyymH92Z\nm9J9PQM8WIKI+x9o8Xg/Fl3yZccG6swsQabfMW0ks/qbiWjIllGu9T467q06\nVkQyBArDw4qb2cuNBOwce/54khF3TOcW5DArIe6gP9mVC9SbVSjJc/vu44Fk\nzE8lwtRJtXbfliiI6sNA/rERpq/scJFPy/e3otonL/vg/kLIEPpBcc3RaI0L\nKOYzz8UU7P0CXARWhbtPCT4tmc9tn/78cSm5kiZOJxK+eD6Sr2jU04vussUd\n2SKrbNRka6rkY7UQ2bKLv2Ueb4laYVWM+oqwufHVh/v3vnZ2jSntMchvO3l3\nI/Fvdms0+ftluu41aD3gyHbcqKcg9BsHuMW59jkqS0pyFmizSHgzh9CbtLLt\noI60n+FMojnVh2sqZ5YNOw/kIwnThyq4B9gUc9sy3Jxc7CfXBjLG0c3VtuuE\nXLVmu4GKU4a/qpdTlMpQ57eTZoUb3+QDKGx69dUg6m7ub5ESLiPHQdGUFOD/\ng3WjsvS8tB9AXF/A+CGeSHqk8m7mKoTRJ7+lgmrjKF/tQYROeUovEwphC0df\nBLRc\r\n=eU3n\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.1.0-beta.0_1582798768466_0.1089743931237368"},"_hasShrinkwrap":false},"9.1.0-beta.1":{"name":"@angular-builders/custom-webpack","version":"9.1.0-beta.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.900.0 < 0.1000.0","@angular-devkit/build-angular":">=0.900.0 < 0.1000.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"11bca197e07f732b9ea5a3f04536382ad63360df","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 9 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md) and for version 8 [here](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 9](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config and the builder options as parameters.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\n### Important:\n\n**_Requires `@angular-devkit/build-angular@0.801` and `@angular-builders/custom-webpack@8.1.0`._**\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI 6 build  -  an alternative to ng eject](https://medium.com/@just-jeb/customizing-angular-cli-6-build-an-alternative-to-ng-eject-a48304cd3b21)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.1.0-beta.1","_nodeVersion":"12.16.1","_npmVersion":"lerna/3.20.2/node@v12.16.1+x64 (linux)","dist":{"integrity":"sha512-LLxngl0zTko2ME3nfMfrRN7JHKAYhRy2rdShuHuPcYGtM3Qv0GEV+rnSbVgGO5iUE1k3rLdQdq/cP9FhvRov8w==","shasum":"91b6f5fd474613d7f6121dee9118aeadfac21460","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.1.0-beta.1.tgz","fileCount":45,"unpackedSize":87402,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJegItvCRA9TVsSAnZWagAAFnQQAJD7R/tu3i9/I6vKKFpM\nmWRmRtRMymjpghsDZfAPNLUZVP2knf0Kzy2vfRJ+Lb68ofetlHl5cjq2gC9A\nqH9ee/OGddJFUH3SWyos5wNn+9EIinmtclAaGmMc0YQ9p38NYHuVW64RV3YY\nwwjjkWY1Ov8xs0K2cxhZXekT591+w+OmOyEdi6gW6nn0o7pS6+8UqpTyhmPl\nxgQlNF9KFnRcgmJM2pLF3WCKumSKrGS9eYoAmJnxCaoR3xhVvfcOf16j1DVZ\npAa7i1nrX0nqPEqYQ6N5y5RO6nbxZUzeWj64xpFkUaV4VP+YoKnkTkNFnJ7t\nVtL1AJPkayMwYzlvLtYZgHZyhc2ikgYgRCXUScS9RmpKL5e/Hk1Uu3nd3+XN\n3ghacrlk2QxekoA4HAPMZgVUFpfy4yiD87CQWUcUjdFJR9O2irw3RnibaKjw\n3x+GOmRpbSMVHU4uu0G2XQsHvBmTFFU+gjU3kWh+oCC+rLSKJDe80MgxMawA\noNEMZP2WYVEbKph9uSMU+w/8JwdedxyMLRZE2L3CLZEyT4xaqSSn9ZT8VRAE\nv8d4rGJ0TY9zf7ZpO29M93fSYFU+JrFrewkSgPaasgeKtEbzoHR+mDua80Ur\nO6BxilbERP6bgkcQyYsZZbUvnN8ozeHN7W74fydk64h+pM7CSWfSrapBChHD\nrVsP\r\n=L3MX\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"morethanjeb@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.1.0-beta.1_1585482606909_0.6900333495513042"},"_hasShrinkwrap":false},"9.1.0":{"name":"@angular-builders/custom-webpack","version":"9.1.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.900.0 < 0.1000.0","@angular-devkit/build-angular":">=0.900.0 < 0.1000.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"852f8227302d1ef4152d23eff80db72786f79736","_id":"@angular-builders/custom-webpack@9.1.0","_nodeVersion":"12.6.0","_npmVersion":"lerna/3.20.2/node@v12.6.0+x64 (darwin)","_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"dist":{"integrity":"sha512-Dek6KxNUFBELKqNRO4Im5JIP0/rZF4HmvgA8X+RyqOd9cyDxk16A441WlqTqy3UKX8lcbf6C9RcR5D2dI1ZATQ==","shasum":"d16c57035a13e386ba3becac993683075120efb2","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.1.0.tgz","fileCount":45,"unpackedSize":87480,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeiasVCRA9TVsSAnZWagAAxoUP/1vgc0znjKmv56cCSPpO\n+a7Nh+7zvOucvEYzifMsplWjZDAVt31e4gZNo/tkwOU0vp6123IsMbu9UWxF\ngAgcGUPne7kUyudY4KEtEdmo1xD2fbyFXEN5KY8zrNY/PYgmRBg0tXjkESVp\nIxzw1lnqZQd5HmYfj87d/yqUQ1/H3a5sXkKkUb0Ob7cnIAb+3t7uKrkZihMq\nYByFgOYRtVeRCrEac1kT0Q66zv3YkNo3v5MpcFb85IjyAfjuLSNwThuYVajN\nZGP25ho8dAWdlmOYveSPKgxnh8pOkQ448k81N9fggnMpDWJe59o6AOZiodn8\nMudOosI31BO74E4UjGp0qhB16MIWTaw3uTNupLTB68CsScoYorvzBeIda41H\nVRJvazryisPMD8mOtvvyaaoK74UEGCkpIAruv/qL55syUnTK7RJeH6j3G7T5\n7ctalM0X3IE7jm/IJAu+WwObyRQSsp+0amB9TtgRSjue8EjulxOdd1TfaP3N\ndcJuktC4BuyTKiUMEIB1YWk7r3ixajGtBHSuat8ia8lziiu064KL1aLdH/Ul\nlKW1F91rn7v8FXmTUS+hdVa7YK/ied+jGr3R8rGK83G5UfmxhSWj2ubF9uaI\nR1DnOWhDoK6+308YbdAbRYBg0ZtprgOvRzKUS6AR6pxdFJVImXa/+X1TpJcr\nDvrn\r\n=HW79\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.1.0_1586080533109_0.9727911929185398"},"_hasShrinkwrap":false},"9.2.0-beta.0":{"name":"@angular-builders/custom-webpack","version":"9.2.0-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.900.0 < 0.1000.0","@angular-devkit/build-angular":">=0.900.0 < 0.1000.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"7f896d45ea50b5fc0aa420cb34197601419f88a9","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 9 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md) and for version 8 [here](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 9](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema, targetOptions: TargetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.2.0-beta.0","_nodeVersion":"12.16.2","_npmVersion":"lerna/3.20.2/node@v12.16.2+x64 (linux)","dist":{"integrity":"sha512-MfR+QKPuN8D+p0PtgWoqrp3xWECxO9RC96T2U0j39ex96mU4auXsCkgmRPgcV3etuoCAtu18ey/XXZ+nMaWXqA==","shasum":"9c3d651a182eea317cd1901b4f26b76965d18e9f","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.2.0-beta.0.tgz","fileCount":45,"unpackedSize":88351,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJelyrlCRA9TVsSAnZWagAAfe4P/3iYxi39hr8KeV0+OdLT\nN9zOXrdJzyDzg1d+kklU+mbfcMNzbVLXFC4Zddgy/YQ9FsGEoHRV3FHvfEkE\nVKpRdzVt2QXCrfdraCCKThuiJCDf8Hw3qd1V4UTC3FfXH38xQzVWS+/4i7xG\n/ZYv3RBc2hiw98k5NAZGzOB5OcTfyM1pyU1zcTeioBGs2o3dAtRZyp7lsr6h\nGDvhLlivys71cXFsD5wWkD51/ecOPq/O3hX7ZRqwwMloR4mbHCEDxxiJ95O+\nuEZ9cdQc++9EjfYb8AIc/sAn7PgxVd+5KB9HQUqNMJVCLLJAPzW3uXro5VTe\nuMF4ilAdK6HDF7VjLvbh132RrtXXspfpU5VoNCV9Ebo7RQbGEG6ZWqPM2tKB\nziHAB5ZohfrUh7AOVX90apDzRYJ7ZCTsJmR7lVLuxjcM9vK3ARXaY5+9sbm2\nl9B0Y/KVl4PFE97A5temQoZ6CgJ6uKmBJiGLlhykASOSY4bEUD7RxhamYn9W\nvoOnY92JhSbgJYA1PGvtzjaZMegEFcF9VooILTNtj33vQCK1Rp9Ylv6LNw5X\nchw1Kk9f574H7x+7QZfSHCaFZ7HMJMgjxW4x6Bjk85S4JX7BCSG4mAysT6Ku\nkgcEn5RD4EmVX9iKAxaRibAYRhGVnmA25S7aJocXn11d5awyQQyXtBhGO6kD\nw5+c\r\n=u3Pc\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.2.0-beta.0_1586965220774_0.938133536306416"},"_hasShrinkwrap":false},"9.2.0":{"name":"@angular-builders/custom-webpack","version":"9.2.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.900.0 < 0.1000.0","@angular-devkit/build-angular":">=0.900.0 < 0.1000.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"f59ace8f2ecea735e72a05df2c0cdd88c3c0dbea","_id":"@angular-builders/custom-webpack@9.2.0","_nodeVersion":"12.6.0","_npmVersion":"lerna/3.22.1/node@v12.6.0+x64 (darwin)","dist":{"integrity":"sha512-0ivkjENONFm0oNy6hdCod4YaT4dUk80KuP9+eDliWuZIA70yKQgIYMLul0bz6/i+Cm24PaZ2tq4w7kW7AuSMoA==","shasum":"dbb2a4deb3529bc5c9a68150980c6436d692c583","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.2.0.tgz","fileCount":45,"unpackedSize":88437,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJe8h/WCRA9TVsSAnZWagAAPIYP/2kaxAbP3vV96WHl4DhE\nxlbk5SPZYZTZu5CL2a8aqvv6wi8cYoVfxEbb346mPDIfnvvxCzk3qcnPAVj4\ngsHXuJC5JuTzbr6Rnibr0l8xqWViX4XpVUS+8/X5y/R8NKW8+mCPs4x1lX8I\nSKg9N0fgOgM1SdgnAbN2x5Y2CyVAOY48cvVL2Op16PM0MVWnHQeHyeEzGLRx\nSQWYs8OY++NFCc3Ts0JW0obQJtUBaIdOHiEUq4e+Dowimw9cvn4mZ9AKNSEb\nbSW+VXAkhcs/KhH+O5zcTNO3+1psvYl5BkJa5nQD72AV4FFmp5QX6R053U+w\ncSv4Fjfc6Uk6zEA9LWXc8lz0Fp77cMDn+RbST/1ZnkO7EKo13FcuLEYg3Q5i\nIQs6NhKNyhPqJYsKRx2jPyt5kIrRohqGandxPy73q2eBSRK9VaU/zW+Hrm71\n0WSzEiVWdvI1nsgePGlgDlaIRYU4fjeblDHOhiz6PvwD83zNu3oLCwDgnIHG\nt3VA81j8j3aVPzAg3+MpzcTUMdd2UPigtthjh0jmvYKIWwPYYjo3WPIzhOz0\nm1nHC+OvIlM3ZOin+vxVnpyOBueb0dBIgOpFyyULhGK0NCV7SMKHuQ0S7a+3\ndcn01MCjeoNSrHEv4wTuuPYC8BUZH7FirGJSCe2wS/myG/Uur9KM7bK4iwdj\nfRms\r\n=pgTN\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.2.0_1592926165597_0.7561697021166167"},"_hasShrinkwrap":false},"9.2.1-beta.0":{"name":"@angular-builders/custom-webpack","version":"9.2.1-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.0.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.900.0 < 0.1000.0","@angular-devkit/build-angular":">=0.900.0 < 0.1000.0","@angular-devkit/core":"^9.0.0","lodash":"^4.17.10","ts-node":"^8.5.2","webpack-merge":"^4.2.1"},"gitHead":"c3d466b533bf663f5b7f1837aa4e38796483c177","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for version 9 only. Find documentation for version 7 [here](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md) and for version 8 [here](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md).\n\n# Prerequisites:\n\n- [Angular CLI 9](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (config: webpack.Configuration, options: CustomWebpackBrowserSchema, targetOptions: TargetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@9.2.1-beta.0","_nodeVersion":"12.18.1","_npmVersion":"lerna/3.22.1/node@v12.18.1+x64 (linux)","dist":{"integrity":"sha512-a0Sl8Ve6lbPr44RbkWMW+/T/Erw5J84RJnkVZ5z8PbC/Plm/nL/9dWk5dkyfvKfzKeA985oDBaMJxZTo5z/yQg==","shasum":"dabd6fbc2ad307d916f8ee321171eda37b584269","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-9.2.1-beta.0.tgz","fileCount":45,"unpackedSize":88650,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJe8jSqCRA9TVsSAnZWagAAy6YP/2AliTC8mlDTB4ofaG/H\nN/onFBwgdjsFf0KR92E7Y1wmDftpZOU3fNTxFOzKfpqanbpha6EnFUIU73yu\nh8mAiPiCEzT4xAj5wEDJzDk/cOJlVlD3V2Qu0uaknXp7JOHFcgey+IzYTktd\nguCRRazik1yb36GnEISghezK3B+CDngnqvL6Z9hh6sC9OpuJytJRtQNXSubq\nN1bYAmAF9ANTU4hiMQVrO+2AnxF8GvRJAHEhvRrXWTSZaTgv4K1VuSN+0mPY\ne2Qu/w1Fnhtddqg2v7l3X366qSDH2MBAmHTFkLoVQo6pawkAxiPvOXj03b0Z\nzl23Njl1nUPlEhCZIeAxcFrnUB2b7OGlb4S62alM+GGveUcsZE3YKhxPS8tR\n5Jmfjm0S+c4Oyzl2tKYOLa0yQNw2QPZnAgd3CaFFi33qzcu/ooHufN3x8An2\nGvqzIBsoFEq83u9nxx4wq6YKYcPupQyJ2QLveP8V2KU5MvPvTnWs1EruUC5/\nzUHwEcZicL197ebyl6apwV/ETRgOwgXfP4p6ZRitUu05GO60tJn7vdtIUH9J\nRcZjPEYh2X+nmN3RtDUQwEnVfNyoC+UoppRQdV1a/NktGwa+44PVfl92jmGu\nLjaPU2pR5arYGSakIg2ZbhRS/qB/bqt7/SoQXVJsePADTtVyGxGesdTHBmFh\nkr7o\r\n=lGqJ\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_9.2.1-beta.0_1592931497865_0.6273987299487884"},"_hasShrinkwrap":false},"10.0.0-beta.0":{"name":"@angular-builders/custom-webpack","version":"10.0.0-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^8.10.2","webpack-merge":"^4.2.2"},"gitHead":"b582a2926da1d564cffbaa28c0856ed812fb0ccd","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@10.0.0-beta.0","_nodeVersion":"12.18.1","_npmVersion":"lerna/3.22.1/node@v12.18.1+x64 (linux)","dist":{"integrity":"sha512-rBrfpQSiWrWG/yDnx4y63oaRd8v0HIESNoqI4/zqtHKOaNQfXzxGvVwcaviqafg+5EBJUCfXoPN85M7RwnMODA==","shasum":"5d68fb5a58e9b259c4ec95ccc61210c886745451","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.0.0-beta.0.tgz","fileCount":45,"unpackedSize":87004,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJe9LbRCRA9TVsSAnZWagAAQtIP+wTLUnqSvVk/3T4bot8o\no30McOZPWF4fUz6zVZfUdrNUjjmA//NF0wAoMHCx/xVYom7ppOumQAWvl3ct\nxHyUnDG3FExozHb0KOjGtMHXy3SexKs0IhqrzkAjEjc4SZG5/VKlSHZ7g20G\naOQSHN2d1WURpip3s03XEfPO87wXp9uVVdyoHjRrfAmWey/xV27A2giu3dIk\nLmGaAaD30KkDSu7KuB9JvQjLdQ2jlK0bFIBG7EspzWMWrVnq2+S60xF8Cn4s\nDBNUAiTrpHBTfcPwKMxkrLJT0ZO+ItMyjlK1Q5hVRNi5/k56GGTKq+GFdt8Y\neMjObWXZogcCJ8HkXJVmkvZzeNrs0M8od1NEZulL9rRZl6+eb1jzUXpYpIEk\nPRH1twVZq5dQRhHdE1X8NttxHyRa7yIuKhnHeDBISvu1u4uXCeAxHd6dbzcu\nsdxscHd8kAirFlAuHXfnJS+9R497Jgz2pmsAHUla7frZFFEi0AzquOEQI3rG\n9F6U9GYzC9qV+t1DtXxUi99SJK0mjNvtbgsrJDj3XvNhjvxV8VyDA1GvlISW\nIbAiG/w9BFnJ7JB2+gTK1pHKEKBj/0GpsQeRI4CVPK9+EAugvts6rURSfAHL\n8rjLALLCzU1pzc20jq03ZVh6a3WQ27RIoVwluq5hk1ida+9lwq3SoXF1E6ox\nlW9m\r\n=rLID\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.0.0-beta.0_1593095889469_0.7037569264738126"},"_hasShrinkwrap":false},"10.0.0-beta.1":{"name":"@angular-builders/custom-webpack","version":"10.0.0-beta.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^8.10.2","webpack-merge":"^4.2.2"},"gitHead":"fb5426590dfee77a70f36b0cee524c1abfa9daa1","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@10.0.0-beta.1","_nodeVersion":"12.18.2","_npmVersion":"lerna/3.22.1/node@v12.18.2+x64 (linux)","dist":{"integrity":"sha512-gAg9zuyrpcu+c40ZB004RqjSI361shfvsW4UJawVh/O6Mc5zfpWVMnwtBijdSqkC5x9iF/Bjc23j3jpWIsHNAg==","shasum":"751819ab2a5236383ced7df90dad03579b89c183","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.0.0-beta.1.tgz","fileCount":45,"unpackedSize":88269,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfDBwbCRA9TVsSAnZWagAAxAcP/288TsAd2sEt2azh31Cs\nIH0ddsKI5gt7KCA7aQ0WGKRutpfAigblseierk3Yw3PTZads8uUBmDSQQ5AH\nRwXHYpZvdzG7dmWtOpDYcamryS/YpWNvhymzag4m2PP8+kiP0O+qiveiRyu3\nM13bx3i7ZhUqAJJklw4Nvnr551cyq+h99ovohsckUge767uXrtEIGmX4uZhg\nYozESKnXVUGCFXOjIFYmgHBoGqjz8OlHMS9p/2vV6UhpGAxg9JEoXt4bOuH+\n97kLP90qTW/kFr8ZjLYwIZx0ie/QbwwuLPwkA1m1dH2uOUZGMWAtDok2ypnu\nzXU3TLk6EWBFIcdd379k2TYavGzbhmRNrRfrHrEimwpKZZSFpoLNfW0vRWbg\n33zl4roGvunUEdJYBdY5Gq+TcmAklzDNvPuswu3z+l8Oen0fWNd/jC3FHdNb\nClBeK//BcW5Xs386MK+2YEIWjf6sG27QzeB23NEaWovfyqtsk83b1BaUvreS\nckRrHx/P9esjzu5ePTBMwEJQPFpGv77GzoUO+BXOvA99CZDmFXm44sKjTeF1\nFbTsxVzCakYc5jJ2mgUNLBdRwn24h8Jvt03d1q9tEXr0GOjk/UevFSCZSozn\nyqzM0cdmfkLErM9U4HAhZk9FTFWYrmzJJem4dlSvjV04aP65fA4iGvzGGoCT\n4uId\r\n=094d\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.0.0-beta.1_1594629146973_0.1826790359157866"},"_hasShrinkwrap":false},"10.0.0":{"name":"@angular-builders/custom-webpack","version":"10.0.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^8.10.2","webpack-merge":"^4.2.2"},"gitHead":"03ffba753533f3c0c9f8aa670c4b4b4191ae4b83","_id":"@angular-builders/custom-webpack@10.0.0","_nodeVersion":"12.6.0","_npmVersion":"lerna/3.22.1/node@v12.6.0+x64 (darwin)","_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"dist":{"integrity":"sha512-5uUUN+Mbg+RUTs4XCADuNC1k/tmRcWWrDbZFkn8QfqopWPHA2qDZIChA3oLeU0yH3t0Q4ugemcb51XAU0/eO7Q==","shasum":"9dac43cf627692de1d2c44967252e4d9567fc297","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.0.0.tgz","fileCount":45,"unpackedSize":88348,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfFv7+CRA9TVsSAnZWagAAY0cP/0CkjhobdUjew2NjXdXW\nuXeONQ5sCRse/acKHuNb5nbY/tSi1uY2IJkBvf4UXiEJ9BLtCB8kjvJWcPEf\ncOqJnl62r7iCNFrhwdfFltMncEHMZbi7Ju0Sghd8E59HWPK1s4/yPXytggd8\np1pv8UU/R+QUsjPIrc1bhyzvTmf1fyCTm9o7klu2kHS/gF7vYPovJ4LrAG3i\nJYI3YkbBz7/8z5GQHXBQ/J6abvg8r0hrLUMkbNcf7bB+LQekRGrafyPXtLce\nqa7CNxv5NzLQYmqCysZhF7G2kiAnYSeiSpfjFYKJWaa93RGP0D4HqxuGeyly\npoPq5EyFTc14+I3+pXnFbUKzI9X0TTzhSfYrEUiWcseMV6QU21xOQaMHax3H\napbz3pcB5KT1s/mqeqRb85SzH7mC5rsYTdGGWsaZzeIt4HhK2zJYKCKvFrJP\nSTKVz2wcVLEOuf7wrODT/kRf7rxVo6cRyTpvBTnoy5A1kB3yBgYEVe2u9xLh\nnOsnUfMkOGEs62p9COmRcSauCdr0E1qMfBfqKdbvdOWRJzxJIfIsmizwmlw7\nX9MxcmFl5zABcsMGQ5zB2tIFGKIvrayN6mSGJbsxNDT3xL57BY+3tbxtUQyp\nnzZvZfLTvkp5Keharlzy1F9zOSFIw12EvcBJCrokkQsOdq9BFLZ4Wt2xJXUX\n6uC+\r\n=YKRK\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.0.0_1595342589755_0.7770043787383063"},"_hasShrinkwrap":false},"10.0.1-beta.0":{"name":"@angular-builders/custom-webpack","version":"10.0.1-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^9.0.0","webpack-merge":"^4.2.2"},"gitHead":"2efe6164acf6933534cf8f5946988e9292333e59","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@10.0.1-beta.0","_nodeVersion":"12.18.3","_npmVersion":"lerna/3.22.1/node@v12.18.3+x64 (linux)","dist":{"integrity":"sha512-et4zMPdirAi1SKxtr6ypQIiAzx/eyhuc9KapunVSVFbTOn+xv8ktodtGwYLqjQkXvSB2BmeQbzJhs8K+aBXTmA==","shasum":"6b7b4f5fed545da6f9f6d79a38821837d8d2797b","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.0.1-beta.0.tgz","fileCount":45,"unpackedSize":88563,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfTcNqCRA9TVsSAnZWagAA8ZwP/j53N9yIQvPTodMu6WB+\nnbnr14nPx4Id2kQR5n0DD1Y1JYV6/5cGcb+LzC8H5BZLJn3xn0gtT1ns7paO\nNqRyEPRFcUsUtru19RXboNJNy8JVf94BhJFJJF8OLEGPTrffvgIEcQjg5rrc\nK0nZ+rtPOsTGgukkhq4EgiqrmrJNtWWVJJLEyUrexXXIrc2RlfowP5PiqY2/\noo8ZmyIK50PkkdnbIFjfOhfv8xFImOfbJcgbG+MuLYaIyIBSpJTBLZPKDsTd\nF7kB0wvENvdU+13iNboBIa5T1wJ7Kwe4Ajr/wzOTg96Eogblvx07/J6My/ZL\nhytXnw8ekBb9MUwd/bOrwxEVqaEWKjE+Wiui0UIFzdulK0ldCD1wZg+gCeOB\n1DnbPc7/2tdyYfo7U5D6Vrj6TNvNO4MXJuudcTFATOnrwVSj5OIZ9GLwTmDL\nj1rnkOjUrvm7u01R+Vxhfq26vnpCnAd6OfjqdNsTrLHHqAnZ0WEqmSF+Qkgs\nM/QU5Q1w8QeaZO7pm6TQsluv/93ZPUhBnLnAY+8+lQ1SOGsUwkBMcWW9uYlR\n28HYQe3193vzVdntE7/7Ss9AXFDAu7NgTOu2iMutB5sEvzYlD4buTWlT3luY\nxUwxgDLEdLg5TQkPgVtQK+TaQ+6oybQIh8N1qmeKTiXctgaJ2W4sTD7M9mec\nWln0\r\n=TDSy\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.0.1-beta.0_1598931817559_0.5951309494362136"},"_hasShrinkwrap":false},"10.0.1-beta.1":{"name":"@angular-builders/custom-webpack","version":"10.0.1-beta.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^9.0.0","webpack-merge":"^4.2.2"},"gitHead":"92c114e327a2874a56b11b1a64495200916ae3d7","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack/examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","_id":"@angular-builders/custom-webpack@10.0.1-beta.1","_nodeVersion":"12.18.3","_npmVersion":"lerna/3.22.1/node@v12.18.3+x64 (linux)","dist":{"integrity":"sha512-jNPgG00zxgd2Z2QZwqO0TSUwlnU2Kk+sOEO3iX45cbFvfxXK3HaReESeDYF0yumB1vFXsPxuwagD+oY350C4mw==","shasum":"c40d319aab3edf6c2263b0dd149d64fd224565c5","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.0.1-beta.1.tgz","fileCount":45,"unpackedSize":89004,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfVPy7CRA9TVsSAnZWagAAWX4P/AiL8SOdS3RdclhnsTLf\nd/8l2xXmlABt8o8vGLyy3jwW/k+RiBCyvwVqP7VyaDaZbJUgHclIHCcVAaLD\n/UQpfDiqDBouFDbvXnMKGOmQU4uqsiKvlkTLOVmQys3+1MNQ7whJGgVt5AGj\nqB2NDcVKB7aK7P5k4/kMtTIsqWJh7X+xsb7WIHjzmeVzVsLfr3Wkhms2HbQ4\nnb8CJWqahzUMFkR9GmsqygseuJGoPijnYcBh+iG+iRu9ZbnnSyB/Ph50xXa6\nt1cvwGoD+7xu9JQcX3AyoPPYowcjul+ViI4L/AazAfLPWS32Crr+kuVPcfRk\niyuGjfzXgDpE6EYJiVzm/7zi/8UrCjxgZ1kIuB1/9ZOs4YbpC7Qd07utkZ7n\nQ4uAqtRNwIZX4eEp6gGS3RS/qOvBfs04yyqDymAwggS8uMpHiC3EB/YROYIY\ntnIqtI8cVLT76twrPp60IY367tztlaiTm5xb6Em6nvHLHsCfKkMzjmrrsDsB\nvS22KZrEUs9CbYkdE1mA4iH6IpXW6fZLG3Y4AEaZM5FpRhd3lm1d5trJR5yp\nJ8i0VYtOCUYqniYgZRJ35QF4bA3F85PRyYcDdBcssUonJjVNRsE0vQNkuFTo\nChJMHePMrprSLICmHc74iYtDCaBHRWWIPy5K6/ZuZpMO4W1r6LbRjhWAfxPn\nt7gd\r\n=Tnu8\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"email":"morethanjeb@gmail.com","name":"justjeb"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.0.1-beta.1_1599405243167_0.13554140739615517"},"_hasShrinkwrap":false},"10.0.1":{"name":"@angular-builders/custom-webpack","version":"10.0.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^9.0.0","webpack-merge":"^4.2.2"},"gitHead":"c37cb510e96f1f22b8f2f2836536f5d0809cc888","_id":"@angular-builders/custom-webpack@10.0.1","_nodeVersion":"12.6.0","_npmVersion":"lerna/3.22.1/node@v12.6.0+x64 (darwin)","_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"dist":{"integrity":"sha512-YDy5zEKVwXdoXLjmbsY6kGaEbmunQxaPipxrwLUc9hIjRLU2WcrX9vopf1R9Pgj4POad73IPBNGu+ibqNRFIEQ==","shasum":"9126c260ecfeb88c3ba6865e51b486bbe301e504","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.0.1.tgz","fileCount":45,"unpackedSize":89102,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfWOHOCRA9TVsSAnZWagAAumkQAIUittRmnBksX5eeDlEi\nR1a1n5B8c6H4FnJJZtiES4ixyVOqSHrNzsml1G1ZuPeQzvEi8jjR6ukoI+St\nG8ZuXng9W+qx+0cDz9+YIVvdyzJSid3omm0eHtK42VnW5CuHG4tagmPDVCWe\nUyWLE8UT2nRykD/s0zBmlqXXHjZi3NzHYxYVQpUCpBhu4PgKjvdIqryGzNYq\nEvSMXMei/pFC/WY/ZmkGa+3tkx8wQ1E8cL7zAoK/glK9lzOPlZWqXucG9PCE\nhihbejnZiK0pj3aBRhxBrkJKVt2/qU5UIPyEPKagncH6i3waAUUA260wM4O+\nlNfV2u+SRVGJ9sS5RP74fZADL0ncIlLRDi1rIs7Jy58tnc4ES+KbtTgiqKyl\nUSAIQHLxWFP0zPXKzH6mK9gApTvFssMOLHgnGiTONizs6QvjqSPSB54XmELR\ni8Jc5bfi6idmg3Jl66G07bta8kF0zKHT7f7jXhgakTSH59r1jametM4ozRP5\npaOCcN9f1GnUrlPylKO+V3Pqm3kIwtVy7DkzxQeEOTu/RIacI64HGVbF+gqb\nH9ORwPz61R3XvlmBV9pv25mjuz/8sfE7G/KrAipWF9UtyzXkufjSzUe9MyAC\n0Udm0cbtG38AKu6j/Hs51/XXNbBGfH7ohrHIHhKhyv/Jx8ufSaGAi9JldYl3\n0vlr\r\n=ZjV6\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"justjeb","email":"jebbacca@gmail.com"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.0.1_1599660493979_0.6696201398194577"},"_hasShrinkwrap":false},"10.0.2-beta.0":{"name":"@angular-builders/custom-webpack","version":"10.0.2-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"git+https://github.com/just-jeb/angular-builders.git","directory":"packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^9.0.0","webpack-merge":"^4.2.2"},"gitHead":"756a26438f7d74b33ffbbb6b35fd363a300ab629","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma) or [dev-server](#Custom-webpack-dev-server)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` tranformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](./examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","bugs":{"url":"https://github.com/just-jeb/angular-builders/issues"},"homepage":"https://github.com/just-jeb/angular-builders#readme","_id":"@angular-builders/custom-webpack@10.0.2-beta.0","_nodeVersion":"12.18.3","_npmVersion":"lerna/3.22.1/node@v12.18.3+x64 (linux)","dist":{"integrity":"sha512-fW964ZgEW1n4qVmdG3jHO8KPVnR74dlNYNMoa5Dtt8dYjglAzZpkLkWQxKrbS5uLeupTGWuBLtTffNzgqHWFhg==","shasum":"9406423d82bb168aa2097e48fd938deb59426cd8","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.0.2-beta.0.tgz","fileCount":45,"unpackedSize":88147,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfWSPFCRA9TVsSAnZWagAAa2wP/RxAMvFdwOAOpZKqo/e7\nGwIY5+6sCtLEWdyjwDv9asBDP6ZsUYuyNXvcNa8r5rP4hGtt3VuHXqdHPY0v\nKB+iMdse/DpUarxdE4P5J2j+SUo88nU807SxBI9sj+ky1sk5K3PkbkVQuuhM\nRHlo1MAYAea80UEav01eIHxz4q5tWDuw+bz/713Ndfd6XEXqHmAgo2zd1pzU\nf80GMhLw5wZuYpHilAp0i2g5hd1Kbrrh//hWElQuiemeTyv3QkRQdj5H6X67\nt2XFQfHv2ave2Q2tX/HFNg+ZJVAF9L56CGYWLB84r6NeGjQHvCsbIpi4hzoU\nPL95tko2CXBDhkMtfqZ+qiNbV+dLROSkMvgDZVreA3e6YyXkQTuQBgqPzDHa\nDHiDcUZBsoehz479vPtCEUq+SAMyTHWcvJ8/j6+KPze0H3BGJPd1EbTslbIs\nQzLpoS8DFKvGp9VynUcZ7k9lM27rXdfdtNKnokNr3rE4nERavDbZKSQXSi6j\nBBMt/CSAnc6G8kqDjFPN+n/Z+uS6N8/0TZmCSuj7WCEboEylr3rf1LVWdtW2\nJc42UynDZJsLPqWQYQkXs9+WR7f6Wka++zeJPG9PH5cSOZTfelld434FxQaK\n72GdfF70ydyGYkpfpesav50+1hNUUkMr3e2CiMXm0+oYhEuvVLbNJnRRGzZy\nDUG7\r\n=vWsc\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"justjeb","email":"jebbacca@gmail.com"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.0.2-beta.0_1599677381426_0.5237348036082303"},"_hasShrinkwrap":false},"10.1.0-beta.0":{"name":"@angular-builders/custom-webpack","version":"10.1.0-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"git+https://github.com/just-jeb/angular-builders.git","directory":"packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1000.0 < 0.1100.0","@angular-devkit/build-angular":">=0.1000.0 < 0.1100.0","@angular-devkit/core":"^10.0.0","lodash":"^4.17.15","ts-node":"^9.0.0","webpack-merge":"^4.2.2"},"gitHead":"612fcaab0ba0cf75dbf6b57cadfaeadb676b44af","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server|extract-i18n] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma), [dev-server](#Custom-webpack-dev-server) or [extract-i18n](#Custom-webpack-extract-i18n)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n- [@angular-builders/custom-webpack:extract-i18n](#Custom-webpack-extract-i18n)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n## Custom Webpack `extract-i18n`\n\nEnhanced `@angular-devkit/build-angular:extract-i18n` builder that leverages the custom webpack builder to get webpack configuration.\n\nThe builder uses `customWebpackConfiguration` from `browserTarget` to run the extraction process while taking into account changes in your custom webpack config.\n\nThus, if you use `@angular-builders/custom-webpack:extract-i18n` along with `@angular-builders/custom-webpack:browser`, `ng extract-i18n` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"extract-i18n\": {\n    \"builder\": \"@angular-builders/custom-webpack:extract-i18n\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `extract-i18n` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the extract-i18n target.\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](./examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","bugs":{"url":"https://github.com/just-jeb/angular-builders/issues"},"homepage":"https://github.com/just-jeb/angular-builders#readme","_id":"@angular-builders/custom-webpack@10.1.0-beta.0","_nodeVersion":"12.18.3","_npmVersion":"lerna/3.22.1/node@v12.18.3+x64 (linux)","dist":{"integrity":"sha512-NClCXgFUDFYsLmVdIWLlPVViTo8Mjgk5mSXpywXgtFqoC1ltHBXsCiSWU4/0kmmZ9I/Z0QlHBi3Bp48ZWJTmzQ==","shasum":"1ada1ae39e20dab316c40e28c66ccdf1df0b41c5","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-10.1.0-beta.0.tgz","fileCount":52,"unpackedSize":92950,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfWjdFCRA9TVsSAnZWagAAq+MP/2VZU9CvUf5fAu/aYBSI\ncykG+ng0Qegr3ON+T/7caP7JP+IITrr98StwnkxHPX1B/uaGI/SsBaysJMfE\n0P21UE68j2xLo4h2uquB1sZXXqmY7ViVUOYn/mnD0EjOUqG01Aa1m6Mn0jDs\ngQmGS/fS37nmDVrWwmxGzWeNuFZbA6TKQEAweI9qKiFWYnnCk5pDYYOUen7z\nqwnYVdz7G87DSwzWwVqt7pTuTOo9niBNH4LYj6IroK5GEqGpAuD5Y3gDE7DP\nh2I6VLCLUuPeThlwHkDwgoTl6/zcmqoc2EuThrudPZwHsPOJxXZj65QyC4nH\n2tXcO+aKq9ebOtqur1i55JcezCATGVm+bdqDM+yFQagVg/w74+tOst/zJ+Yx\nzbNwvprapDvlNRlVt1KPJ4eEg/gU1ZtdzbaX9FQFUzRuQXkVBvCFHRvyeOmA\n3GRiDNGqf4rQX1yIMRohBmUWGVRBin+XvJVFfW71isRwWy6YDH8DzEvuTyT6\ncoA1WfBh6TocUQql9iPw4JIu3cJuRhhwRZxZPFsNqbVA8JJ/fq/z5ECoaN5W\nVz9cLiPzo9BIW//d1pH7LYtHWEpL6Dev6jhJ85fpCliIQeEX48ciFyh2hRq1\n6C1HodaFfiPfqIUZ64kn9TbMdu164eTQ79K0/ABZUgciHK/fIWSOmNfhloya\nfgnS\r\n=/V2H\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"justjeb","email":"jebbacca@gmail.com"}],"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_10.1.0-beta.0_1599747908762_0.31144657759189687"},"_hasShrinkwrap":false},"11.0.0-beta.0":{"name":"@angular-builders/custom-webpack","version":"11.0.0-beta.0","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"git+https://github.com/just-jeb/angular-builders.git","directory":"packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1100.0 < 0.1200.0","@angular-devkit/build-angular":">=0.1100.0 < 0.1200.0","@angular-devkit/core":"^11.0.0","lodash":"^4.17.15","ts-node":"^9.0.0","webpack-merge":"^4.2.2"},"gitHead":"8f1ee3e98bd3eae9bf972621241ecbaf053ee24a","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n- [Version 10](https://github.com/just-jeb/angular-builders/blob/10.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server|extract-i18n] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma), [dev-server](#Custom-webpack-dev-server) or [extract-i18n](#Custom-webpack-extract-i18n)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n- [@angular-builders/custom-webpack:extract-i18n](#Custom-webpack-extract-i18n)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n## Custom Webpack `extract-i18n`\n\nEnhanced `@angular-devkit/build-angular:extract-i18n` builder that leverages the custom webpack builder to get webpack configuration.\n\nThe builder uses `customWebpackConfiguration` from `browserTarget` to run the extraction process while taking into account changes in your custom webpack config.\n\nThus, if you use `@angular-builders/custom-webpack:extract-i18n` along with `@angular-builders/custom-webpack:browser`, `ng extract-i18n` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"extract-i18n\": {\n    \"builder\": \"@angular-builders/custom-webpack:extract-i18n\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `extract-i18n` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the extract-i18n target.\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](./examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","bugs":{"url":"https://github.com/just-jeb/angular-builders/issues"},"homepage":"https://github.com/just-jeb/angular-builders#readme","_id":"@angular-builders/custom-webpack@11.0.0-beta.0","_nodeVersion":"12.19.1","_npmVersion":"lerna/3.22.1/node@v12.19.1+x64 (linux)","dist":{"integrity":"sha512-PK8trONmnTmLhd7xEIwIFN9d33id1/BoPvtE1TGXmsKRFXdqoE0fpyQs4KBOjhdpfQcgeCz61IFSAv/QmSsA8A==","shasum":"68a70cd719edc2a83d7ad8a53b56476e4c149c89","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-11.0.0-beta.0.tgz","fileCount":52,"unpackedSize":95048,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJftEY2CRA9TVsSAnZWagAA3IcQAIcGdT87p+YJwVMOEF52\ncIgCDEPdTz3/jfc1FI99hYC1rdOdqJh80Rt0GNauY6gRAQ7fA0gbEnaRYH2m\nMhPyiFAVnXU9yusFOTWma2caF7frpTD7EhzMTFMlfAQ6pRqziJh6I02nrh6G\nKNMnnOgcSsobKf1t17PlFXXcYV2sM5CEr68tHti329yrDtJH2DbcKWPX5qVY\nN/0sP+pq2gSnrr9dHUpYMIN527V76uKCGxmGyyt9F9kb+8snYj2NgA96NpuS\no7DBJE2JPdLkf6GvWggnw3iILZXSqxoZl8IJLNwtlQ3NUcEGzxrBhGG8bUCB\nWUQrlGD5bZaV8XTMmbSECCOelGyzBzoKWcoiyhY7TE+AHh6GZDLbLV4AROPm\nzGSnS56dIL+xygtVdEDEthGPt9TFioh1zQqvJeMi5DA7INvZhT1nt+UaFKP2\nKv5QXzmqyl2ayezzjff7VjvmelFoG3mYEQ4dUBncJDfvSWhJcLsMfgvOQ0E3\nyTEDI4dyLsQNSytAVvwj+IuEssprcwI8dxqhmoN8ljaIb5BuKITOoBqFJzEr\nKjClhZpwXcEd2f70IrEqQSKNgoeTji3hP3iVXyMATzBAmYd3ncCwpNYFLgkI\noFPAhvSD2ImaIDC3DwSIvTRb8iJ2ChYi0JkiqmVKX6IFZEzoCctd2aZ7dp1V\n+ZVx\r\n=2WrC\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"maintainers":[{"name":"justjeb","email":"jebbacca@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_11.0.0-beta.0_1605649973997_0.642413611265642"},"_hasShrinkwrap":false,"deprecated":"this version was published by mistake, please use a newer one"},"11.0.0-beta.1":{"name":"@angular-builders/custom-webpack","version":"11.0.0-beta.1","description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","main":"dist/index.js","repository":{"type":"git","url":"git+https://github.com/just-jeb/angular-builders.git","directory":"packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","engines":{"node":">=10.13.0"},"keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"scripts":{"prebuild":"yarn clean","build":"../../node_modules/.bin/tsc && ../../node_modules/.bin/ts-node ../../merge-schemes.ts","postbuild":"yarn test && yarn run e2e","test":"../../node_modules/.bin/jest --config ../../jest-ut.config.js","e2e":"../../node_modules/.bin/jest --config ../../jest-e2e.config.js","clean":"../../node_modules/.bin/rimraf dist","ci":"./scripts/ci.sh"},"builders":"builders.json","dependencies":{"@angular-devkit/architect":">=0.1100.0 < 0.1200.0","@angular-devkit/build-angular":">=0.1100.0 < 0.1200.0","@angular-devkit/core":"^11.0.0","lodash":"^4.17.15","ts-node":"^9.0.0","webpack-merge":"^4.2.2"},"gitHead":"a0dca8d09919a8b1de3c5b91271d5d0a99c1643e","readme":"# Custom webpack [builders](#builders) for Angular build facade\n\n[![npm version](https://img.shields.io/npm/v/@angular-builders/custom-webpack.svg) ![npm (tag)](https://img.shields.io/npm/v/@angular-builders/custom-webpack/next.svg) ![npm](https://img.shields.io/npm/dm/@angular-builders/custom-webpack.svg)](https://www.npmjs.com/package/@angular-builders/custom-webpack)\n\nAllow customizing build configuration without ejecting webpack configuration (`ng eject`)\n\n# This documentation is for the latest major version only\n\n## Previous versions\n\n- [Version 7](https://github.com/just-jeb/angular-builders/blob/7.x.x/packages/custom-webpack/README.md)\n- [Version 8](https://github.com/just-jeb/angular-builders/blob/8.x.x/packages/custom-webpack/README.md)\n- [Version 9](https://github.com/just-jeb/angular-builders/blob/9.x.x/packages/custom-webpack/README.md)\n- [Version 10](https://github.com/just-jeb/angular-builders/blob/10.x.x/packages/custom-webpack/README.md)\n\n## Prerequisites:\n\n- [Angular CLI 10](https://www.npmjs.com/package/@angular/cli)\n\n# Usage\n\n1.  `npm i -D @angular-builders/custom-webpack`\n2.  In your `angular.json`:\n    ```js\n    \"projects\": {\n      ...\n      \"[project]\": {\n        ...\n        \"architect\": {\n          ...\n          \"[architect-target]\": {\n            \"builder\": \"@angular-builders/custom-webpack:[browser|server|karma|dev-server]\"\n            \"options\": {\n              ...\n            }\n    ```\n    Where:\n    - [project] is the name of the project to which you want to add the builder\n    - [architect-target] is the name of build target you want to run (build, serve, test etc. or any custom target)\n    - [browser|server|karma|dev-server|extract-i18n] one of the supported builders - [browser](#Custom-webpack-browser), [server](#Custom-webpack-server), [karma](#Custom-webpack-Karma), [dev-server](#Custom-webpack-dev-server) or [extract-i18n](#Custom-webpack-extract-i18n)\n3.  If `[architect-target]` is not one of the predefined targets (like build, serve, test etc.) then run it like this:  \n    `ng run [project]:[architect-target]`  \n    If it is one of the predefined targets, you can run it with `ng [architect-target]`\n\n## For Example\n\n- angular.json:\n  ```js\n  \"projects\": {\n    ...\n    \"example-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"build\": {\n          \"builder\": \"@angular-builders/custom-webpack:browser\"\n          \"options\": {\n            ...\n          }\n  ```\n- Run the build: `ng build`\n\n# Builders\n\n- [@angular-builders/custom-webpack:browser](#Custom-webpack-browser)\n- [@angular-builders/custom-webpack:server](#Custom-webpack-server)\n- [@angular-builders/custom-webpack:karma](#Custom-webpack-Karma)\n- [@angular-builders/custom-webpack:dev-server](#Custom-webpack-dev-server)\n- [@angular-builders/custom-webpack:extract-i18n](#Custom-webpack-extract-i18n)\n\n## Custom Webpack `browser`\n\nExtended `@angular-devkit/build-angular:browser` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:browser` does with extra parameters that are specified in the provided webpack configuration. It will also run transformation on `index.html` if specified.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:browser` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n- `indexTransform`: [see below](#index-transform)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"externals\": \"replace\"\n        }\n      },\n      \"indexTransform\": \"./index-html-transform.js\",\n      \"outputPath\": \"dist/my-cool-client\",\n      \"index\": \"src/index.html\",\n      \"main\": \"src/main.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.app.json\"\n    }\n```\n\nIn this example `externals` entry from `extra-webpack.config.js` will replace `externals` entry from Angular CLI underlying webpack config while all the rest will be appended. In addition `index.html` will be modified by the function exported from `./index-html-transform.js`.\n\n## Custom Webpack `dev-server`\n\nEnhanced `@angular-devkit/build-angular:dev-server` builder that leverages the custom webpack builder to get webpack configuration.\n\nUnlike the default `@angular-devkit/build-angular:dev-server` it doesn't use `@angular-devkit/build-angular:browser` configuration to run the dev server. Instead it uses `customWebpackConfiguration` from `browserTarget` and runs custom webpack dev server build.\n\nThus, if you use `@angular-builders/custom-webpack:dev-server` along with `@angular-builders/custom-webpack:browser`, `ng serve` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"serve\": {\n    \"builder\": \"@angular-builders/custom-webpack:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `dev-server` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the serve target.\n\n## Custom Webpack `server`\n\nExtended `@angular-devkit/build-angular:server` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:server` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:server` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:server\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\",\n        \"mergeStrategies\": {\n          \"module.rules\": \"prepend\"\n        },\n        \"replaceDuplicatePlugins\": true\n      },\n      \"outputPath\": \"dist/my-cool-server\",\n      \"main\": \"src/main.server.ts\",\n      \"tsConfig\": \"src/tsconfig.server.json\"\n    }\n```\n\nIn this example `module.rules` entry from `extra-webpack.config.js` will be prepended to `module.rules` entry from Angular CLI underlying webpack config while all the rest will be appended.\nSince loaders are evaluated [from right to left](https://webpack.js.org/concepts/loaders/#configuration) this will effectively mean that the loaders you define in your custom configuration will be applied **after** the loaders defined by Angular CLI.\n\n## Custom Webpack `karma`\n\nExtended `@angular-devkit/build-angular:karma` builder that allows to specify additional webpack configuration (on top of the existing under the hood) and `index.html` transformations.\nThe builder will run the same build as `@angular-devkit/build-angular:karma` does with extra parameters that are specified in the provided webpack configuration.\n\nBuilder options:\n\n- All the `@angular-devkit/build-angular:karma` options\n- `customWebpackConfig`: [see below](#custom-webpack-config-object)\n\n`angular.json` Example:\n\n```js\n\"architect\": {\n  ...\n  \"test\": {\n    \"builder\": \"@angular-builders/custom-webpack:karma\"\n    \"options\": {\n      \"customWebpackConfig\": {\n        \"path\": \"./extra-webpack.config.js\"\n      },\n      \"main\": \"src/test.ts\",\n      \"polyfills\": \"src/polyfills.ts\",\n      \"tsConfig\": \"src/tsconfig.spec.json\",\n      \"karmaConfig\": \"src/karma.conf.js\",\n    }\n```\n\n## Custom Webpack `extract-i18n`\n\nEnhanced `@angular-devkit/build-angular:extract-i18n` builder that leverages the custom webpack builder to get webpack configuration.\n\nThe builder uses `customWebpackConfiguration` from `browserTarget` to run the extraction process while taking into account changes in your custom webpack config.\n\nThus, if you use `@angular-builders/custom-webpack:extract-i18n` along with `@angular-builders/custom-webpack:browser`, `ng extract-i18n` will run with custom configuration provided in the latter.\n\n### Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\",\n    \"options\": {\n      \"customWebpackConfig\": {\n         \"path\": \"./extra-webpack.config.js\"\n      },\n      ...\n    }\n  },\n  \"extract-i18n\": {\n    \"builder\": \"@angular-builders/custom-webpack:extract-i18n\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    }\n  }\n```\n\nIn this example `extract-i18n` will use `custom-webpack:browser` builder, hence modified webpack config, when invoking the extract-i18n target.\n\n# Custom Webpack Config Object\n\nThis option defines your custom webpack configuration. If not specified at all, plain Angular build will run.  \nThe following properties are available:\n\n- `path`: path to the extra webpack configuration, defaults to `webpack.config.js`.\n  The configuration file can export either an object or a function. If it is an object it shall contain only modifications and additions, you don't have to specify the whole webpack configuration.  \n   Thus, if you'd like to add some options to `style-loader` (which already there because of default Angular configuration), you only have to specify this part of the loader:\n  ```js\n  {\n    test: /\\.css$/,\n    use: [\n      {\n        loader: 'style-loader',\n        options: {\n          // `style-loader` options here...\n        }\n      }\n    ]\n  }\n  ```\n  The builder will take care of merging the delta with the existing configuration provided by Angular.  \n   In more complicated cases you'd probably want to [use a function](#custom-webpack-config-function) instead of an object.\n- `mergeStrategies`: webpack config merge strategies, can be `append | prepend | replace` per webpack config entry. Defaults to `append`.\n  - `append`: appends the given entry configuration (in custom webpack config) to the existing Angular CLI webpack configuration.\n  - `prepend`: prepends the given entry configuration (in custom webpack config) to the existing field configuration (in Angular CLI webpack config). The custom loaders config will be added to the _beginning_ of the existing loaders array.\n  - `replace`: replaces the given entry configuration entirely. The custom webpack config will replace the Angular CLI webpack config (for this particular entry).\n    See [webpack-merge](https://github.com/survivejs/webpack-merge) for more info.\n- `replaceDuplicatePlugins`: Defaults to `false`. If `true`, the plugins in custom webpack config will replace the corresponding plugins in default Angular CLI webpack configuration. If `false`, the [default behavior](#merging-plugins-configuration) will be applied.\n  **Note that if `true`, this option will override `mergeStrategies` for `plugins` field.**\n\nWebpack configuration can be also written in TypeScript. Given the following example:\n\n```ts\n// extra-webpack.config.ts\nimport * as webpack from 'webpack';\n\nexport default {\n  output: {\n    library: 'shop',\n    libraryTarget: 'umd',\n  },\n} as webpack.Configuration;\n```\n\nDo not forget to specify the correct path to this file:\n\n```js\n\"customWebpackConfig\": {\n  \"path\": \"./extra-webpack.config.ts\"\n},\n```\n\n## Merging Plugins Configuration:\n\nIf in your custom configuration you specify a plugin that is already added by Angular CLI then by default the two instances will be merged.  \nIn case of the conflicts your configuration will override the existing one.  \nThus, if you'd like to modify an existing plugin configuration, all you have to do is specify the _delta_ you want to change.  \nFor example, if you'd like to allow cyclic dependencies that include dynamic imports you only have to specify this single entry:\n\n```js\nmodule.exports = {\n  plugins: [\n    new CircularDependencyPlugin({\n      allowAsyncCycles: true,\n    }),\n  ],\n};\n```\n\nKeep in mind though that if there are default values in the plugin's constructor, they would override the corresponding values in the existing instance. So these you have to set explicitly to the same values Angular sets.  \nYou can check out an example for plugins merge in the [unit tests](./src/webpack-config-merger.spec.ts) and in [this](https://github.com/just-jeb/angular-builders/issues/13) issue.\n\n## Custom Webpack Promisified Config\n\nWebpack config can also export a `Promise` object that resolves custom config. Given the following example:\n\n```js\n// extra-webpack.config.js\nconst fs = require('fs');\nconst util = require('util');\nconst webpack = require('webpack');\n\nconst readFile = util.promisify(fs.readFile);\n\nmodule.exports = readFile('./LICENSE', {\n  encoding: 'utf-8',\n}).then(license => ({\n  plugins: [new webpack.BannerPlugin(license)],\n}));\n```\n\nIn this case, the behavior will be the same as when exporting a plain object — the resolved configuration will be merged with the base one.\n\n## Custom Webpack Config Function\n\nIf `customWebpackConfig.path` file exports a function, the behaviour of the builder changes : no more automatic merge is applied, instead the function\nis called with the base Webpack configuration and must return the new configuration.\n\nThe function is called with the base config the builder options and the target options as parameters.\n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema\nand can be used to manipulate your build based on the build target.\n\nIn this case, `mergeStrategies` and `replaceDuplicatePlugins` options have no effect.\n\n`custom-webpack.config.js` example :\n\n```js\nconst webpack = require('webpack');\nconst pkg = require('./package.json');\n\nmodule.exports = (config, options, targetOptions) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { CustomWebpackBrowserSchema, TargetOptions } from '@angular-builders/custom-webpack';\nimport * as webpack from 'webpack';\nimport * as pkg from './package.json';\n\nexport default (\n  config: webpack.Configuration,\n  options: CustomWebpackBrowserSchema,\n  targetOptions: TargetOptions\n) => {\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(pkg.version),\n    })\n  );\n\n  return config;\n};\n```\n\nIt's also possible to export an asynchronous factory (factory that returns a `Promise` object). Let's look at the following example:\n\n```js\n// extra-webpack.config.js\nconst axios = require('axios');\nconst webpack = require('webpack');\n\nasync function getPortalVersion() {\n  const response = await axios.get('http://portal.com/version');\n  return response.data.version;\n}\n\nmodule.exports = async config => {\n  const version = await getPortalVersion();\n\n  config.plugins.push(\n    new webpack.DefinePlugin({\n      APP_VERSION: JSON.stringify(version),\n    })\n  );\n\n  return config;\n};\n```\n\n# Index Transform\n\nSince Angular 8 `index.html` is not generated as part of the Webpack build. If you want to modify your `index.html` you should use `indexTransform` option.  \n`indexTransform` is a path (relative to workspace root) to a `.js` or `.ts` file that exports transformation function for `index.html`.  \nFunction signature is as following:\n\n```typescript\n(options: TargetOptions, indexHtmlContent: string) => string|Promise<string>;\n```\n\nor, in other words, the function receives target options and original `index.html` content (generated by Angular CLI) and returns a new content as `string` or `Promise`.  \n`TargetOptions` follows `target` definition from [this](https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/architect/src/input-schema.json) schema and looks like this:\n\n```typescript\nexport interface Target {\n  configuration?: string;\n  project: string;\n  target: string;\n}\n```\n\nIt is useful when you want to transform your `index.html` according to the build options.\n\n## Example\n\n`angular.json`:\n\n```js\n\"architect\": {\n  ...\n  \"build\": {\n    \"builder\": \"@angular-builders/custom-webpack:browser\"\n    \"options\": {\n      \"indexTransform\": \"./index-html-transform.js\"\n      ...\n    }\n```\n\n`index-html-transform.js`:\n\n```js\nmodule.exports = (targetOptions, indexHtml) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nAlternatively, using TypeScript:\n\n```ts\nimport { TargetOptions } from '@angular-builders/custom-webpack';\n\nexport default (targetOptions: TargetOptions, indexHtml: string) => {\n  const i = indexHtml.indexOf('</body>');\n  const config = `<p>Configuration: ${targetOptions.configuration}</p>`;\n  return `${indexHtml.slice(0, i)}\n            ${config}\n            ${indexHtml.slice(i)}`;\n};\n```\n\nIn the example we add a paragraph with build configuration to your `index.html`. It is a very simple example without any asynchronous code but you can also return a `Promise` from this function.\n\nFull example [here](./examples/full-cycle-app).\n\n# Further Reading\n\n- [Customizing Angular CLI build - an alternative to ng eject](https://medium.com/angular-in-depth/customizing-angular-cli-build-an-alternative-to-ng-eject-v2-c655768b48cc)\n","readmeFilename":"README.md","bugs":{"url":"https://github.com/just-jeb/angular-builders/issues"},"homepage":"https://github.com/just-jeb/angular-builders#readme","_id":"@angular-builders/custom-webpack@11.0.0-beta.1","_nodeVersion":"12.18.2","_npmVersion":"lerna/3.22.1/node@v12.18.2+x64 (darwin)","dist":{"integrity":"sha512-k7ZKa0B03cGXeh8TBMZ362gpUpVyGkwLAVCoiQ/PsZcadtWH74DFlHdO8af6Hfwhk/h2YTDSXSEvNl/MKsp8Cg==","shasum":"a49add29d9cacbac71e77dd6929ddd3628184bb3","tarball":"https://registry.npmjs.org/@angular-builders/custom-webpack/-/custom-webpack-11.0.0-beta.1.tgz","fileCount":52,"unpackedSize":95655,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJftEppCRA9TVsSAnZWagAAOAgP/jk/Qbt1JhSqTBBnc8ib\nYtX1Zx3wyQFXF5LaaUZMDKzHYn2w+lCsM3W+yrMka85sS1OgoFrXu6YgnfWs\n4M0SNG0USCPqAqVfEGLwqGH3Hb2bN2nH8eVcg0ycvkIhc6A+5RuJoVYJ1G8e\nviWSO4+SdzDR8NYoM5cC0sHXxuHQz92+ljVGo3s8FGMnhWXQgSgOTbY1TC+x\nBrwBAFK+z5Ka7Bg5umHC08MNcIpOukjXz9iP8WpnAZw1pk/wuzhqPIlS8niU\nLBvJjoplHxYqgtP7r5R0ii9twd3kvovlNWhA+NVxgG1t9XzWfz5pT2NmQ1ss\nYScE9kCPhllI/LZtJswrJA15J3jyYtuJeRIQ8XqzgXmIAkidJahYbrZ5gBO7\nVbZE2ISItniDfqlwi4/U8rs+ldj1c9ChsadbGRWF4pFiLg2JiT/svoRgAbcd\nlKYzsBU9mB/VAt6BhISNyqDg7SGnjn5Kx4CiAJrXCb5m13ZphDBjmg+/Bwyr\nQcVLIelpNV7pgbMEqqwIsMT27/0gQTSV8PuxqJPbLvP5E1p4teQhY9BoIDJg\nV77IWgoJ0lwlQgjUQNtw/+4jPexu5sBQzyspgPzxpGq9pbQfdQS6V+idNEum\nVxujmBM4oXC9nUJgka+EbUX1pgoEbaWPk5/86vptS2oIonCdH0pUFswwEfrv\nyhE/\r\n=B3L+\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"justjeb","email":"jebbacca@gmail.com"},"directories":{},"maintainers":[{"name":"justjeb","email":"jebbacca@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/custom-webpack_11.0.0-beta.1_1605651049395_0.6462247052051815"},"_hasShrinkwrap":false}},"time":{"created":"2018-08-19T09:05:59.923Z","2.2.0":"2018-08-19T09:06:00.373Z","modified":"2020-11-17T22:10:54.591Z","2.2.1":"2018-08-19T09:09:14.726Z","2.3.0-beta.1":"2018-08-24T14:59:25.046Z","2.3.0":"2018-09-01T08:42:33.138Z","2.3.1":"2018-09-07T13:26:44.189Z","2.4.0":"2018-09-09T13:34:52.824Z","2.4.1":"2018-09-11T21:21:21.682Z","2.5.0":"2018-10-05T17:48:30.448Z","2.5.1":"2018-10-05T17:52:17.809Z","2.5.2":"2018-10-05T18:31:54.809Z","2.5.3":"2018-10-05T18:33:51.966Z","2.5.4":"2018-10-08T10:24:23.483Z","6.0.0":"2018-10-27T21:29:10.475Z","7.0.0":"2018-10-27T21:57:22.130Z","7.1.1":"2018-12-04T16:11:52.907Z","7.2.0":"2019-01-09T15:44:46.713Z","7.3.0":"2019-02-04T13:05:50.622Z","7.4.0":"2019-02-05T20:08:10.344Z","7.3.1":"2019-02-05T20:09:53.087Z","7.4.1":"2019-03-04T20:32:34.600Z","7.4.2":"2019-03-07T20:42:33.859Z","7.4.3":"2019-03-09T16:12:28.473Z","8.0.0-beta.1":"2019-04-13T18:44:45.058Z","8.0.0-beta.2":"2019-04-21T20:03:52.834Z","8.0.0-RC.0":"2019-04-30T13:52:43.608Z","8.0.0-RC.1":"2019-04-30T16:00:43.709Z","8.0.0":"2019-05-29T08:48:12.526Z","8.0.1":"2019-05-29T09:33:50.872Z","7.5.0":"2019-06-02T12:57:51.730Z","7.5.1":"2019-06-02T12:59:12.474Z","7.5.2":"2019-06-02T13:18:55.774Z","8.0.2":"2019-06-02T13:27:07.563Z","8.1.0-beta.0":"2019-06-23T22:07:42.551Z","8.1.0":"2019-07-10T14:12:06.341Z","8.2.0":"2019-08-17T15:21:46.420Z","8.3.0":"2019-11-17T20:20:56.431Z","8.4.0":"2019-11-19T17:19:41.100Z","8.4.1":"2019-11-29T21:17:36.612Z","9.0.0-beta.0":"2020-01-04T20:46:39.565Z","9.0.0-beta.6":"2020-01-24T22:28:38.006Z","9.0.0-beta.7":"2020-01-25T19:25:20.411Z","9.0.0-beta.1":"2020-01-28T21:48:10.132Z","9.0.0-beta.2":"2020-02-23T17:02:10.725Z","9.0.0":"2020-02-23T17:35:38.488Z","9.0.1-beta.0":"2020-02-23T18:23:49.002Z","9.1.0-beta.0":"2020-02-27T10:19:28.648Z","9.1.0-beta.1":"2020-03-29T11:50:07.031Z","9.1.0":"2020-04-05T09:55:33.265Z","9.2.0-beta.0":"2020-04-15T15:40:20.905Z","9.2.0":"2020-06-23T15:29:25.702Z","9.2.1-beta.0":"2020-06-23T16:58:17.986Z","10.0.0-beta.0":"2020-06-25T14:38:09.607Z","10.0.0-beta.1":"2020-07-13T08:32:27.112Z","10.0.0":"2020-07-21T14:43:09.946Z","10.0.1-beta.0":"2020-09-01T03:43:37.681Z","10.0.1-beta.1":"2020-09-06T15:14:03.279Z","10.0.1":"2020-09-09T14:08:14.123Z","10.0.2-beta.0":"2020-09-09T18:49:41.589Z","10.1.0-beta.0":"2020-09-10T14:25:08.905Z","11.0.0-beta.0":"2020-11-17T21:52:54.154Z","11.0.0-beta.1":"2020-11-17T22:10:49.521Z"},"maintainers":[{"name":"justjeb","email":"jebbacca@gmail.com"}],"description":"Custom webpack builders for Angular build facade. Allow to modify Angular build configuration without ejecting it","keywords":["cli","angular","builder","angular6","angular-cli","webpack","custom"],"repository":{"type":"git","url":"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack"},"author":{"name":"JeB Barabanov"},"license":"MIT","readme":"","readmeFilename":""}