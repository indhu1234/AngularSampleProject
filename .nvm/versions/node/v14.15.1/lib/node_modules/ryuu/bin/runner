#!/usr/bin/env node

process.on('unhandledRejection', on_unhandled_error);
process.on('uncaughtException', on_unhandled_error);

var os = require('os'),
    path = require('path');

var already_warned = false;
function on_unhandled_error(err) {
    if (already_warned) {
        return;
    }

    already_warned = true;

    console.log('');
    console.error('[ERROR] The domo cli tool has experienced an error. As it is');
    console.error('[ERROR] possible this bug has already been fixed, please try updating');
    console.error('[ERROR] using `npm install -g ryuu` and run this command again. If this');
    console.error('[ERROR] does not fix the issue, please contact your MajorDomo.');
    console.error('[ERROR] error message: %s', err.message);
}

// enable source maps
require('source-map-support').install();

require('./domo');
